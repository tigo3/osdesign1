function $x(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var M0={exports:{}},$u={},V0={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ga=Symbol.for("react.element"),qx=Symbol.for("react.portal"),zx=Symbol.for("react.fragment"),Hx=Symbol.for("react.strict_mode"),Wx=Symbol.for("react.profiler"),Kx=Symbol.for("react.provider"),Gx=Symbol.for("react.context"),Qx=Symbol.for("react.forward_ref"),Yx=Symbol.for("react.suspense"),Xx=Symbol.for("react.memo"),Jx=Symbol.for("react.lazy"),ug=Symbol.iterator;function Zx(t){return t===null||typeof t!="object"?null:(t=ug&&t[ug]||t["@@iterator"],typeof t=="function"?t:null)}var F0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U0=Object.assign,B0={};function Io(t,e,n){this.props=t,this.context=e,this.refs=B0,this.updater=n||F0}Io.prototype.isReactComponent={};Io.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Io.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $0(){}$0.prototype=Io.prototype;function yd(t,e,n){this.props=t,this.context=e,this.refs=B0,this.updater=n||F0}var vd=yd.prototype=new $0;vd.constructor=yd;U0(vd,Io.prototype);vd.isPureReactComponent=!0;var cg=Array.isArray,q0=Object.prototype.hasOwnProperty,_d={current:null},z0={key:!0,ref:!0,__self:!0,__source:!0};function H0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)q0.call(e,r)&&!z0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ga,type:t,key:o,ref:s,props:i,_owner:_d.current}}function eT(t,e){return{$$typeof:ga,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wd(t){return typeof t=="object"&&t!==null&&t.$$typeof===ga}function tT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fg=/\/+/g;function Qc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tT(""+t.key):e.toString(36)}function xl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ga:case qx:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Qc(s,0):r,cg(i)?(n="",t!=null&&(n=t.replace(fg,"$&/")+"/"),xl(i,e,n,"",function(c){return c})):i!=null&&(wd(i)&&(i=eT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(fg,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",cg(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Qc(o,a);s+=xl(o,e,n,l,i)}else if(l=Zx(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Qc(o,a++),s+=xl(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ja(t,e,n){if(t==null)return t;var r=[],i=0;return xl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function nT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},Tl={transition:null},rT={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Tl,ReactCurrentOwner:_d};function W0(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Ja,forEach:function(t,e,n){Ja(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ja(t,function(){e++}),e},toArray:function(t){return Ja(t,function(e){return e})||[]},only:function(t){if(!wd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=Io;ke.Fragment=zx;ke.Profiler=Wx;ke.PureComponent=yd;ke.StrictMode=Hx;ke.Suspense=Yx;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rT;ke.act=W0;ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=U0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=_d.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)q0.call(e,l)&&!z0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ga,type:t.type,key:i,ref:o,props:r,_owner:s}};ke.createContext=function(t){return t={$$typeof:Gx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kx,_context:t},t.Consumer=t};ke.createElement=H0;ke.createFactory=function(t){var e=H0.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:Qx,render:t}};ke.isValidElement=wd;ke.lazy=function(t){return{$$typeof:Jx,_payload:{_status:-1,_result:t},_init:nT}};ke.memo=function(t,e){return{$$typeof:Xx,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=Tl.transition;Tl.transition={};try{t()}finally{Tl.transition=e}};ke.unstable_act=W0;ke.useCallback=function(t,e){return Ut.current.useCallback(t,e)};ke.useContext=function(t){return Ut.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};ke.useEffect=function(t,e){return Ut.current.useEffect(t,e)};ke.useId=function(){return Ut.current.useId()};ke.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return Ut.current.useMemo(t,e)};ke.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};ke.useRef=function(t){return Ut.current.useRef(t)};ke.useState=function(t){return Ut.current.useState(t)};ke.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return Ut.current.useTransition()};ke.version="18.3.1";V0.exports=ke;var Q=V0.exports;const iT=D0(Q),oT=$x({__proto__:null,default:iT},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT=Q,aT=Symbol.for("react.element"),lT=Symbol.for("react.fragment"),uT=Object.prototype.hasOwnProperty,cT=sT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fT={key:!0,ref:!0,__self:!0,__source:!0};function K0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)uT.call(e,r)&&!fT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aT,type:t,key:o,ref:s,props:i,_owner:cT.current}}$u.Fragment=lT;$u.jsx=K0;$u.jsxs=K0;M0.exports=$u;var k=M0.exports,G0={exports:{}},rn={},Q0={exports:{}},Y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,$){var F=K.length;K.push($);e:for(;0<F;){var L=F-1>>>1,M=K[L];if(0<i(M,$))K[L]=$,K[F]=M,F=L;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var $=K[0],F=K.pop();if(F!==$){K[0]=F;e:for(var L=0,M=K.length,B=M>>>1;L<B;){var G=2*(L+1)-1,H=K[G],V=G+1,q=K[V];if(0>i(H,F))V<M&&0>i(q,H)?(K[L]=q,K[V]=F,L=V):(K[L]=H,K[G]=F,L=G);else if(V<M&&0>i(q,F))K[L]=q,K[V]=F,L=V;else break e}}return $}function i(K,$){var F=K.sortIndex-$.sortIndex;return F!==0?F:K.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,w=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=K)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function y(K){if(v=!1,_(K),!w)if(n(l)!==null)w=!0,z(N);else{var $=n(c);$!==null&&W(y,$.startTime-K)}}function N(K,$){w=!1,v&&(v=!1,p(b),b=-1),m=!0;var F=f;try{for(_($),h=n(l);h!==null&&(!(h.expirationTime>$)||K&&!S());){var L=h.callback;if(typeof L=="function"){h.callback=null,f=h.priorityLevel;var M=L(h.expirationTime<=$);$=t.unstable_now(),typeof M=="function"?h.callback=M:h===n(l)&&r(l),_($)}else r(l);h=n(l)}if(h!==null)var B=!0;else{var G=n(c);G!==null&&W(y,G.startTime-$),B=!1}return B}finally{h=null,f=F,m=!1}}var O=!1,x=null,b=-1,C=5,T=-1;function S(){return!(t.unstable_now()-T<C)}function P(){if(x!==null){var K=t.unstable_now();T=K;var $=!0;try{$=x(!0,K)}finally{$?A():(O=!1,x=null)}}else O=!1}var A;if(typeof g=="function")A=function(){g(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,U=D.port2;D.port1.onmessage=P,A=function(){U.postMessage(null)}}else A=function(){E(P,0)};function z(K){x=K,O||(O=!0,A())}function W(K,$){b=E(function(){K(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,z(N))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var F=f;f=$;try{return K()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,$){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var F=f;f=K;try{return $()}finally{f=F}},t.unstable_scheduleCallback=function(K,$,F){var L=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?L+F:L):F=L,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=F+M,K={id:d++,callback:$,priorityLevel:K,startTime:F,expirationTime:M,sortIndex:-1},F>L?(K.sortIndex=F,e(c,K),n(l)===null&&K===n(c)&&(v?(p(b),b=-1):v=!0,W(y,F-L))):(K.sortIndex=M,e(l,K),w||m||(w=!0,z(N))),K},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(K){var $=f;return function(){var F=f;f=$;try{return K.apply(this,arguments)}finally{f=F}}}})(Y0);Q0.exports=Y0;var hT=Q0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT=Q,nn=hT;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X0=new Set,Vs={};function Si(t,e){uo(t,e),uo(t+"Capture",e)}function uo(t,e){for(Vs[t]=e,t=0;t<e.length;t++)X0.add(e[t])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$f=Object.prototype.hasOwnProperty,pT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hg={},dg={};function mT(t){return $f.call(dg,t)?!0:$f.call(hg,t)?!1:pT.test(t)?dg[t]=!0:(hg[t]=!0,!1)}function gT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yT(t,e,n,r){if(e===null||typeof e>"u"||gT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ed=/[\-:]([a-z])/g;function bd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ed,bd);bt[e]=new Bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ed,bd);bt[e]=new Bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ed,bd);bt[e]=new Bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function xd(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yT(e,n,i,r)&&(n=null),r||i===null?mT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ir=dT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Za=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),Bi=Symbol.for("react.fragment"),Td=Symbol.for("react.strict_mode"),qf=Symbol.for("react.profiler"),J0=Symbol.for("react.provider"),Z0=Symbol.for("react.context"),Sd=Symbol.for("react.forward_ref"),zf=Symbol.for("react.suspense"),Hf=Symbol.for("react.suspense_list"),Id=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),e_=Symbol.for("react.offscreen"),pg=Symbol.iterator;function rs(t){return t===null||typeof t!="object"?null:(t=pg&&t[pg]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,Yc;function ps(t){if(Yc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yc=e&&e[1]||""}return`
`+Yc+t}var Xc=!1;function Jc(t,e){if(!t||Xc)return"";Xc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Xc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ps(t):""}function vT(t){switch(t.tag){case 5:return ps(t.type);case 16:return ps("Lazy");case 13:return ps("Suspense");case 19:return ps("SuspenseList");case 0:case 2:case 15:return t=Jc(t.type,!1),t;case 11:return t=Jc(t.type.render,!1),t;case 1:return t=Jc(t.type,!0),t;default:return""}}function Wf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bi:return"Fragment";case Ui:return"Portal";case qf:return"Profiler";case Td:return"StrictMode";case zf:return"Suspense";case Hf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z0:return(t.displayName||"Context")+".Consumer";case J0:return(t._context.displayName||"Context")+".Provider";case Sd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Id:return e=t.displayName||null,e!==null?e:Wf(t.type)||"Memo";case hr:e=t._payload,t=t._init;try{return Wf(t(e))}catch{}}return null}function _T(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wf(e);case 8:return e===Td?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function t_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wT(t){var e=t_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function el(t){t._valueTracker||(t._valueTracker=wT(t))}function n_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=t_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kf(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function r_(t,e){e=e.checked,e!=null&&xd(t,"checked",e,!1)}function Gf(t,e){r_(t,e);var n=Fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qf(t,e.type,Fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qf(t,e,n){(e!=="number"||Kl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ms=Array.isArray;function Zi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Yf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(ms(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fr(n)}}function i_(t,e){var n=Fr(e.value),r=Fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function o_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?o_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tl,s_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tl=tl||document.createElement("div"),tl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ET=["Webkit","ms","Moz","O"];Object.keys(Ts).forEach(function(t){ET.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ts[e]=Ts[t]})});function a_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ts.hasOwnProperty(t)&&Ts[t]?(""+e).trim():e+"px"}function l_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=a_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bT=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jf(t,e){if(e){if(bT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function Zf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eh=null;function Ad(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var th=null,eo=null,to=null;function _g(t){if(t=_a(t)){if(typeof th!="function")throw Error(se(280));var e=t.stateNode;e&&(e=Ku(e),th(t.stateNode,t.type,e))}}function u_(t){eo?to?to.push(t):to=[t]:eo=t}function c_(){if(eo){var t=eo,e=to;if(to=eo=null,_g(t),e)for(t=0;t<e.length;t++)_g(e[t])}}function f_(t,e){return t(e)}function h_(){}var Zc=!1;function d_(t,e,n){if(Zc)return t(e,n);Zc=!0;try{return f_(t,e,n)}finally{Zc=!1,(eo!==null||to!==null)&&(h_(),c_())}}function Us(t,e){var n=t.stateNode;if(n===null)return null;var r=Ku(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var nh=!1;if(Qn)try{var is={};Object.defineProperty(is,"passive",{get:function(){nh=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{nh=!1}function xT(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ss=!1,Gl=null,Ql=!1,rh=null,TT={onError:function(t){Ss=!0,Gl=t}};function ST(t,e,n,r,i,o,s,a,l){Ss=!1,Gl=null,xT.apply(TT,arguments)}function IT(t,e,n,r,i,o,s,a,l){if(ST.apply(this,arguments),Ss){if(Ss){var c=Gl;Ss=!1,Gl=null}else throw Error(se(198));Ql||(Ql=!0,rh=c)}}function Ii(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function p_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wg(t){if(Ii(t)!==t)throw Error(se(188))}function AT(t){var e=t.alternate;if(!e){if(e=Ii(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return wg(i),t;if(o===r)return wg(i),e;o=o.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function m_(t){return t=AT(t),t!==null?g_(t):null}function g_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=g_(t);if(e!==null)return e;t=t.sibling}return null}var y_=nn.unstable_scheduleCallback,Eg=nn.unstable_cancelCallback,kT=nn.unstable_shouldYield,NT=nn.unstable_requestPaint,rt=nn.unstable_now,PT=nn.unstable_getCurrentPriorityLevel,kd=nn.unstable_ImmediatePriority,v_=nn.unstable_UserBlockingPriority,Yl=nn.unstable_NormalPriority,CT=nn.unstable_LowPriority,__=nn.unstable_IdlePriority,qu=null,Rn=null;function RT(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(qu,t,void 0,(t.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:jT,OT=Math.log,LT=Math.LN2;function jT(t){return t>>>=0,t===0?32:31-(OT(t)/LT|0)|0}var nl=64,rl=4194304;function gs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=gs(a):(o&=s,o!==0&&(r=gs(o)))}else s=n&~i,s!==0?r=gs(s):o!==0&&(r=gs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wn(e),i=1<<n,r|=t[n],e&=~i;return r}function DT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-wn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=DT(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function ih(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function w_(){var t=nl;return nl<<=1,!(nl&4194240)&&(nl=64),t}function ef(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ya(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wn(e),t[e]=n}function VT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Nd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function E_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var b_,Pd,x_,T_,S_,oh=!1,il=[],Tr=null,Sr=null,Ir=null,Bs=new Map,$s=new Map,pr=[],FT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bg(t,e){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Bs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(e.pointerId)}}function os(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=_a(e),e!==null&&Pd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UT(t,e,n,r,i){switch(e){case"focusin":return Tr=os(Tr,t,e,n,r,i),!0;case"dragenter":return Sr=os(Sr,t,e,n,r,i),!0;case"mouseover":return Ir=os(Ir,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Bs.set(o,os(Bs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,$s.set(o,os($s.get(o)||null,t,e,n,r,i)),!0}return!1}function I_(t){var e=li(t.target);if(e!==null){var n=Ii(e);if(n!==null){if(e=n.tag,e===13){if(e=p_(n),e!==null){t.blockedOn=e,S_(t.priority,function(){x_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);eh=r,n.target.dispatchEvent(r),eh=null}else return e=_a(n),e!==null&&Pd(e),t.blockedOn=n,!1;e.shift()}return!0}function xg(t,e,n){Sl(t)&&n.delete(e)}function BT(){oh=!1,Tr!==null&&Sl(Tr)&&(Tr=null),Sr!==null&&Sl(Sr)&&(Sr=null),Ir!==null&&Sl(Ir)&&(Ir=null),Bs.forEach(xg),$s.forEach(xg)}function ss(t,e){t.blockedOn===e&&(t.blockedOn=null,oh||(oh=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,BT)))}function qs(t){function e(i){return ss(i,t)}if(0<il.length){ss(il[0],t);for(var n=1;n<il.length;n++){var r=il[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tr!==null&&ss(Tr,t),Sr!==null&&ss(Sr,t),Ir!==null&&ss(Ir,t),Bs.forEach(e),$s.forEach(e),n=0;n<pr.length;n++)r=pr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pr.length&&(n=pr[0],n.blockedOn===null);)I_(n),n.blockedOn===null&&pr.shift()}var no=ir.ReactCurrentBatchConfig,Jl=!0;function $T(t,e,n,r){var i=Me,o=no.transition;no.transition=null;try{Me=1,Cd(t,e,n,r)}finally{Me=i,no.transition=o}}function qT(t,e,n,r){var i=Me,o=no.transition;no.transition=null;try{Me=4,Cd(t,e,n,r)}finally{Me=i,no.transition=o}}function Cd(t,e,n,r){if(Jl){var i=sh(t,e,n,r);if(i===null)ff(t,e,r,Zl,n),bg(t,r);else if(UT(i,t,e,n,r))r.stopPropagation();else if(bg(t,r),e&4&&-1<FT.indexOf(t)){for(;i!==null;){var o=_a(i);if(o!==null&&b_(o),o=sh(t,e,n,r),o===null&&ff(t,e,r,Zl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ff(t,e,r,null,n)}}var Zl=null;function sh(t,e,n,r){if(Zl=null,t=Ad(r),t=li(t),t!==null)if(e=Ii(t),e===null)t=null;else if(n=e.tag,n===13){if(t=p_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zl=t,null}function A_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PT()){case kd:return 1;case v_:return 4;case Yl:case CT:return 16;case __:return 536870912;default:return 16}default:return 16}}var wr=null,Rd=null,Il=null;function k_(){if(Il)return Il;var t,e=Rd,n=e.length,r,i="value"in wr?wr.value:wr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Il=i.slice(t,1<r?1-r:void 0)}function Al(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ol(){return!0}function Tg(){return!1}function on(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ol:Tg,this.isPropagationStopped=Tg,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),e}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Od=on(Ao),va=Xe({},Ao,{view:0,detail:0}),zT=on(va),tf,nf,as,zu=Xe({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==as&&(as&&t.type==="mousemove"?(tf=t.screenX-as.screenX,nf=t.screenY-as.screenY):nf=tf=0,as=t),tf)},movementY:function(t){return"movementY"in t?t.movementY:nf}}),Sg=on(zu),HT=Xe({},zu,{dataTransfer:0}),WT=on(HT),KT=Xe({},va,{relatedTarget:0}),rf=on(KT),GT=Xe({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),QT=on(GT),YT=Xe({},Ao,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XT=on(YT),JT=Xe({},Ao,{data:0}),Ig=on(JT),ZT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tS[t])?!!e[t]:!1}function Ld(){return nS}var rS=Xe({},va,{key:function(t){if(t.key){var e=ZT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Al(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(t){return t.type==="keypress"?Al(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Al(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iS=on(rS),oS=Xe({},zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ag=on(oS),sS=Xe({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),aS=on(sS),lS=Xe({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),uS=on(lS),cS=Xe({},zu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fS=on(cS),hS=[9,13,27,32],jd=Qn&&"CompositionEvent"in window,Is=null;Qn&&"documentMode"in document&&(Is=document.documentMode);var dS=Qn&&"TextEvent"in window&&!Is,N_=Qn&&(!jd||Is&&8<Is&&11>=Is),kg=" ",Ng=!1;function P_(t,e){switch(t){case"keyup":return hS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $i=!1;function pS(t,e){switch(t){case"compositionend":return C_(e);case"keypress":return e.which!==32?null:(Ng=!0,kg);case"textInput":return t=e.data,t===kg&&Ng?null:t;default:return null}}function mS(t,e){if($i)return t==="compositionend"||!jd&&P_(t,e)?(t=k_(),Il=Rd=wr=null,$i=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return N_&&e.locale!=="ko"?null:e.data;default:return null}}var gS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gS[t.type]:e==="textarea"}function R_(t,e,n,r){u_(r),e=eu(e,"onChange"),0<e.length&&(n=new Od("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var As=null,zs=null;function yS(t){q_(t,0)}function Hu(t){var e=Hi(t);if(n_(e))return t}function vS(t,e){if(t==="change")return e}var O_=!1;if(Qn){var of;if(Qn){var sf="oninput"in document;if(!sf){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),sf=typeof Cg.oninput=="function"}of=sf}else of=!1;O_=of&&(!document.documentMode||9<document.documentMode)}function Rg(){As&&(As.detachEvent("onpropertychange",L_),zs=As=null)}function L_(t){if(t.propertyName==="value"&&Hu(zs)){var e=[];R_(e,zs,t,Ad(t)),d_(yS,e)}}function _S(t,e,n){t==="focusin"?(Rg(),As=e,zs=n,As.attachEvent("onpropertychange",L_)):t==="focusout"&&Rg()}function wS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(zs)}function ES(t,e){if(t==="click")return Hu(e)}function bS(t,e){if(t==="input"||t==="change")return Hu(e)}function xS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:xS;function Hs(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$f.call(e,i)||!bn(t[i],e[i]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lg(t,e){var n=Og(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Og(n)}}function j_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?j_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function D_(){for(var t=window,e=Kl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kl(t.document)}return e}function Dd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TS(t){var e=D_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&j_(n.ownerDocument.documentElement,n)){if(r!==null&&Dd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Lg(n,o);var s=Lg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SS=Qn&&"documentMode"in document&&11>=document.documentMode,qi=null,ah=null,ks=null,lh=!1;function jg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lh||qi==null||qi!==Kl(r)||(r=qi,"selectionStart"in r&&Dd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ks&&Hs(ks,r)||(ks=r,r=eu(ah,"onSelect"),0<r.length&&(e=new Od("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qi)))}function sl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zi={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},af={},M_={};Qn&&(M_=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Wu(t){if(af[t])return af[t];if(!zi[t])return t;var e=zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in M_)return af[t]=e[n];return t}var V_=Wu("animationend"),F_=Wu("animationiteration"),U_=Wu("animationstart"),B_=Wu("transitionend"),$_=new Map,Dg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(t,e){$_.set(t,e),Si(e,[t])}for(var lf=0;lf<Dg.length;lf++){var uf=Dg[lf],IS=uf.toLowerCase(),AS=uf[0].toUpperCase()+uf.slice(1);Kr(IS,"on"+AS)}Kr(V_,"onAnimationEnd");Kr(F_,"onAnimationIteration");Kr(U_,"onAnimationStart");Kr("dblclick","onDoubleClick");Kr("focusin","onFocus");Kr("focusout","onBlur");Kr(B_,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function Mg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IT(r,e,void 0,t),t.currentTarget=null}function q_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Mg(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Mg(i,a,c),o=l}}}if(Ql)throw t=rh,Ql=!1,rh=null,t}function qe(t,e){var n=e[dh];n===void 0&&(n=e[dh]=new Set);var r=t+"__bubble";n.has(r)||(z_(e,t,2,!1),n.add(r))}function cf(t,e,n){var r=0;e&&(r|=4),z_(n,t,r,e)}var al="_reactListening"+Math.random().toString(36).slice(2);function Ws(t){if(!t[al]){t[al]=!0,X0.forEach(function(n){n!=="selectionchange"&&(kS.has(n)||cf(n,!1,t),cf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[al]||(e[al]=!0,cf("selectionchange",!1,e))}}function z_(t,e,n,r){switch(A_(e)){case 1:var i=$T;break;case 4:i=qT;break;default:i=Cd}n=i.bind(null,e,n,t),i=void 0,!nh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ff(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=li(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}d_(function(){var c=o,d=Ad(n),h=[];e:{var f=$_.get(t);if(f!==void 0){var m=Od,w=t;switch(t){case"keypress":if(Al(n)===0)break e;case"keydown":case"keyup":m=iS;break;case"focusin":w="focus",m=rf;break;case"focusout":w="blur",m=rf;break;case"beforeblur":case"afterblur":m=rf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=WT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=aS;break;case V_:case F_:case U_:m=QT;break;case B_:m=uS;break;case"scroll":m=zT;break;case"wheel":m=fS;break;case"copy":case"cut":case"paste":m=XT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ag}var v=(e&4)!==0,E=!v&&t==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var g=c,_;g!==null;){_=g;var y=_.stateNode;if(_.tag===5&&y!==null&&(_=y,p!==null&&(y=Us(g,p),y!=null&&v.push(Ks(g,y,_)))),E)break;g=g.return}0<v.length&&(f=new m(f,w,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==eh&&(w=n.relatedTarget||n.fromElement)&&(li(w)||w[Yn]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?li(w):null,w!==null&&(E=Ii(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(v=Sg,y="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=Ag,y="onPointerLeave",p="onPointerEnter",g="pointer"),E=m==null?f:Hi(m),_=w==null?f:Hi(w),f=new v(y,g+"leave",m,n,d),f.target=E,f.relatedTarget=_,y=null,li(d)===c&&(v=new v(p,g+"enter",w,n,d),v.target=_,v.relatedTarget=E,y=v),E=y,m&&w)t:{for(v=m,p=w,g=0,_=v;_;_=ji(_))g++;for(_=0,y=p;y;y=ji(y))_++;for(;0<g-_;)v=ji(v),g--;for(;0<_-g;)p=ji(p),_--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=ji(v),p=ji(p)}v=null}else v=null;m!==null&&Vg(h,f,m,v,!1),w!==null&&E!==null&&Vg(h,E,w,v,!0)}}e:{if(f=c?Hi(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=vS;else if(Pg(f))if(O_)N=bS;else{N=wS;var O=_S}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=ES);if(N&&(N=N(t,c))){R_(h,N,n,d);break e}O&&O(t,f,c),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Qf(f,"number",f.value)}switch(O=c?Hi(c):window,t){case"focusin":(Pg(O)||O.contentEditable==="true")&&(qi=O,ah=c,ks=null);break;case"focusout":ks=ah=qi=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,jg(h,n,d);break;case"selectionchange":if(SS)break;case"keydown":case"keyup":jg(h,n,d)}var x;if(jd)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else $i?P_(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(N_&&n.locale!=="ko"&&($i||b!=="onCompositionStart"?b==="onCompositionEnd"&&$i&&(x=k_()):(wr=d,Rd="value"in wr?wr.value:wr.textContent,$i=!0)),O=eu(c,b),0<O.length&&(b=new Ig(b,t,null,n,d),h.push({event:b,listeners:O}),x?b.data=x:(x=C_(n),x!==null&&(b.data=x)))),(x=dS?pS(t,n):mS(t,n))&&(c=eu(c,"onBeforeInput"),0<c.length&&(d=new Ig("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=x))}q_(h,e)})}function Ks(t,e,n){return{instance:t,listener:e,currentTarget:n}}function eu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Us(t,n),o!=null&&r.unshift(Ks(t,o,i)),o=Us(t,e),o!=null&&r.push(Ks(t,o,i))),t=t.return}return r}function ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vg(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Us(n,o),l!=null&&s.unshift(Ks(n,l,a))):i||(l=Us(n,o),l!=null&&s.push(Ks(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var NS=/\r\n?/g,PS=/\u0000|\uFFFD/g;function Fg(t){return(typeof t=="string"?t:""+t).replace(NS,`
`).replace(PS,"")}function ll(t,e,n){if(e=Fg(e),Fg(t)!==e&&n)throw Error(se(425))}function tu(){}var uh=null,ch=null;function fh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hh=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,Ug=typeof Promise=="function"?Promise:void 0,RS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ug<"u"?function(t){return Ug.resolve(null).then(t).catch(OS)}:hh;function OS(t){setTimeout(function(){throw t})}function hf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qs(e)}function Ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ko=Math.random().toString(36).slice(2),Cn="__reactFiber$"+ko,Gs="__reactProps$"+ko,Yn="__reactContainer$"+ko,dh="__reactEvents$"+ko,LS="__reactListeners$"+ko,jS="__reactHandles$"+ko;function li(t){var e=t[Cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yn]||n[Cn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bg(t);t!==null;){if(n=t[Cn])return n;t=Bg(t)}return e}t=n,n=t.parentNode}return null}function _a(t){return t=t[Cn]||t[Yn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function Ku(t){return t[Gs]||null}var ph=[],Wi=-1;function Gr(t){return{current:t}}function We(t){0>Wi||(t.current=ph[Wi],ph[Wi]=null,Wi--)}function Ue(t,e){Wi++,ph[Wi]=t.current,t.current=e}var Ur={},Rt=Gr(Ur),Wt=Gr(!1),mi=Ur;function co(t,e){var n=t.type.contextTypes;if(!n)return Ur;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(t){return t=t.childContextTypes,t!=null}function nu(){We(Wt),We(Rt)}function $g(t,e,n){if(Rt.current!==Ur)throw Error(se(168));Ue(Rt,e),Ue(Wt,n)}function H_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(se(108,_T(t)||"Unknown",i));return Xe({},n,r)}function ru(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,mi=Rt.current,Ue(Rt,t),Ue(Wt,Wt.current),!0}function qg(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=H_(t,e,mi),r.__reactInternalMemoizedMergedChildContext=t,We(Wt),We(Rt),Ue(Rt,t)):We(Wt),Ue(Wt,n)}var qn=null,Gu=!1,df=!1;function W_(t){qn===null?qn=[t]:qn.push(t)}function DS(t){Gu=!0,W_(t)}function Qr(){if(!df&&qn!==null){df=!0;var t=0,e=Me;try{var n=qn;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qn=null,Gu=!1}catch(i){throw qn!==null&&(qn=qn.slice(t+1)),y_(kd,Qr),i}finally{Me=e,df=!1}}return null}var Ki=[],Gi=0,iu=null,ou=0,sn=[],an=0,gi=null,zn=1,Hn="";function ii(t,e){Ki[Gi++]=ou,Ki[Gi++]=iu,iu=t,ou=e}function K_(t,e,n){sn[an++]=zn,sn[an++]=Hn,sn[an++]=gi,gi=t;var r=zn;t=Hn;var i=32-wn(r)-1;r&=~(1<<i),n+=1;var o=32-wn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,zn=1<<32-wn(e)+i|n<<i|r,Hn=o+t}else zn=1<<o|n<<i|r,Hn=t}function Md(t){t.return!==null&&(ii(t,1),K_(t,1,0))}function Vd(t){for(;t===iu;)iu=Ki[--Gi],Ki[Gi]=null,ou=Ki[--Gi],Ki[Gi]=null;for(;t===gi;)gi=sn[--an],sn[an]=null,Hn=sn[--an],sn[an]=null,zn=sn[--an],sn[an]=null}var en=null,Jt=null,Ke=!1,gn=null;function G_(t,e){var n=ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Jt=Ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gi!==null?{id:zn,overflow:Hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Jt=null,!0):!1;default:return!1}}function mh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gh(t){if(Ke){var e=Jt;if(e){var n=e;if(!zg(t,e)){if(mh(t))throw Error(se(418));e=Ar(n.nextSibling);var r=en;e&&zg(t,e)?G_(r,n):(t.flags=t.flags&-4097|2,Ke=!1,en=t)}}else{if(mh(t))throw Error(se(418));t.flags=t.flags&-4097|2,Ke=!1,en=t}}}function Hg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function ul(t){if(t!==en)return!1;if(!Ke)return Hg(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fh(t.type,t.memoizedProps)),e&&(e=Jt)){if(mh(t))throw Q_(),Error(se(418));for(;e;)G_(t,e),e=Ar(e.nextSibling)}if(Hg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=Ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=en?Ar(t.stateNode.nextSibling):null;return!0}function Q_(){for(var t=Jt;t;)t=Ar(t.nextSibling)}function fo(){Jt=en=null,Ke=!1}function Fd(t){gn===null?gn=[t]:gn.push(t)}var MS=ir.ReactCurrentBatchConfig;function ls(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function cl(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wg(t){var e=t._init;return e(t._payload)}function Y_(t){function e(p,g){if(t){var _=p.deletions;_===null?(p.deletions=[g],p.flags|=16):_.push(g)}}function n(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=Cr(p,g),p.index=0,p.sibling=null,p}function o(p,g,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<g?(p.flags|=2,g):_):(p.flags|=2,g)):(p.flags|=1048576,g)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,g,_,y){return g===null||g.tag!==6?(g=wf(_,p.mode,y),g.return=p,g):(g=i(g,_),g.return=p,g)}function l(p,g,_,y){var N=_.type;return N===Bi?d(p,g,_.props.children,y,_.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===hr&&Wg(N)===g.type)?(y=i(g,_.props),y.ref=ls(p,g,_),y.return=p,y):(y=Ll(_.type,_.key,_.props,null,p.mode,y),y.ref=ls(p,g,_),y.return=p,y)}function c(p,g,_,y){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=Ef(_,p.mode,y),g.return=p,g):(g=i(g,_.children||[]),g.return=p,g)}function d(p,g,_,y,N){return g===null||g.tag!==7?(g=di(_,p.mode,y,N),g.return=p,g):(g=i(g,_),g.return=p,g)}function h(p,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=wf(""+g,p.mode,_),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Za:return _=Ll(g.type,g.key,g.props,null,p.mode,_),_.ref=ls(p,null,g),_.return=p,_;case Ui:return g=Ef(g,p.mode,_),g.return=p,g;case hr:var y=g._init;return h(p,y(g._payload),_)}if(ms(g)||rs(g))return g=di(g,p.mode,_,null),g.return=p,g;cl(p,g)}return null}function f(p,g,_,y){var N=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:a(p,g,""+_,y);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Za:return _.key===N?l(p,g,_,y):null;case Ui:return _.key===N?c(p,g,_,y):null;case hr:return N=_._init,f(p,g,N(_._payload),y)}if(ms(_)||rs(_))return N!==null?null:d(p,g,_,y,null);cl(p,_)}return null}function m(p,g,_,y,N){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(_)||null,a(g,p,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Za:return p=p.get(y.key===null?_:y.key)||null,l(g,p,y,N);case Ui:return p=p.get(y.key===null?_:y.key)||null,c(g,p,y,N);case hr:var O=y._init;return m(p,g,_,O(y._payload),N)}if(ms(y)||rs(y))return p=p.get(_)||null,d(g,p,y,N,null);cl(g,y)}return null}function w(p,g,_,y){for(var N=null,O=null,x=g,b=g=0,C=null;x!==null&&b<_.length;b++){x.index>b?(C=x,x=null):C=x.sibling;var T=f(p,x,_[b],y);if(T===null){x===null&&(x=C);break}t&&x&&T.alternate===null&&e(p,x),g=o(T,g,b),O===null?N=T:O.sibling=T,O=T,x=C}if(b===_.length)return n(p,x),Ke&&ii(p,b),N;if(x===null){for(;b<_.length;b++)x=h(p,_[b],y),x!==null&&(g=o(x,g,b),O===null?N=x:O.sibling=x,O=x);return Ke&&ii(p,b),N}for(x=r(p,x);b<_.length;b++)C=m(x,p,b,_[b],y),C!==null&&(t&&C.alternate!==null&&x.delete(C.key===null?b:C.key),g=o(C,g,b),O===null?N=C:O.sibling=C,O=C);return t&&x.forEach(function(S){return e(p,S)}),Ke&&ii(p,b),N}function v(p,g,_,y){var N=rs(_);if(typeof N!="function")throw Error(se(150));if(_=N.call(_),_==null)throw Error(se(151));for(var O=N=null,x=g,b=g=0,C=null,T=_.next();x!==null&&!T.done;b++,T=_.next()){x.index>b?(C=x,x=null):C=x.sibling;var S=f(p,x,T.value,y);if(S===null){x===null&&(x=C);break}t&&x&&S.alternate===null&&e(p,x),g=o(S,g,b),O===null?N=S:O.sibling=S,O=S,x=C}if(T.done)return n(p,x),Ke&&ii(p,b),N;if(x===null){for(;!T.done;b++,T=_.next())T=h(p,T.value,y),T!==null&&(g=o(T,g,b),O===null?N=T:O.sibling=T,O=T);return Ke&&ii(p,b),N}for(x=r(p,x);!T.done;b++,T=_.next())T=m(x,p,b,T.value,y),T!==null&&(t&&T.alternate!==null&&x.delete(T.key===null?b:T.key),g=o(T,g,b),O===null?N=T:O.sibling=T,O=T);return t&&x.forEach(function(P){return e(p,P)}),Ke&&ii(p,b),N}function E(p,g,_,y){if(typeof _=="object"&&_!==null&&_.type===Bi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Za:e:{for(var N=_.key,O=g;O!==null;){if(O.key===N){if(N=_.type,N===Bi){if(O.tag===7){n(p,O.sibling),g=i(O,_.props.children),g.return=p,p=g;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===hr&&Wg(N)===O.type){n(p,O.sibling),g=i(O,_.props),g.ref=ls(p,O,_),g.return=p,p=g;break e}n(p,O);break}else e(p,O);O=O.sibling}_.type===Bi?(g=di(_.props.children,p.mode,y,_.key),g.return=p,p=g):(y=Ll(_.type,_.key,_.props,null,p.mode,y),y.ref=ls(p,g,_),y.return=p,p=y)}return s(p);case Ui:e:{for(O=_.key;g!==null;){if(g.key===O)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(p,g.sibling),g=i(g,_.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else e(p,g);g=g.sibling}g=Ef(_,p.mode,y),g.return=p,p=g}return s(p);case hr:return O=_._init,E(p,g,O(_._payload),y)}if(ms(_))return w(p,g,_,y);if(rs(_))return v(p,g,_,y);cl(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(p,g.sibling),g=i(g,_),g.return=p,p=g):(n(p,g),g=wf(_,p.mode,y),g.return=p,p=g),s(p)):n(p,g)}return E}var ho=Y_(!0),X_=Y_(!1),su=Gr(null),au=null,Qi=null,Ud=null;function Bd(){Ud=Qi=au=null}function $d(t){var e=su.current;We(su),t._currentValue=e}function yh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ro(t,e){au=t,Ud=Qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function cn(t){var e=t._currentValue;if(Ud!==t)if(t={context:t,memoizedValue:e,next:null},Qi===null){if(au===null)throw Error(se(308));Qi=t,au.dependencies={lanes:0,firstContext:t}}else Qi=Qi.next=t;return e}var ui=null;function qd(t){ui===null?ui=[t]:ui.push(t)}function J_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qd(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xn(t,r)}function Xn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var dr=!1;function zd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xn(t,n)}return i=r.interleaved,i===null?(e.next=e,qd(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xn(t,n)}function kl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nd(t,n)}}function Kg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lu(t,e,n,r){var i=t.updateQueue;dr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,d=c=l=null,a=o;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(f=e,m=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(m,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(m,h,f):w,f==null)break e;h=Xe({},h,f);break e;case 2:dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);vi|=s,t.lanes=s,t.memoizedState=h}}function Gg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(se(191,i));i.call(r)}}}var wa={},On=Gr(wa),Qs=Gr(wa),Ys=Gr(wa);function ci(t){if(t===wa)throw Error(se(174));return t}function Hd(t,e){switch(Ue(Ys,e),Ue(Qs,t),Ue(On,wa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xf(e,t)}We(On),Ue(On,e)}function po(){We(On),We(Qs),We(Ys)}function e1(t){ci(Ys.current);var e=ci(On.current),n=Xf(e,t.type);e!==n&&(Ue(Qs,t),Ue(On,n))}function Wd(t){Qs.current===t&&(We(On),We(Qs))}var Qe=Gr(0);function uu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pf=[];function Kd(){for(var t=0;t<pf.length;t++)pf[t]._workInProgressVersionPrimary=null;pf.length=0}var Nl=ir.ReactCurrentDispatcher,mf=ir.ReactCurrentBatchConfig,yi=0,Ye=null,ut=null,pt=null,cu=!1,Ns=!1,Xs=0,VS=0;function It(){throw Error(se(321))}function Gd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function Qd(t,e,n,r,i,o){if(yi=o,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nl.current=t===null||t.memoizedState===null?$S:qS,t=n(r,i),Ns){o=0;do{if(Ns=!1,Xs=0,25<=o)throw Error(se(301));o+=1,pt=ut=null,e.updateQueue=null,Nl.current=zS,t=n(r,i)}while(Ns)}if(Nl.current=fu,e=ut!==null&&ut.next!==null,yi=0,pt=ut=Ye=null,cu=!1,e)throw Error(se(300));return t}function Yd(){var t=Xs!==0;return Xs=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ye.memoizedState=pt=t:pt=pt.next=t,pt}function fn(){if(ut===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=pt===null?Ye.memoizedState:pt.next;if(e!==null)pt=e,ut=t;else{if(t===null)throw Error(se(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},pt===null?Ye.memoizedState=pt=t:pt=pt.next=t}return pt}function Js(t,e){return typeof e=="function"?e(t):e}function gf(t){var e=fn(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=ut,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((yi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Ye.lanes|=d,vi|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,bn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ye.lanes|=o,vi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yf(t){var e=fn(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);bn(o,e.memoizedState)||(Ht=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function t1(){}function n1(t,e){var n=Ye,r=fn(),i=e(),o=!bn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ht=!0),r=r.queue,Xd(o1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,Zs(9,i1.bind(null,n,r,i,e),void 0,null),mt===null)throw Error(se(349));yi&30||r1(n,e,i)}return i}function r1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function i1(t,e,n,r){e.value=n,e.getSnapshot=r,s1(e)&&a1(t)}function o1(t,e,n){return n(function(){s1(e)&&a1(t)})}function s1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function a1(t){var e=Xn(t,1);e!==null&&En(e,t,1,-1)}function Qg(t){var e=kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:t},e.queue=t,t=t.dispatch=BS.bind(null,Ye,t),[e.memoizedState,t]}function Zs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function l1(){return fn().memoizedState}function Pl(t,e,n,r){var i=kn();Ye.flags|=t,i.memoizedState=Zs(1|e,n,void 0,r===void 0?null:r)}function Qu(t,e,n,r){var i=fn();r=r===void 0?null:r;var o=void 0;if(ut!==null){var s=ut.memoizedState;if(o=s.destroy,r!==null&&Gd(r,s.deps)){i.memoizedState=Zs(e,n,o,r);return}}Ye.flags|=t,i.memoizedState=Zs(1|e,n,o,r)}function Yg(t,e){return Pl(8390656,8,t,e)}function Xd(t,e){return Qu(2048,8,t,e)}function u1(t,e){return Qu(4,2,t,e)}function c1(t,e){return Qu(4,4,t,e)}function f1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h1(t,e,n){return n=n!=null?n.concat([t]):null,Qu(4,4,f1.bind(null,e,t),n)}function Jd(){}function d1(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function p1(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function m1(t,e,n){return yi&21?(bn(n,e)||(n=w_(),Ye.lanes|=n,vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function FS(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=mf.transition;mf.transition={};try{t(!1),e()}finally{Me=n,mf.transition=r}}function g1(){return fn().memoizedState}function US(t,e,n){var r=Pr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},y1(t))v1(e,n);else if(n=J_(t,e,n,r),n!==null){var i=Mt();En(n,t,r,i),_1(n,e,r)}}function BS(t,e,n){var r=Pr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(y1(t))v1(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,bn(a,s)){var l=e.interleaved;l===null?(i.next=i,qd(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=J_(t,e,i,r),n!==null&&(i=Mt(),En(n,t,r,i),_1(n,e,r))}}function y1(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function v1(t,e){Ns=cu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nd(t,n)}}var fu={readContext:cn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},$S={readContext:cn,useCallback:function(t,e){return kn().memoizedState=[t,e===void 0?null:e],t},useContext:cn,useEffect:Yg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pl(4194308,4,f1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pl(4,2,t,e)},useMemo:function(t,e){var n=kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=US.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:Qg,useDebugValue:Jd,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=Qg(!1),e=t[0];return t=FS.bind(null,t[1]),kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,i=kn();if(Ke){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),mt===null)throw Error(se(349));yi&30||r1(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Yg(o1.bind(null,r,o,t),[t]),r.flags|=2048,Zs(9,i1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=kn(),e=mt.identifierPrefix;if(Ke){var n=Hn,r=zn;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=VS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qS={readContext:cn,useCallback:d1,useContext:cn,useEffect:Xd,useImperativeHandle:h1,useInsertionEffect:u1,useLayoutEffect:c1,useMemo:p1,useReducer:gf,useRef:l1,useState:function(){return gf(Js)},useDebugValue:Jd,useDeferredValue:function(t){var e=fn();return m1(e,ut.memoizedState,t)},useTransition:function(){var t=gf(Js)[0],e=fn().memoizedState;return[t,e]},useMutableSource:t1,useSyncExternalStore:n1,useId:g1,unstable_isNewReconciler:!1},zS={readContext:cn,useCallback:d1,useContext:cn,useEffect:Xd,useImperativeHandle:h1,useInsertionEffect:u1,useLayoutEffect:c1,useMemo:p1,useReducer:yf,useRef:l1,useState:function(){return yf(Js)},useDebugValue:Jd,useDeferredValue:function(t){var e=fn();return ut===null?e.memoizedState=t:m1(e,ut.memoizedState,t)},useTransition:function(){var t=yf(Js)[0],e=fn().memoizedState;return[t,e]},useMutableSource:t1,useSyncExternalStore:n1,useId:g1,unstable_isNewReconciler:!1};function pn(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yu={isMounted:function(t){return(t=t._reactInternals)?Ii(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Pr(t),o=Gn(r,i);o.payload=e,n!=null&&(o.callback=n),e=kr(t,o,i),e!==null&&(En(e,t,i,r),kl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Pr(t),o=Gn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=kr(t,o,i),e!==null&&(En(e,t,i,r),kl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=Pr(t),i=Gn(n,r);i.tag=2,e!=null&&(i.callback=e),e=kr(t,i,r),e!==null&&(En(e,t,r,n),kl(e,t,r))}};function Xg(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Hs(n,r)||!Hs(i,o):!0}function w1(t,e,n){var r=!1,i=Ur,o=e.contextType;return typeof o=="object"&&o!==null?o=cn(o):(i=Kt(e)?mi:Rt.current,r=e.contextTypes,o=(r=r!=null)?co(t,i):Ur),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Jg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yu.enqueueReplaceState(e,e.state,null)}function _h(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},zd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=cn(o):(o=Kt(e)?mi:Rt.current,i.context=co(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(vh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yu.enqueueReplaceState(i,i.state,null),lu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function mo(t,e){try{var n="",r=e;do n+=vT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function vf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var HS=typeof WeakMap=="function"?WeakMap:Map;function E1(t,e,n){n=Gn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){du||(du=!0,Ph=r),wh(t,e)},n}function b1(t,e,n){n=Gn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){wh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){wh(t,e),typeof r!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Zg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new HS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=o2.bind(null,t,e,n),e.then(t,t))}function ey(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ty(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gn(-1,1),e.tag=2,kr(n,e,1))),n.lanes|=1),t)}var WS=ir.ReactCurrentOwner,Ht=!1;function jt(t,e,n,r){e.child=t===null?X_(e,null,n,r):ho(e,t.child,n,r)}function ny(t,e,n,r,i){n=n.render;var o=e.ref;return ro(e,i),r=Qd(t,e,n,r,o,i),n=Yd(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jn(t,e,i)):(Ke&&n&&Md(e),e.flags|=1,jt(t,e,r,i),e.child)}function ry(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!sp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,x1(t,e,o,r,i)):(t=Ll(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Hs,n(s,r)&&t.ref===e.ref)return Jn(t,e,i)}return e.flags|=1,t=Cr(o,r),t.ref=e.ref,t.return=e,e.child=t}function x1(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Hs(o,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,Jn(t,e,i)}return Eh(t,e,n,r,i)}function T1(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Xi,Yt),Yt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(Xi,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ue(Xi,Yt),Yt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ue(Xi,Yt),Yt|=r;return jt(t,e,i,n),e.child}function S1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Eh(t,e,n,r,i){var o=Kt(n)?mi:Rt.current;return o=co(e,o),ro(e,i),n=Qd(t,e,n,r,o,i),r=Yd(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jn(t,e,i)):(Ke&&r&&Md(e),e.flags|=1,jt(t,e,n,i),e.child)}function iy(t,e,n,r,i){if(Kt(n)){var o=!0;ru(e)}else o=!1;if(ro(e,i),e.stateNode===null)Cl(t,e),w1(e,n,r),_h(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=cn(c):(c=Kt(n)?mi:Rt.current,c=co(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Jg(e,s,r,c),dr=!1;var f=e.memoizedState;s.state=f,lu(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Wt.current||dr?(typeof d=="function"&&(vh(e,n,d,r),l=e.memoizedState),(a=dr||Xg(e,n,a,r,f,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Z_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:pn(e.type,a),s.props=c,h=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=cn(l):(l=Kt(n)?mi:Rt.current,l=co(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Jg(e,s,r,l),dr=!1,f=e.memoizedState,s.state=f,lu(e,r,s,i);var w=e.memoizedState;a!==h||f!==w||Wt.current||dr?(typeof m=="function"&&(vh(e,n,m,r),w=e.memoizedState),(c=dr||Xg(e,n,c,r,f,w,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return bh(t,e,n,r,o,i)}function bh(t,e,n,r,i,o){S1(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&qg(e,n,!1),Jn(t,e,o);r=e.stateNode,WS.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ho(e,t.child,null,o),e.child=ho(e,null,a,o)):jt(t,e,a,o),e.memoizedState=r.state,i&&qg(e,n,!0),e.child}function I1(t){var e=t.stateNode;e.pendingContext?$g(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$g(t,e.context,!1),Hd(t,e.containerInfo)}function oy(t,e,n,r,i){return fo(),Fd(i),e.flags|=256,jt(t,e,n,r),e.child}var xh={dehydrated:null,treeContext:null,retryLane:0};function Th(t){return{baseLanes:t,cachePool:null,transitions:null}}function A1(t,e,n){var r=e.pendingProps,i=Qe.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Qe,i&1),t===null)return gh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Zu(s,r,0,null),t=di(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Th(n),e.memoizedState=xh,t):Zd(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return KS(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Cr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Cr(a,o):(o=di(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Th(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=xh,r}return o=t.child,t=o.sibling,r=Cr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zd(t,e){return e=Zu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fl(t,e,n,r){return r!==null&&Fd(r),ho(e,t.child,null,n),t=Zd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KS(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=vf(Error(se(422))),fl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Zu({mode:"visible",children:r.children},i,0,null),o=di(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ho(e,t.child,null,s),e.child.memoizedState=Th(s),e.memoizedState=xh,o);if(!(e.mode&1))return fl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(se(419)),r=vf(o,r,void 0),fl(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ht||a){if(r=mt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Xn(t,i),En(r,t,i,-1))}return op(),r=vf(Error(se(421))),fl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=s2.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Jt=Ar(i.nextSibling),en=e,Ke=!0,gn=null,t!==null&&(sn[an++]=zn,sn[an++]=Hn,sn[an++]=gi,zn=t.id,Hn=t.overflow,gi=e),e=Zd(e,r.children),e.flags|=4096,e)}function sy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yh(t.return,e,n)}function _f(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function k1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(jt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,n,e);else if(t.tag===19)sy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&uu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_f(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&uu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_f(e,!0,n,null,o);break;case"together":_f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=Cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GS(t,e,n){switch(e.tag){case 3:I1(e),fo();break;case 5:e1(e);break;case 1:Kt(e.type)&&ru(e);break;case 4:Hd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(su,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?A1(t,e,n):(Ue(Qe,Qe.current&1),t=Jn(t,e,n),t!==null?t.sibling:null);Ue(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return k1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,T1(t,e,n)}return Jn(t,e,n)}var N1,Sh,P1,C1;N1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sh=function(){};P1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ci(On.current);var o=null;switch(n){case"input":i=Kf(t,i),r=Kf(t,r),o=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),o=[];break;case"textarea":i=Yf(t,i),r=Yf(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tu)}Jf(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};C1=function(t,e,n,r){n!==r&&(e.flags|=4)};function us(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QS(t,e,n){var r=e.pendingProps;switch(Vd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return Kt(e.type)&&nu(),At(e),null;case 3:return r=e.stateNode,po(),We(Wt),We(Rt),Kd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ul(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gn!==null&&(Oh(gn),gn=null))),Sh(t,e),At(e),null;case 5:Wd(e);var i=ci(Ys.current);if(n=e.type,t!==null&&e.stateNode!=null)P1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return At(e),null}if(t=ci(On.current),ul(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Cn]=e,r[Gs]=o,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<ys.length;i++)qe(ys[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":mg(r,o),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},qe("invalid",r);break;case"textarea":yg(r,o),qe("invalid",r)}Jf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ll(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ll(r.textContent,a,t),i=["children",""+a]):Vs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&qe("scroll",r)}switch(n){case"input":el(r),gg(r,o,!0);break;case"textarea":el(r),vg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=tu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=o_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Cn]=e,t[Gs]=r,N1(t,e,!1,!1),e.stateNode=t;e:{switch(s=Zf(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<ys.length;i++)qe(ys[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":mg(t,r),i=Kf(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),qe("invalid",t);break;case"textarea":yg(t,r),i=Yf(t,r),qe("invalid",t);break;default:i=r}Jf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?l_(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&s_(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fs(t,l):typeof l=="number"&&Fs(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Vs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&qe("scroll",t):l!=null&&xd(t,o,l,s))}switch(n){case"input":el(t),gg(t,r,!1);break;case"textarea":el(t),vg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Zi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Zi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)C1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=ci(Ys.current),ci(On.current),ul(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cn]=e,(o=r.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:ll(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ll(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cn]=e,e.stateNode=r}return At(e),null;case 13:if(We(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&Jt!==null&&e.mode&1&&!(e.flags&128))Q_(),fo(),e.flags|=98560,o=!1;else if(o=ul(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(se(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(se(317));o[Cn]=e}else fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),o=!1}else gn!==null&&(Oh(gn),gn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?ct===0&&(ct=3):op())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return po(),Sh(t,e),t===null&&Ws(e.stateNode.containerInfo),At(e),null;case 10:return $d(e.type._context),At(e),null;case 17:return Kt(e.type)&&nu(),At(e),null;case 19:if(We(Qe),o=e.memoizedState,o===null)return At(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)us(o,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=uu(t),s!==null){for(e.flags|=128,us(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Qe,Qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&rt()>go&&(e.flags|=128,r=!0,us(o,!1),e.lanes=4194304)}else{if(!r)if(t=uu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),us(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ke)return At(e),null}else 2*rt()-o.renderingStartTime>go&&n!==1073741824&&(e.flags|=128,r=!0,us(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rt(),e.sibling=null,n=Qe.current,Ue(Qe,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return ip(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function YS(t,e){switch(Vd(e),e.tag){case 1:return Kt(e.type)&&nu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return po(),We(Wt),We(Rt),Kd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wd(e),null;case 13:if(We(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Qe),null;case 4:return po(),null;case 10:return $d(e.type._context),null;case 22:case 23:return ip(),null;case 24:return null;default:return null}}var hl=!1,Pt=!1,XS=typeof WeakSet=="function"?WeakSet:Set,de=null;function Yi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function Ih(t,e,n){try{n()}catch(r){et(t,e,r)}}var ay=!1;function JS(t,e){if(uh=Jl,t=D_(),Dd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++d===r&&(l=s),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ch={focusedElem:t,selectionRange:n},Jl=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,E=w.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:pn(e.type,v),E);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(y){et(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return w=ay,ay=!1,w}function Ps(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ih(e,n,o)}i=i.next}while(i!==r)}}function Xu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ah(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function R1(t){var e=t.alternate;e!==null&&(t.alternate=null,R1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cn],delete e[Gs],delete e[dh],delete e[LS],delete e[jS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function O1(t){return t.tag===5||t.tag===3||t.tag===4}function ly(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||O1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tu));else if(r!==4&&(t=t.child,t!==null))for(kh(t,e,n),t=t.sibling;t!==null;)kh(t,e,n),t=t.sibling}function Nh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nh(t,e,n),t=t.sibling;t!==null;)Nh(t,e,n),t=t.sibling}var vt=null,mn=!1;function cr(t,e,n){for(n=n.child;n!==null;)L1(t,e,n),n=n.sibling}function L1(t,e,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(qu,n)}catch{}switch(n.tag){case 5:Pt||Yi(n,e);case 6:var r=vt,i=mn;vt=null,cr(t,e,n),vt=r,mn=i,vt!==null&&(mn?(t=vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(mn?(t=vt,n=n.stateNode,t.nodeType===8?hf(t.parentNode,n):t.nodeType===1&&hf(t,n),qs(t)):hf(vt,n.stateNode));break;case 4:r=vt,i=mn,vt=n.stateNode.containerInfo,mn=!0,cr(t,e,n),vt=r,mn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ih(n,e,s),i=i.next}while(i!==r)}cr(t,e,n);break;case 1:if(!Pt&&(Yi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,e,a)}cr(t,e,n);break;case 21:cr(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,cr(t,e,n),Pt=r):cr(t,e,n);break;default:cr(t,e,n)}}function uy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XS),e.forEach(function(r){var i=a2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,mn=!1;break e;case 3:vt=a.stateNode.containerInfo,mn=!0;break e;case 4:vt=a.stateNode.containerInfo,mn=!0;break e}a=a.return}if(vt===null)throw Error(se(160));L1(o,s,i),vt=null,mn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){et(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)j1(e,t),e=e.sibling}function j1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dn(e,t),In(t),r&4){try{Ps(3,t,t.return),Xu(3,t)}catch(v){et(t,t.return,v)}try{Ps(5,t,t.return)}catch(v){et(t,t.return,v)}}break;case 1:dn(e,t),In(t),r&512&&n!==null&&Yi(n,n.return);break;case 5:if(dn(e,t),In(t),r&512&&n!==null&&Yi(n,n.return),t.flags&32){var i=t.stateNode;try{Fs(i,"")}catch(v){et(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&r_(i,o),Zf(a,s);var c=Zf(a,o);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?l_(i,h):d==="dangerouslySetInnerHTML"?s_(i,h):d==="children"?Fs(i,h):xd(i,d,h,c)}switch(a){case"input":Gf(i,o);break;case"textarea":i_(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Zi(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?Zi(i,!!o.multiple,o.defaultValue,!0):Zi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Gs]=o}catch(v){et(t,t.return,v)}}break;case 6:if(dn(e,t),In(t),r&4){if(t.stateNode===null)throw Error(se(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){et(t,t.return,v)}}break;case 3:if(dn(e,t),In(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(e.containerInfo)}catch(v){et(t,t.return,v)}break;case 4:dn(e,t),In(t);break;case 13:dn(e,t),In(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(np=rt())),r&4&&uy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(c=Pt)||d,dn(e,t),Pt=c):dn(e,t),In(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(de=t,d=t.child;d!==null;){for(h=de=d;de!==null;){switch(f=de,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ps(4,f,f.return);break;case 1:Yi(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){et(r,n,v)}}break;case 5:Yi(f,f.return);break;case 22:if(f.memoizedState!==null){fy(h);continue}}m!==null?(m.return=f,de=m):fy(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=a_("display",s))}catch(v){et(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){et(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dn(e,t),In(t),r&4&&uy(t);break;case 21:break;default:dn(e,t),In(t)}}function In(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(O1(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fs(i,""),r.flags&=-33);var o=ly(t);Nh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=ly(t);kh(t,a,s);break;default:throw Error(se(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZS(t,e,n){de=t,D1(t)}function D1(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||hl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pt;a=hl;var c=Pt;if(hl=s,(Pt=l)&&!c)for(de=i;de!==null;)s=de,l=s.child,s.tag===22&&s.memoizedState!==null?hy(i):l!==null?(l.return=s,de=l):hy(i);for(;o!==null;)de=o,D1(o),o=o.sibling;de=i,hl=a,Pt=c}cy(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,de=o):cy(t)}}function cy(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||Xu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Gg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gg(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&qs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Pt||e.flags&512&&Ah(e)}catch(f){et(e,e.return,f)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function fy(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function hy(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xu(4,e)}catch(l){et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){et(e,i,l)}}var o=e.return;try{Ah(e)}catch(l){et(e,o,l)}break;case 5:var s=e.return;try{Ah(e)}catch(l){et(e,s,l)}}}catch(l){et(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var e2=Math.ceil,hu=ir.ReactCurrentDispatcher,ep=ir.ReactCurrentOwner,un=ir.ReactCurrentBatchConfig,Oe=0,mt=null,st=null,Et=0,Yt=0,Xi=Gr(0),ct=0,ea=null,vi=0,Ju=0,tp=0,Cs=null,qt=null,np=0,go=1/0,$n=null,du=!1,Ph=null,Nr=null,dl=!1,Er=null,pu=0,Rs=0,Ch=null,Rl=-1,Ol=0;function Mt(){return Oe&6?rt():Rl!==-1?Rl:Rl=rt()}function Pr(t){return t.mode&1?Oe&2&&Et!==0?Et&-Et:MS.transition!==null?(Ol===0&&(Ol=w_()),Ol):(t=Me,t!==0||(t=window.event,t=t===void 0?16:A_(t.type)),t):1}function En(t,e,n,r){if(50<Rs)throw Rs=0,Ch=null,Error(se(185));ya(t,n,r),(!(Oe&2)||t!==mt)&&(t===mt&&(!(Oe&2)&&(Ju|=n),ct===4&&mr(t,Et)),Gt(t,r),n===1&&Oe===0&&!(e.mode&1)&&(go=rt()+500,Gu&&Qr()))}function Gt(t,e){var n=t.callbackNode;MT(t,e);var r=Xl(t,t===mt?Et:0);if(r===0)n!==null&&Eg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Eg(n),e===1)t.tag===0?DS(dy.bind(null,t)):W_(dy.bind(null,t)),RS(function(){!(Oe&6)&&Qr()}),n=null;else{switch(E_(r)){case 1:n=kd;break;case 4:n=v_;break;case 16:n=Yl;break;case 536870912:n=__;break;default:n=Yl}n=z1(n,M1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function M1(t,e){if(Rl=-1,Ol=0,Oe&6)throw Error(se(327));var n=t.callbackNode;if(io()&&t.callbackNode!==n)return null;var r=Xl(t,t===mt?Et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mu(t,r);else{e=r;var i=Oe;Oe|=2;var o=F1();(mt!==t||Et!==e)&&($n=null,go=rt()+500,hi(t,e));do try{r2();break}catch(a){V1(t,a)}while(!0);Bd(),hu.current=o,Oe=i,st!==null?e=0:(mt=null,Et=0,e=ct)}if(e!==0){if(e===2&&(i=ih(t),i!==0&&(r=i,e=Rh(t,i))),e===1)throw n=ea,hi(t,0),mr(t,r),Gt(t,rt()),n;if(e===6)mr(t,r);else{if(i=t.current.alternate,!(r&30)&&!t2(i)&&(e=mu(t,r),e===2&&(o=ih(t),o!==0&&(r=o,e=Rh(t,o))),e===1))throw n=ea,hi(t,0),mr(t,r),Gt(t,rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:oi(t,qt,$n);break;case 3:if(mr(t,r),(r&130023424)===r&&(e=np+500-rt(),10<e)){if(Xl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hh(oi.bind(null,t,qt,$n),e);break}oi(t,qt,$n);break;case 4:if(mr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-wn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*e2(r/1960))-r,10<r){t.timeoutHandle=hh(oi.bind(null,t,qt,$n),r);break}oi(t,qt,$n);break;case 5:oi(t,qt,$n);break;default:throw Error(se(329))}}}return Gt(t,rt()),t.callbackNode===n?M1.bind(null,t):null}function Rh(t,e){var n=Cs;return t.current.memoizedState.isDehydrated&&(hi(t,e).flags|=256),t=mu(t,e),t!==2&&(e=qt,qt=n,e!==null&&Oh(e)),t}function Oh(t){qt===null?qt=t:qt.push.apply(qt,t)}function t2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!bn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mr(t,e){for(e&=~tp,e&=~Ju,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wn(e),r=1<<n;t[n]=-1,e&=~r}}function dy(t){if(Oe&6)throw Error(se(327));io();var e=Xl(t,0);if(!(e&1))return Gt(t,rt()),null;var n=mu(t,e);if(t.tag!==0&&n===2){var r=ih(t);r!==0&&(e=r,n=Rh(t,r))}if(n===1)throw n=ea,hi(t,0),mr(t,e),Gt(t,rt()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oi(t,qt,$n),Gt(t,rt()),null}function rp(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(go=rt()+500,Gu&&Qr())}}function _i(t){Er!==null&&Er.tag===0&&!(Oe&6)&&io();var e=Oe;Oe|=1;var n=un.transition,r=Me;try{if(un.transition=null,Me=1,t)return t()}finally{Me=r,un.transition=n,Oe=e,!(Oe&6)&&Qr()}}function ip(){Yt=Xi.current,We(Xi)}function hi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CS(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(Vd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nu();break;case 3:po(),We(Wt),We(Rt),Kd();break;case 5:Wd(r);break;case 4:po();break;case 13:We(Qe);break;case 19:We(Qe);break;case 10:$d(r.type._context);break;case 22:case 23:ip()}n=n.return}if(mt=t,st=t=Cr(t.current,null),Et=Yt=e,ct=0,ea=null,tp=Ju=vi=0,qt=Cs=null,ui!==null){for(e=0;e<ui.length;e++)if(n=ui[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ui=null}return t}function V1(t,e){do{var n=st;try{if(Bd(),Nl.current=fu,cu){for(var r=Ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cu=!1}if(yi=0,pt=ut=Ye=null,Ns=!1,Xs=0,ep.current=null,n===null||n.return===null){ct=1,ea=e,st=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=ey(s);if(m!==null){m.flags&=-257,ty(m,s,a,o,e),m.mode&1&&Zg(o,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){Zg(o,c,e),op();break e}l=Error(se(426))}}else if(Ke&&a.mode&1){var E=ey(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),ty(E,s,a,o,e),Fd(mo(l,a));break e}}o=l=mo(l,a),ct!==4&&(ct=2),Cs===null?Cs=[o]:Cs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=E1(o,l,e);Kg(o,p);break e;case 1:a=l;var g=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Nr===null||!Nr.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var y=b1(o,a,e);Kg(o,y);break e}}o=o.return}while(o!==null)}B1(n)}catch(N){e=N,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function F1(){var t=hu.current;return hu.current=fu,t===null?fu:t}function op(){(ct===0||ct===3||ct===2)&&(ct=4),mt===null||!(vi&268435455)&&!(Ju&268435455)||mr(mt,Et)}function mu(t,e){var n=Oe;Oe|=2;var r=F1();(mt!==t||Et!==e)&&($n=null,hi(t,e));do try{n2();break}catch(i){V1(t,i)}while(!0);if(Bd(),Oe=n,hu.current=r,st!==null)throw Error(se(261));return mt=null,Et=0,ct}function n2(){for(;st!==null;)U1(st)}function r2(){for(;st!==null&&!kT();)U1(st)}function U1(t){var e=q1(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?B1(t):st=e,ep.current=null}function B1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=YS(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,st=null;return}}else if(n=QS(n,e,Yt),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);ct===0&&(ct=5)}function oi(t,e,n){var r=Me,i=un.transition;try{un.transition=null,Me=1,i2(t,e,n,r)}finally{un.transition=i,Me=r}return null}function i2(t,e,n,r){do io();while(Er!==null);if(Oe&6)throw Error(se(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(VT(t,o),t===mt&&(st=mt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dl||(dl=!0,z1(Yl,function(){return io(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=un.transition,un.transition=null;var s=Me;Me=1;var a=Oe;Oe|=4,ep.current=null,JS(t,n),j1(n,t),TS(ch),Jl=!!uh,ch=uh=null,t.current=n,ZS(n),NT(),Oe=a,Me=s,un.transition=o}else t.current=n;if(dl&&(dl=!1,Er=t,pu=i),o=t.pendingLanes,o===0&&(Nr=null),RT(n.stateNode),Gt(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(du)throw du=!1,t=Ph,Ph=null,t;return pu&1&&t.tag!==0&&io(),o=t.pendingLanes,o&1?t===Ch?Rs++:(Rs=0,Ch=t):Rs=0,Qr(),null}function io(){if(Er!==null){var t=E_(pu),e=un.transition,n=Me;try{if(un.transition=null,Me=16>t?16:t,Er===null)var r=!1;else{if(t=Er,Er=null,pu=0,Oe&6)throw Error(se(331));var i=Oe;for(Oe|=4,de=t.current;de!==null;){var o=de,s=o.child;if(de.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(de=c;de!==null;){var d=de;switch(d.tag){case 0:case 11:case 15:Ps(8,d,o)}var h=d.child;if(h!==null)h.return=d,de=h;else for(;de!==null;){d=de;var f=d.sibling,m=d.return;if(R1(d),d===c){de=null;break}if(f!==null){f.return=m,de=f;break}de=m}}}var w=o.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}de=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,de=s;else e:for(;de!==null;){if(o=de,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ps(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,de=p;break e}de=o.return}}var g=t.current;for(de=g;de!==null;){s=de;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,de=_;else e:for(s=g;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xu(9,a)}}catch(N){et(a,a.return,N)}if(a===s){de=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,de=y;break e}de=a.return}}if(Oe=i,Qr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(qu,t)}catch{}r=!0}return r}finally{Me=n,un.transition=e}}return!1}function py(t,e,n){e=mo(n,e),e=E1(t,e,1),t=kr(t,e,1),e=Mt(),t!==null&&(ya(t,1,e),Gt(t,e))}function et(t,e,n){if(t.tag===3)py(t,t,n);else for(;e!==null;){if(e.tag===3){py(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nr===null||!Nr.has(r))){t=mo(n,t),t=b1(e,t,1),e=kr(e,t,1),t=Mt(),e!==null&&(ya(e,1,t),Gt(e,t));break}}e=e.return}}function o2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(Et&n)===n&&(ct===4||ct===3&&(Et&130023424)===Et&&500>rt()-np?hi(t,0):tp|=n),Gt(t,e)}function $1(t,e){e===0&&(t.mode&1?(e=rl,rl<<=1,!(rl&130023424)&&(rl=4194304)):e=1);var n=Mt();t=Xn(t,e),t!==null&&(ya(t,e,n),Gt(t,n))}function s2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$1(t,n)}function a2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),$1(t,n)}var q1;q1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,GS(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,Ke&&e.flags&1048576&&K_(e,ou,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cl(t,e),t=e.pendingProps;var i=co(e,Rt.current);ro(e,n),i=Qd(null,e,r,t,i,n);var o=Yd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(r)?(o=!0,ru(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zd(e),i.updater=Yu,e.stateNode=i,i._reactInternals=e,_h(e,r,t,n),e=bh(null,e,r,!0,o,n)):(e.tag=0,Ke&&o&&Md(e),jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=u2(r),t=pn(r,t),i){case 0:e=Eh(null,e,r,t,n);break e;case 1:e=iy(null,e,r,t,n);break e;case 11:e=ny(null,e,r,t,n);break e;case 14:e=ry(null,e,r,pn(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),Eh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),iy(t,e,r,i,n);case 3:e:{if(I1(e),t===null)throw Error(se(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Z_(t,e),lu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=mo(Error(se(423)),e),e=oy(t,e,r,n,i);break e}else if(r!==i){i=mo(Error(se(424)),e),e=oy(t,e,r,n,i);break e}else for(Jt=Ar(e.stateNode.containerInfo.firstChild),en=e,Ke=!0,gn=null,n=X_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fo(),r===i){e=Jn(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return e1(e),t===null&&gh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,fh(r,i)?s=null:o!==null&&fh(r,o)&&(e.flags|=32),S1(t,e),jt(t,e,s,n),e.child;case 6:return t===null&&gh(e),null;case 13:return A1(t,e,n);case 4:return Hd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ho(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),ny(t,e,r,i,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ue(su,r._currentValue),r._currentValue=s,o!==null)if(bn(o.value,s)){if(o.children===i.children&&!Wt.current){e=Jn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Gn(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),yh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(se(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),yh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ro(e,n),i=cn(i),r=r(i),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,i=pn(r,e.pendingProps),i=pn(r.type,i),ry(t,e,r,i,n);case 15:return x1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),Cl(t,e),e.tag=1,Kt(r)?(t=!0,ru(e)):t=!1,ro(e,n),w1(e,r,i),_h(e,r,i,n),bh(null,e,r,!0,t,n);case 19:return k1(t,e,n);case 22:return T1(t,e,n)}throw Error(se(156,e.tag))};function z1(t,e){return y_(t,e)}function l2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,e,n,r){return new l2(t,e,n,r)}function sp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function u2(t){if(typeof t=="function")return sp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sd)return 11;if(t===Id)return 14}return 2}function Cr(t,e){var n=t.alternate;return n===null?(n=ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ll(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")sp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Bi:return di(n.children,i,o,e);case Td:s=8,i|=8;break;case qf:return t=ln(12,n,e,i|2),t.elementType=qf,t.lanes=o,t;case zf:return t=ln(13,n,e,i),t.elementType=zf,t.lanes=o,t;case Hf:return t=ln(19,n,e,i),t.elementType=Hf,t.lanes=o,t;case e_:return Zu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J0:s=10;break e;case Z0:s=9;break e;case Sd:s=11;break e;case Id:s=14;break e;case hr:s=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=ln(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function di(t,e,n,r){return t=ln(7,t,r,e),t.lanes=n,t}function Zu(t,e,n,r){return t=ln(22,t,r,e),t.elementType=e_,t.lanes=n,t.stateNode={isHidden:!1},t}function wf(t,e,n){return t=ln(6,t,null,e),t.lanes=n,t}function Ef(t,e,n){return e=ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function c2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ef(0),this.expirationTimes=ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ef(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ap(t,e,n,r,i,o,s,a,l){return t=new c2(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ln(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zd(o),t}function f2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function H1(t){if(!t)return Ur;t=t._reactInternals;e:{if(Ii(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(Kt(n))return H_(t,n,e)}return e}function W1(t,e,n,r,i,o,s,a,l){return t=ap(n,r,!0,t,i,o,s,a,l),t.context=H1(null),n=t.current,r=Mt(),i=Pr(n),o=Gn(r,i),o.callback=e??null,kr(n,o,i),t.current.lanes=i,ya(t,i,r),Gt(t,r),t}function ec(t,e,n,r){var i=e.current,o=Mt(),s=Pr(i);return n=H1(n),e.context===null?e.context=n:e.pendingContext=n,e=Gn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=kr(i,e,s),t!==null&&(En(t,i,s,o),kl(t,i,s)),s}function gu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function my(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lp(t,e){my(t,e),(t=t.alternate)&&my(t,e)}function h2(){return null}var K1=typeof reportError=="function"?reportError:function(t){console.error(t)};function up(t){this._internalRoot=t}tc.prototype.render=up.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));ec(t,e,null,null)};tc.prototype.unmount=up.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_i(function(){ec(null,t,null,null)}),e[Yn]=null}};function tc(t){this._internalRoot=t}tc.prototype.unstable_scheduleHydration=function(t){if(t){var e=T_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pr.length&&e!==0&&e<pr[n].priority;n++);pr.splice(n,0,t),n===0&&I_(t)}};function cp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gy(){}function d2(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=gu(s);o.call(c)}}var s=W1(e,r,t,0,null,!1,!1,"",gy);return t._reactRootContainer=s,t[Yn]=s.current,Ws(t.nodeType===8?t.parentNode:t),_i(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=gu(l);a.call(c)}}var l=ap(t,0,!1,null,null,!1,!1,"",gy);return t._reactRootContainer=l,t[Yn]=l.current,Ws(t.nodeType===8?t.parentNode:t),_i(function(){ec(e,l,n,r)}),l}function rc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=gu(s);a.call(l)}}ec(e,s,t,i)}else s=d2(n,e,t,i,r);return gu(s)}b_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gs(e.pendingLanes);n!==0&&(Nd(e,n|1),Gt(e,rt()),!(Oe&6)&&(go=rt()+500,Qr()))}break;case 13:_i(function(){var r=Xn(t,1);if(r!==null){var i=Mt();En(r,t,1,i)}}),lp(t,1)}};Pd=function(t){if(t.tag===13){var e=Xn(t,134217728);if(e!==null){var n=Mt();En(e,t,134217728,n)}lp(t,134217728)}};x_=function(t){if(t.tag===13){var e=Pr(t),n=Xn(t,e);if(n!==null){var r=Mt();En(n,t,e,r)}lp(t,e)}};T_=function(){return Me};S_=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};th=function(t,e,n){switch(e){case"input":if(Gf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ku(r);if(!i)throw Error(se(90));n_(r),Gf(r,i)}}}break;case"textarea":i_(t,n);break;case"select":e=n.value,e!=null&&Zi(t,!!n.multiple,e,!1)}};f_=rp;h_=_i;var p2={usingClientEntryPoint:!1,Events:[_a,Hi,Ku,u_,c_,rp]},cs={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m2={bundleType:cs.bundleType,version:cs.version,rendererPackageName:cs.rendererPackageName,rendererConfig:cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=m_(t),t===null?null:t.stateNode},findFiberByHostInstance:cs.findFiberByHostInstance||h2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{qu=pl.inject(m2),Rn=pl}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p2;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cp(e))throw Error(se(200));return f2(t,e,null,n)};rn.createRoot=function(t,e){if(!cp(t))throw Error(se(299));var n=!1,r="",i=K1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ap(t,1,!1,null,null,n,!1,r,i),t[Yn]=e.current,Ws(t.nodeType===8?t.parentNode:t),new up(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=m_(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return _i(t)};rn.hydrate=function(t,e,n){if(!nc(e))throw Error(se(200));return rc(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!cp(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=K1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=W1(e,null,t,1,n??null,i,!1,o,s),t[Yn]=e.current,Ws(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new tc(e)};rn.render=function(t,e,n){if(!nc(e))throw Error(se(200));return rc(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!nc(t))throw Error(se(40));return t._reactRootContainer?(_i(function(){rc(null,null,t,!1,function(){t._reactRootContainer=null,t[Yn]=null})}),!0):!1};rn.unstable_batchedUpdates=rp;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nc(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return rc(t,e,n,!1,r)};rn.version="18.3.1-next-f1338f8080-20240426";function G1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G1)}catch(t){console.error(t)}}G1(),G0.exports=rn;var Q1=G0.exports,Y1,yy=Q1;Y1=yy.createRoot,yy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ta.apply(this,arguments)}var br;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(br||(br={}));const vy="popstate";function g2(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Lh("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:J1(i)}return v2(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function X1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y2(){return Math.random().toString(36).substr(2,8)}function _y(t,e){return{usr:t.state,key:t.key,idx:e}}function Lh(t,e,n,r){return n===void 0&&(n=null),ta({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?No(e):e,{state:n,key:e&&e.key||r||y2()})}function J1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function No(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function v2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=br.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(ta({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function h(){a=br.Pop;let E=d(),p=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:p})}function f(E,p){a=br.Push;let g=Lh(v.location,E,p);c=d()+1;let _=_y(g,c),y=v.createHref(g);try{s.pushState(_,"",y)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(y)}o&&l&&l({action:a,location:v.location,delta:1})}function m(E,p){a=br.Replace;let g=Lh(v.location,E,p);c=d();let _=_y(g,c),y=v.createHref(g);s.replaceState(_,"",y),o&&l&&l({action:a,location:v.location,delta:0})}function w(E){let p=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof E=="string"?E:J1(E);return g=g.replace(/ $/,"%20"),lt(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let v={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(vy,h),l=E,()=>{i.removeEventListener(vy,h),l=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let p=w(E);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(E){return s.go(E)}};return v}var wy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wy||(wy={}));function _2(t,e,n){return n===void 0&&(n="/"),w2(t,e,n)}function w2(t,e,n,r){let i=typeof e=="string"?No(e):e,o=tw(i.pathname||"/",n);if(o==null)return null;let s=Z1(t);E2(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=O2(o);a=P2(s[l],c)}return a}function Z1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(lt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=pi([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(lt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Z1(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:k2(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of ew(o.path))i(o,s,l)}),e}function ew(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=ew(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function E2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:N2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const b2=/^:[\w-]+$/,x2=3,T2=2,S2=1,I2=10,A2=-2,Ey=t=>t==="*";function k2(t,e){let n=t.split("/"),r=n.length;return n.some(Ey)&&(r+=A2),e&&(r+=T2),n.filter(i=>!Ey(i)).reduce((i,o)=>i+(b2.test(o)?x2:o===""?S2:I2),r)}function N2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function P2(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=C2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:pi([o,h.pathname]),pathnameBase:M2(pi([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=pi([o,h.pathnameBase]))}return s}function C2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=R2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let v=a[h]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[h];return m&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function R2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),X1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function O2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return X1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function L2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?No(t):t;return{pathname:n?n.startsWith("/")?n:j2(n,e):e,search:V2(r),hash:F2(i)}}function j2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nw(t,e){let n=D2(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=No(t):(i=ta({},t),lt(!i.pathname||!i.pathname.includes("?"),bf("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),bf("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),bf("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=L2(i,a),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const pi=t=>t.join("/").replace(/\/\/+/g,"/"),M2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),V2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function U2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iw=["post","put","patch","delete"];new Set(iw);const B2=["get",...iw];new Set(B2);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function na(){return na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},na.apply(this,arguments)}const fp=Q.createContext(null),$2=Q.createContext(null),Ea=Q.createContext(null),ic=Q.createContext(null),Ai=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),ow=Q.createContext(null);function ba(){return Q.useContext(ic)!=null}function hp(){return ba()||lt(!1),Q.useContext(ic).location}function sw(t){Q.useContext(Ea).static||Q.useLayoutEffect(t)}function dp(){let{isDataRoute:t}=Q.useContext(Ai);return t?tI():q2()}function q2(){ba()||lt(!1);let t=Q.useContext(fp),{basename:e,future:n,navigator:r}=Q.useContext(Ea),{matches:i}=Q.useContext(Ai),{pathname:o}=hp(),s=JSON.stringify(nw(i,n.v7_relativeSplatPath)),a=Q.useRef(!1);return sw(()=>{a.current=!0}),Q.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=rw(c,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:pi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,s,o,t])}function z2(t,e){return H2(t,e)}function H2(t,e,n,r){ba()||lt(!1);let{navigator:i,static:o}=Q.useContext(Ea),{matches:s}=Q.useContext(Ai),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=hp(),h;if(e){var f;let p=typeof e=="string"?No(e):e;c==="/"||(f=p.pathname)!=null&&f.startsWith(c)||lt(!1),h=p}else h=d;let m=h.pathname||"/",w=m;if(c!=="/"){let p=c.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(p.length).join("/")}let v=_2(t,{pathname:w}),E=Y2(v&&v.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:pi([c,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:pi([c,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,n,r);return e&&E?Q.createElement(ic.Provider,{value:{location:na({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:br.Pop}},E):E}function W2(){let t=eI(),e=U2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:i},n):null,null)}const K2=Q.createElement(W2,null);class G2 extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Q.createElement(Ai.Provider,{value:this.props.routeContext},Q.createElement(ow.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q2(t){let{routeContext:e,match:n,children:r}=t,i=Q.useContext(fp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(Ai.Provider,{value:e},r)}function Y2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||lt(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,f)=>{let m,w=!1,v=null,E=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||K2,l&&(c<0&&f===0?(nI("route-fallback"),w=!0,E=null):c===f&&(w=!0,E=h.route.hydrateFallbackElement||null)));let p=e.concat(s.slice(0,f+1)),g=()=>{let _;return m?_=v:w?_=E:h.route.Component?_=Q.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,Q.createElement(Q2,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?Q.createElement(G2,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var aw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(aw||{}),lw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lw||{});function X2(t){let e=Q.useContext(fp);return e||lt(!1),e}function J2(t){let e=Q.useContext($2);return e||lt(!1),e}function Z2(t){let e=Q.useContext(Ai);return e||lt(!1),e}function uw(t){let e=Z2(),n=e.matches[e.matches.length-1];return n.route.id||lt(!1),n.route.id}function eI(){var t;let e=Q.useContext(ow),n=J2(),r=uw();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function tI(){let{router:t}=X2(aw.UseNavigateStable),e=uw(lw.UseNavigateStable),n=Q.useRef(!1);return sw(()=>{n.current=!0}),Q.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,na({fromRouteId:e},o)))},[t,e])}const by={};function nI(t,e,n){by[t]||(by[t]=!0)}function rI(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function iI(t){let{to:e,replace:n,state:r,relative:i}=t;ba()||lt(!1);let{future:o,static:s}=Q.useContext(Ea),{matches:a}=Q.useContext(Ai),{pathname:l}=hp(),c=dp(),d=rw(e,nw(a,o.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return Q.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function jl(t){lt(!1)}function oI(t){let{basename:e="/",children:n=null,location:r,navigationType:i=br.Pop,navigator:o,static:s=!1,future:a}=t;ba()&&lt(!1);let l=e.replace(/^\/*/,"/"),c=Q.useMemo(()=>({basename:l,navigator:o,static:s,future:na({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=No(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:w="default"}=r,v=Q.useMemo(()=>{let E=tw(d,l);return E==null?null:{location:{pathname:E,search:h,hash:f,state:m,key:w},navigationType:i}},[l,d,h,f,m,w,i]);return v==null?null:Q.createElement(Ea.Provider,{value:c},Q.createElement(ic.Provider,{children:n,value:v}))}function sI(t){let{children:e,location:n}=t;return z2(jh(e),n)}new Promise(()=>{});function jh(t,e){e===void 0&&(e=[]);let n=[];return Q.Children.forEach(t,(r,i)=>{if(!Q.isValidElement(r))return;let o=[...e,i];if(r.type===Q.Fragment){n.push.apply(n,jh(r.props.children,o));return}r.type!==jl&&lt(!1),!r.props.index||!r.props.children||lt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=jh(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const aI="6";try{window.__reactRouterVersion=aI}catch{}const lI="startTransition",xy=oT[lI];function uI(t){let{basename:e,children:n,future:r,window:i}=t,o=Q.useRef();o.current==null&&(o.current=g2({window:i,v5Compat:!0}));let s=o.current,[a,l]=Q.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=Q.useCallback(h=>{c&&xy?xy(()=>l(h)):l(h)},[l,c]);return Q.useLayoutEffect(()=>s.listen(d),[s,d]),Q.useEffect(()=>rI(r),[r]),Q.createElement(oI,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Ty;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ty||(Ty={}));var Sy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sy||(Sy={}));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Iy=t=>{const e=fI(t);return e.charAt(0).toUpperCase()+e.slice(1)},cw=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=Q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>Q.createElement("svg",{ref:l,...hI,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cw("lucide",i),...a},[...s.map(([c,d])=>Q.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e)=>{const n=Q.forwardRef(({className:r,...i},o)=>Q.createElement(dI,{ref:o,iconNode:e,className:cw(`lucide-${cI(Iy(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Iy(t),n};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Dh=xe("arrow-down",pI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gI=xe("arrow-right",mI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Mh=xe("arrow-up",yI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],_I=xe("book",vI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],EI=xe("briefcase",wI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pp=xe("chevron-down",bI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fw=xe("chevron-up",xI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mp=xe("circle-help",TI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],II=xe("circle-plus",SI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],kI=xe("circle-x",AI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],PI=xe("clock",NI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RI=xe("eye",CI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],hw=xe("facebook",OI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],jI=xe("file-pen",LI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dw=xe("file-text",DI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],VI=xe("github",MI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Ay=xe("house",FI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],BI=xe("image",UI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],pw=xe("instagram",$I);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],zI=xe("layout-dashboard",qI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],WI=xe("link-2",HI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],GI=xe("linkedin",KI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],YI=xe("log-out",QI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],gp=xe("mail",XI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mw=xe("map-pin",JI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],eA=xe("maximize-2",ZI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Vh=xe("menu",tA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],rA=xe("message-square",nA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],oA=xe("minimize-2",iA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],aA=xe("moon",sA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],uA=xe("phone",lA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fA=xe("save",cA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dA=xe("settings",hA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ra=xe("square-pen",pA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gA=xe("star",mA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],vA=xe("sun",yA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ia=xe("trash-2",_A);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],gw=xe("twitter",wA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bA=xe("user",EA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],TA=xe("youtube",xA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],IA=xe("x",SA),xf=new Date().getFullYear(),AA={en:{home:"Home",getStarted:"Get Started",everythingYouNeed:"Everything you need to succeed",digitalStrategy:"Digital Strategy",support:"24/7 Support",globalReach:"Global Reach",links:"Links",contactDescription:"Get in touch with our team to learn more about how we can help you succeed.",quickLinks:"Quick Links",contactInfo:"Contact Info",phone:"+1 (555) 123-4567",address:"123 Business St, Suite 100",features:[{title:"Digital Strategy",description:"Build a roadmap for your digital success with our comprehensive strategy services."},{title:"24/7 Support",description:"Round-the-clock support to ensure your business never misses a beat."},{title:"Global Reach",description:"Connect with customers worldwide..."}],generalInfo:{title:"General Information",siteTitle:"OS Design v1",siteRole:"Creative Web Design",logoUrl:"/placeholder-logo.png"},hero:{title:"Transform Your",title2:"Digital Presence",subtitle:"We help businesses grow by creating exceptional digital experiences..."},about:{title:"About Us",description:"We are a creative web design company specializing..."},projects:{title:"Projects",items:[]},contact:{title:"Contact Us",nameLabel:"Name",namePlaceholder:"Enter your name",emailLabel:"Email",emailPlaceholder:"Enter your email",messageLabel:"Message",messagePlaceholder:"Enter your message",submitButton:"Send Message"},services:{title:"Our Services",list:[]},footer:{copyright:`© ${xf} OS Design v1 — All rights reserved...`}},sv:{home:"Hem",getStarted:"Kom igång",everythingYouNeed:"Allt du behöver för att lyckas",digitalStrategy:"Digital strategi",support:"24/7 Support",globalReach:"Global räckvidd",links:"Länkar",contactDescription:"Kontakta vårt team för att lära dig mer...",quickLinks:"Snabblänkar",contactInfo:"Kontaktinformation",phone:"+1 (555) 123-4567",address:"123 Business St, Suite 100",features:[{title:"Digital strategi",description:"Bygg en färdplan för din digitala framgång..."},{title:"24/7 Support",description:"Support dygnet runt..."},{title:"Global räckvidd",description:"Anslut med kunder över hela världen..."}],generalInfo:{title:"Allmän information",siteTitle:"OS Design v1",siteRole:"Kreativ Webbdesign",logoUrl:"/placeholder-logo.png"},hero:{title:"Förvandla din",title2:"Digitala närvaro",subtitle:"Vi hjälper företag att växa genom att skapa exceptionella digitala upplevelser..."},about:{title:"Om oss",description:"Vi är ett kreativt webbdesignföretag som specialiserar sig..."},projects:{title:"Projekt",items:[]},contact:{title:"Kontakta oss",nameLabel:"Namn",namePlaceholder:"Ange ditt namn",emailLabel:"E-post",emailPlaceholder:"Ange din e-post",messageLabel:"Meddelande",messagePlaceholder:"Skriv ditt meddelande",submitButton:"Skicka meddelande"},services:{title:"Våra tjänster",list:[]},footer:{copyright:`© ${xf} OS Design v1 — Alla rättigheter förbehållna...`}},ar:{home:"الرئيسية",getStarted:"ابدأ الآن",everythingYouNeed:"كل ما تحتاجه للنجاح",digitalStrategy:"استراتيجية رقمية",support:"دعم 24/7",globalReach:"الوصول العالمي",links:"روابط",contactDescription:"تواصل مع فريقنا لمعرفة المزيد...",quickLinks:"روابط سريعة",contactInfo:"معلومات الاتصال",phone:"+1 (555) 123-4567",address:"123 Business St, Suite 100",features:[{title:"استراتيجية رقمية",description:"قم ببناء خارطة طريق لنجاحك الرقمي..."},{title:"دعم 24/7",description:"دعم على مدار الساعة..."},{title:"الوصول العالمي",description:"تواصل مع العملاء في جميع أنحاء العالم..."}],generalInfo:{title:"معلومات عامة",siteTitle:"OS Design v1",siteRole:"تصميم ويب إبداعي",logoUrl:"/placeholder-logo.png"},hero:{title:"حول",title2:"وجودك الرقمي",subtitle:"نساعد الشركات على النمو من خلال إنشاء تجارب رقمية استثنائية..."},about:{title:"معلومات عنا",description:"نحن شركة تصميم ويب إبداعية متخصصة..."},projects:{title:"المشاريع",items:[]},contact:{title:"اتصل بنا",nameLabel:"الاسم",namePlaceholder:"أدخل اسمك",emailLabel:"البريد الإلكتروني",emailPlaceholder:"أدخل بريدك الإلكتروني",messageLabel:"الرسالة",messagePlaceholder:"أدخل رسالتك",submitButton:"إرسال الرسالة"},services:{title:"خدماتنا",list:[]},footer:{copyright:`© ${xf} تصميم OS الإصدار 1 — جميع الحقوق محفوظة...`}}},ky=new Date().getFullYear(),Pn={en:{generalInfo:{title:"General Information",siteTitle:"OS Design v1",siteRole:"Creative Web Design",logoUrl:"https://raw.githubusercontent.com/tiger3homs/home/refs/heads/main/public/logo.png"},hero:{title:"Transform Your",title2:"Digital Presence",subtitle:"We help businesses grow by creating exceptional digital experiences that connect with their audience.",ctaButtonText:"Get Started."},about:{title:"About Us",description:"We are a creative web design company specializing in crafting custom, user-friendly websites. From responsive design and e-commerce solutions to SEO and graphic design, we help your business stand out online and deliver an exceptional user experience."},projects:{title:"Featured Projects",project1:{title:"OS Design v1",description:"The website offers a sleek, intuitive design with straightforward navigation and professional fonts. It highlights the company's services and expertise, making it easy for visitors to get in touch. Simple visuals and effective calls-to-action ensure a smooth and engaging experience. For more information, explore the site.",tags:["Modern","User-friendly","Professional"],link:""},project2:{title:"Project 2",description:"Coming soon.",tags:["Wait","For","It"],link:""},project3:{title:"New Project",description:"This is a new project description.",tags:["New","Exciting","Innovative"],link:""}},contact:{title:"Contact Me",nameLabel:"Name",namePlaceholder:"Enter your name",emailLabel:"Email",emailPlaceholder:"Enter your email",messageLabel:"Message",messagePlaceholder:"Enter your message",submitButton:"Send Message"},footer:{copyright:"© 2025 OS Design v1 — All rights reserved. Powered by GitHub. Styled with Tailwind CSS. Created by Tiger3homs."},services:{title:"Services",list:[{title:"Digital Strategy",description:"Build a roadmap for your digital success with our comprehensive strategy services."},{title:"24/7 Support",description:"Round-the-clock support to ensure your business never misses a beat."},{title:"Global Reach",description:"Improving your website's visibility on search engines."}]}},sv:{home:"Hem",getStarted:"Kom igång",everythingYouNeed:"Allt du behöver för att lyckas",digitalStrategy:"Digital strategi",support:"24/7 Support",globalReach:"Global räckvidd",links:"Länkar",contactDescription:"Kontakta vårt team för att lära dig mer...",quickLinks:"Snabblänkar",contactInfo:"Kontaktinformation",phone:"+1 (555) 123-4567",address:"123 Business St, Suite 100",features:[{title:"Digital strategi",description:"Bygg en färdplan för din digitala framgång..."},{title:"24/7 Support",description:"Support dygnet runt..."},{title:"Global räckvidd",description:"Anslut med kunder över hela världen..."}],generalInfo:{title:"Allmän information",siteTitle:"OS Design v1",siteRole:"Kreativ Webbdesign",logoUrl:"/placeholder-logo.png"},hero:{title:"Förvandla din Digitala närvaro",subtitle:"Vi hjälper företag att växa genom att skapa exceptionella digitala upplevelser..."},about:{title:"Om oss",description:"Vi är ett kreativt webbdesignföretag som specialiserar sig..."},projects:{title:"Projekt",items:[]},contact:{title:"Kontakta oss",nameLabel:"Namn",namePlaceholder:"Ange ditt namn",emailLabel:"E-post",emailPlaceholder:"Ange din e-post",messageLabel:"Meddelande",messagePlaceholder:"Skriv ditt meddelande",submitButton:"Skicka meddelande"},services:{title:"Våra tjänster",list:[]},footer:{copyright:`© ${ky} OS Design v1 — Alla rättigheter förbehållna...`}},ar:{home:"الرئيسية",getStarted:"ابدأ الآن",everythingYouNeed:"كل ما تحتاجه للنجاح",digitalStrategy:"استراتيجية رقمية",support:"دعم 24/7",globalReach:"الوصول العالمي",links:"روابط",contactDescription:"تواصل مع فريقنا لمعرفة المزيد...",quickLinks:"روابط سريعة",contactInfo:"معلومات الاتصال",phone:"+1 (555) 123-4567",address:"123 Business St, Suite 100",features:[{title:"استراتيجية رقمية",description:"قم ببناء خارطة طريق لنجاحك الرقمي..."},{title:"دعم 24/7",description:"دعم على مدار الساعة..."},{title:"الوصول العالمي",description:"تواصل مع العملاء في جميع أنحاء العالم..."}],generalInfo:{title:"معلومات عامة",siteTitle:"OS Design v1",siteRole:"تصميم ويب إبداعي",logoUrl:"/placeholder-logo.png"},hero:{title:"حول وجودك الرقمي",subtitle:"نساعد الشركات على النمو من خلال إنشاء تجارب رقمية استثنائية..."},about:{title:"معلومات عنا",description:"نحن شركة تصميم ويب إبداعية متخصصة..."},projects:{title:"المشاريع",items:[]},contact:{title:"اتصل بنا",nameLabel:"الاسم",namePlaceholder:"أدخل اسمك",emailLabel:"البريد الإلكتروني",emailPlaceholder:"أدخل بريدك الإلكتروني",messageLabel:"الرسالة",messagePlaceholder:"أدخل رسالتك",submitButton:"إرسال الرسالة"},services:{title:"خدماتنا",list:[]},footer:{copyright:`© ${ky} تصميم OS الإصدار 1 — جميع الحقوق محفوظة...`}}},kA=({message:t,type:e})=>{if(!t||!e)return null;const n=e==="success"?"bg-green-500":"bg-red-500",r=e==="success"?k.jsx("svg",{className:"w-5 h-5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}):k.jsx("svg",{className:"w-5 h-5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});return k.jsxs("div",{className:`fixed bottom-5 right-5 ${n} text-white px-4 py-2 rounded-md shadow-lg flex items-center z-[100] transition-opacity duration-300 animate-fade-in-out max-w-sm`,children:[r,k.jsx("span",{children:t})]})},NA=({isOpen:t,message:e,onConfirm:n,onCancel:r,confirmText:i="Confirm",cancelText:o="Cancel",title:s="Confirm Action"})=>t?k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:k.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-sm w-full",children:[k.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:s}),k.jsx("p",{className:"text-sm text-gray-600 mb-6 whitespace-pre-wrap",children:e}),k.jsxs("div",{className:"flex justify-end space-x-3",children:[k.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors text-sm",children:o}),k.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm",children:i})]})]})}):null,yw=Q.createContext(void 0),Fn=()=>{const t=Q.useContext(yw);if(!t)throw new Error("useNotifications must be used within a NotificationProvider");return t},PA=({children:t})=>{const[e,n]=Q.useState(null),[r,i]=Q.useState(null),o=Q.useRef(null),[s,a]=Q.useState(null),[l,c]=Q.useState(!1),d=Q.useCallback((v,E="success",p=3e3)=>{o.current&&clearTimeout(o.current),n(v),i(E),o.current=setTimeout(()=>{n(null),i(null),o.current=null},p)},[]);Q.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const h=Q.useCallback(v=>{a(v),c(!0)},[]),f=()=>{s!=null&&s.onConfirm&&s.onConfirm(),c(!1),a(null)},m=()=>{c(!1),a(null)},w={showToast:d,requestConfirmation:h};return k.jsxs(yw.Provider,{value:w,children:[t,k.jsx(kA,{message:e,type:r}),s&&k.jsx(NA,{isOpen:l,message:s.message,onConfirm:f,onCancel:m,confirmText:s.confirmText||"Confirm Delete",cancelText:s.cancelText,title:s.title})]})},CA=()=>{};var Ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},_w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,s||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||h==null)throw new OA;const f=o<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LA=function(t){const e=vw(t);return _w.encodeByteArray(e,!0)},yu=function(t){return LA(t).replace(/\./g,"")},ww=function(t){try{return _w.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=()=>jA().__FIREBASE_DEFAULTS__,MA=()=>{if(typeof process>"u"||typeof Ny>"u")return;const t=Ny.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ww(t[1]);return e&&JSON.parse(e)},oc=()=>{try{return CA()||DA()||MA()||VA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ew=t=>{var e,n;return(n=(e=oc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FA=t=>{const e=Ew(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bw=()=>{var t;return(t=oc())===null||t===void 0?void 0:t.config},xw=t=>{var e;return(e=oc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yu(JSON.stringify(n)),yu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $A(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function qA(){var t;const e=(t=oc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KA(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GA(){return!qA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QA(){try{return typeof indexedDB=="object"}catch{return!1}}function YA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="FirebaseError";class or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XA,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xa.prototype.create)}}class xa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?JA(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new or(i,a,r)}}function JA(t,e){return t.replace(ZA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZA=/\{\$([^}]+)}/g;function ek(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Py(o)&&Py(s)){if(!wi(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Py(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vs(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function _s(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tk(t,e){const n=new nk(t,e);return n.subscribe.bind(n)}class nk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tf),i.error===void 0&&(i.error=Tf),i.complete===void 0&&(i.complete=Tf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return t&&t._delegate?t._delegate:t}class Ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sk(e))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=si){return this.instances.has(e)}getOptions(e=si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ok(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=si){return this.component?this.component.multipleInstances?e:si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ok(t){return t===si?void 0:t}function sk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ik(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const lk={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},uk=Ne.INFO,ck={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},fk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ck[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=uk,this._logHandler=fk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const hk=(t,e)=>e.some(n=>t instanceof n);let Cy,Ry;function dk(){return Cy||(Cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pk(){return Ry||(Ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tw=new WeakMap,Fh=new WeakMap,Sw=new WeakMap,Sf=new WeakMap,vp=new WeakMap;function mk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Rr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Tw.set(n,t)}).catch(()=>{}),vp.set(e,t),e}function gk(t){if(Fh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Fh.set(t,e)}let Uh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yk(t){Uh=t(Uh)}function vk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(If(this),e,...n);return Sw.set(r,e.sort?e.sort():[e]),Rr(r)}:pk().includes(t)?function(...e){return t.apply(If(this),e),Rr(Tw.get(this))}:function(...e){return Rr(t.apply(If(this),e))}}function _k(t){return typeof t=="function"?vk(t):(t instanceof IDBTransaction&&gk(t),hk(t,dk())?new Proxy(t,Uh):t)}function Rr(t){if(t instanceof IDBRequest)return mk(t);if(Sf.has(t))return Sf.get(t);const e=_k(t);return e!==t&&(Sf.set(t,e),vp.set(e,t)),e}const If=t=>vp.get(t);function wk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Rr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Rr(s.result),l.oldVersion,l.newVersion,Rr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Ek=["get","getKey","getAll","getAllKeys","count"],bk=["put","add","delete","clear"],Af=new Map;function Oy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Af.get(e))return Af.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ek.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Af.set(e,o),o}yk(t=>({...t,get:(e,n,r)=>Oy(e,n)||t.get(e,n,r),has:(e,n)=>!!Oy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Tk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bh="@firebase/app",Ly="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new yp("@firebase/app"),Sk="@firebase/app-compat",Ik="@firebase/analytics-compat",Ak="@firebase/analytics",kk="@firebase/app-check-compat",Nk="@firebase/app-check",Pk="@firebase/auth",Ck="@firebase/auth-compat",Rk="@firebase/database",Ok="@firebase/data-connect",Lk="@firebase/database-compat",jk="@firebase/functions",Dk="@firebase/functions-compat",Mk="@firebase/installations",Vk="@firebase/installations-compat",Fk="@firebase/messaging",Uk="@firebase/messaging-compat",Bk="@firebase/performance",$k="@firebase/performance-compat",qk="@firebase/remote-config",zk="@firebase/remote-config-compat",Hk="@firebase/storage",Wk="@firebase/storage-compat",Kk="@firebase/firestore",Gk="@firebase/vertexai",Qk="@firebase/firestore-compat",Yk="firebase",Xk="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="[DEFAULT]",Jk={[Bh]:"fire-core",[Sk]:"fire-core-compat",[Ak]:"fire-analytics",[Ik]:"fire-analytics-compat",[Nk]:"fire-app-check",[kk]:"fire-app-check-compat",[Pk]:"fire-auth",[Ck]:"fire-auth-compat",[Rk]:"fire-rtdb",[Ok]:"fire-data-connect",[Lk]:"fire-rtdb-compat",[jk]:"fire-fn",[Dk]:"fire-fn-compat",[Mk]:"fire-iid",[Vk]:"fire-iid-compat",[Fk]:"fire-fcm",[Uk]:"fire-fcm-compat",[Bk]:"fire-perf",[$k]:"fire-perf-compat",[qk]:"fire-rc",[zk]:"fire-rc-compat",[Hk]:"fire-gcs",[Wk]:"fire-gcs-compat",[Kk]:"fire-fst",[Qk]:"fire-fst-compat",[Gk]:"fire-vertex","fire-js":"fire-js",[Yk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new Map,Zk=new Map,qh=new Map;function jy(t,e){try{t.container.addComponent(e)}catch(n){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yo(t){const e=t.name;if(qh.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;qh.set(e,t);for(const n of vu.values())jy(n,t);for(const n of Zk.values())jy(n,t);return!0}function _p(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new xa("app","Firebase",eN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=Xk;function Iw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$h,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Or.create("bad-app-name",{appName:String(i)});if(n||(n=bw()),!n)throw Or.create("no-options");const o=vu.get(i);if(o){if(wi(n,o.options)&&wi(r,o.config))return o;throw Or.create("duplicate-app",{appName:i})}const s=new ak(i);for(const l of qh.values())s.addComponent(l);const a=new tN(n,r,s);return vu.set(i,a),a}function Aw(t=$h){const e=vu.get(t);if(!e&&t===$h&&bw())return Iw();if(!e)throw Or.create("no-app",{appName:t});return e}function Lr(t,e,n){var r;let i=(r=Jk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(a.join(" "));return}yo(new Ei(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="firebase-heartbeat-database",rN=1,oa="firebase-heartbeat-store";let kf=null;function kw(){return kf||(kf=wk(nN,rN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Or.create("idb-open",{originalErrorMessage:t.message})})),kf}async function iN(t){try{const n=(await kw()).transaction(oa),r=await n.objectStore(oa).get(Nw(t));return await n.done,r}catch(e){if(e instanceof or)Zn.warn(e.message);else{const n=Or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zn.warn(n.message)}}}async function Dy(t,e){try{const r=(await kw()).transaction(oa,"readwrite");await r.objectStore(oa).put(e,Nw(t)),await r.done}catch(n){if(n instanceof or)Zn.warn(n.message);else{const r=Or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zn.warn(r.message)}}}function Nw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=1024,sN=30;class aN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=My();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>sN){const s=cN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=My(),{heartbeatsToSend:r,unsentEntries:i}=lN(this._heartbeatsCache.heartbeats),o=yu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Zn.warn(n),""}}}function My(){return new Date().toISOString().substring(0,10)}function lN(t,e=oN){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Vy(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QA()?YA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Vy(t){return yu(JSON.stringify({version:2,heartbeats:t})).length}function cN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t){yo(new Ei("platform-logger",e=>new xk(e),"PRIVATE")),yo(new Ei("heartbeat",e=>new aN(e),"PRIVATE")),Lr(Bh,Ly,t),Lr(Bh,Ly,"esm2017"),Lr("fire-js","")}fN("");var hN="firebase",dN="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(hN,dN,"app");function wp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Pw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pN=Pw,Cw=new xa("auth","Firebase",Pw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new yp("@firebase/auth");function mN(t,...e){_u.logLevel<=Ne.WARN&&_u.warn(`Auth (${Po}): ${t}`,...e)}function Dl(t,...e){_u.logLevel<=Ne.ERROR&&_u.error(`Auth (${Po}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,...e){throw Ep(t,...e)}function Ln(t,...e){return Ep(t,...e)}function Rw(t,e,n){const r=Object.assign(Object.assign({},pN()),{[e]:n});return new xa("auth","Firebase",r).create(e,{appName:t.name})}function jr(t){return Rw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Cw.create(t,...e)}function ge(t,e,...n){if(!t)throw Ep(e,...n)}function Wn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dl(e),new Error(e)}function er(t,e){t||Wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gN(){return Fy()==="http:"||Fy()==="https:"}function Fy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gN()||HA()||"connection"in navigator)?navigator.onLine:!0}function vN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=$A()||WA()}get(){return yN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t,e){er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EN=new Sa(3e4,6e4);function ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yr(t,e,n,r,i={}){return Lw(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Ta(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return zA()||(c.referrerPolicy="no-referrer"),Ow.fetch()(await jw(t,t.config.apiHost,n,a),c)})}async function Lw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_N),e);try{const i=new xN(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw ml(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ml(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw ml(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw ml(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Rw(t,d,c);xn(t,d)}}catch(i){if(i instanceof or)throw i;xn(t,"network-request-failed",{message:String(i)})}}async function sc(t,e,n,r,i={}){const o=await Yr(t,e,n,r,i);return"mfaPendingCredential"in o&&xn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function jw(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?bp(t.config,i):`${t.config.apiScheme}://${i}`;return wN.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function bN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ln(this.auth,"network-request-failed")),EN.get())})}}function ml(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ln(t,e,r);return i.customData._tokenResponse=n,i}function Uy(t){return t!==void 0&&t.enterprise!==void 0}class TN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SN(t,e){return Yr(t,"GET","/v2/recaptchaConfig",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t,e){return Yr(t,"POST","/v1/accounts:delete",e)}async function wu(t,e){return Yr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AN(t,e=!1){const n=it(t),r=await n.getIdToken(e),i=xp(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Os(Nf(i.auth_time)),issuedAtTime:Os(Nf(i.iat)),expirationTime:Os(Nf(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Nf(t){return Number(t)*1e3}function xp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dl("JWT malformed, contained fewer than 3 sections"),null;try{const i=ww(n);return i?JSON.parse(i):(Dl("Failed to decode base64 JWT payload"),null)}catch(i){return Dl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function By(t){const e=xp(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof or&&kN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Os(this.lastLoginAt),this.creationTime=Os(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await sa(t,wu(n,{idToken:r}));ge(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Dw(o.providerUserInfo):[],a=CN(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Hh(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function PN(t){const e=it(t);await Eu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Dw(t){return t.map(e=>{var{providerId:n}=e,r=wp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e){const n=await Lw(t,{},async()=>{const r=Ta({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await jw(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ow.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ON(t,e){return Yr(t,"POST","/v2/accounts:revokeToken",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):By(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=By(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await RN(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new oo;return r&&(ge(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ge(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _n{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=wp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hh(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await sa(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AN(this,e)}reload(){return PN(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Eu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(jr(this.auth));const e=await this.getIdToken();return await sa(this,IN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,p=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:y,isAnonymous:N,providerData:O,stsTokenManager:x}=n;ge(_&&x,e,"internal-error");const b=oo.fromJSON(this.name,x);ge(typeof _=="string",e,"internal-error"),fr(h,e.name),fr(f,e.name),ge(typeof y=="boolean",e,"internal-error"),ge(typeof N=="boolean",e,"internal-error"),fr(m,e.name),fr(w,e.name),fr(v,e.name),fr(E,e.name),fr(p,e.name),fr(g,e.name);const C=new _n({uid:_,auth:e,email:f,emailVerified:y,displayName:h,isAnonymous:N,photoURL:w,phoneNumber:m,tenantId:v,stsTokenManager:b,createdAt:p,lastLoginAt:g});return O&&Array.isArray(O)&&(C.providerData=O.map(T=>Object.assign({},T))),E&&(C._redirectEventId=E),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new oo;i.updateFromServerResponse(n);const o=new _n({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Eu(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Dw(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new oo;a.updateFromIdToken(r);const l=new _n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Hh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=new Map;function Kn(t){er(t instanceof Function,"Expected a class definition");let e=$y.get(t);return e?(er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$y.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Mw.type="NONE";const qy=Mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t,e,n){return`firebase:${t}:${e}:${n}`}class so{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ml(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ml("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wu(this.auth,{idToken:e}).catch(()=>{});return n?_n._fromGetAccountInfoResponse(this.auth,n,e):null}return _n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new so(Kn(qy),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Kn(qy);const s=Ml(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){let h;if(typeof d=="string"){const f=await wu(e,{idToken:d}).catch(()=>{});if(!f)break;h=await _n._fromGetAccountInfoResponse(e,f,d)}else h=_n._fromJSON(e,d);c!==o&&(a=h),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new so(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new so(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qw(e))return"Blackberry";if(zw(e))return"Webos";if(Fw(e))return"Safari";if((e.includes("chrome/")||Uw(e))&&!e.includes("edge/"))return"Chrome";if($w(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Vw(t=Ot()){return/firefox\//i.test(t)}function Fw(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uw(t=Ot()){return/crios\//i.test(t)}function Bw(t=Ot()){return/iemobile/i.test(t)}function $w(t=Ot()){return/android/i.test(t)}function qw(t=Ot()){return/blackberry/i.test(t)}function zw(t=Ot()){return/webos/i.test(t)}function Tp(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LN(t=Ot()){var e;return Tp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jN(){return KA()&&document.documentMode===10}function Hw(t=Ot()){return Tp(t)||$w(t)||zw(t)||qw(t)||/windows phone/i.test(t)||Bw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t,e=[]){let n;switch(t){case"Browser":n=zy(Ot());break;case"Worker":n=`${zy(Ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t,e={}){return Yr(t,"GET","/v2/passwordPolicy",ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=6;class FN{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:VN,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hy(this),this.idTokenSubscription=new Hy(this),this.beforeStateQueue=new DN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kn(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wu(this,{idToken:e}),r=await _n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(vn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vn(this.app))return Promise.reject(jr(this));const n=e?it(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vn(this.app)?Promise.reject(jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MN(this),n=new FN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ON(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kn(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[Kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ww(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Co(t){return it(t)}class Hy{constructor(e){this.auth=e,this.observer=null,this.addObserver=tk(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BN(t){ac=t}function Kw(t){return ac.loadJS(t)}function $N(){return ac.recaptchaEnterpriseScript}function qN(){return ac.gapiScript}function zN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HN{constructor(){this.enterprise=new WN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class WN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KN="recaptcha-enterprise",Gw="NO_RECAPTCHA";class GN{constructor(e){this.type=KN,this.auth=Co(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{SN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new TN(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Uy(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(Gw)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HN().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Uy(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=$N();l.length!==0&&(l+=a),Kw(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function Wy(t,e,n,r=!1,i=!1){const o=new GN(t);let s;if(i)s=Gw;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ky(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Wy(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Wy(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t,e){const n=_p(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(wi(o,e??{}))return i;xn(i,"already-initialized")}return n.initialize({options:e})}function YN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function XN(t,e,n){const r=Co(t);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Qw(e),{host:s,port:a}=JN(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(wi(c,r.config.emulator)&&wi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ZN()}function Qw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JN(t){const e=Qw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Gy(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Gy(s)}}}function Gy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,n){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}async function eP(t,e){return Yr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(t,e){return sc(t,"POST","/v1/accounts:signInWithPassword",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(t,e){return sc(t,"POST","/v1/accounts:signInWithEmailLink",ki(t,e))}async function rP(t,e){return sc(t,"POST","/v1/accounts:signInWithEmailLink",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Sp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new aa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new aa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,n,"signInWithPassword",tP);case"emailLink":return nP(e,{email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,r,"signUpPassword",eP);case"emailLink":return rP(e,{idToken:n,email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t,e){return sc(t,"POST","/v1/accounts:signInWithIdp",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="http://localhost";class bi extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=wp(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new bi(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:iP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ta(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sP(t){const e=vs(_s(t)).link,n=e?vs(_s(e)).deep_link_id:null,r=vs(_s(t)).deep_link_id;return(r?vs(_s(r)).link:null)||r||n||e||t}class Ip{constructor(e){var n,r,i,o,s,a;const l=vs(_s(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=oP((i=l.mode)!==null&&i!==void 0?i:null);ge(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=sP(e);try{return new Ip(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return aa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ip.parseLink(n);return ge(r,"argument-error"),aa._fromEmailAndCode(e,r.code,r.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Yw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Ia{constructor(){super("facebook.com")}static credential(e){return bi._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Ia{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bi._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yr.credential(n,r)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Ia{constructor(){super("github.com")}static credential(e){return bi._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Ia{constructor(){super("twitter.com")}static credential(e,n){return bi._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _r.credential(n,r)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await _n._fromIdTokenResponse(e,r,i),s=Qy(r);return new vo({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Qy(r);return new vo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Qy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends or{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bu.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bu(e,n,r,i)}}function Xw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bu._fromErrorAndOperation(t,o,e,r):o})}async function aP(t,e,n=!1){const r=await sa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(t,e,n=!1){const{auth:r}=t;if(vn(r.app))return Promise.reject(jr(r));const i="reauthenticate";try{const o=await sa(t,Xw(r,i,e,t),n);ge(o.idToken,r,"internal-error");const s=xp(o.idToken);ge(s,r,"internal-error");const{sub:a}=s;return ge(t.uid===a,r,"user-mismatch"),vo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&xn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(t,e,n=!1){if(vn(t.app))return Promise.reject(jr(t));const r="signIn",i=await Xw(t,r,e),o=await vo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function uP(t,e){return Jw(Co(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(t){const e=Co(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function fP(t,e,n){return vn(t.app)?Promise.reject(jr(t)):uP(it(t),Ro.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cP(t),r})}function hP(t,e,n,r){return it(t).onIdTokenChanged(e,n,r)}function dP(t,e,n){return it(t).beforeAuthStateChanged(e,n)}function Zw(t,e,n,r){return it(t).onAuthStateChanged(e,n,r)}function pP(t){return it(t).signOut()}const xu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xu,"1"),this.storage.removeItem(xu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=1e3,gP=10;class tE extends eE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);jN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tE.type="LOCAL";const yP=tE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE extends eE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nE.type="SESSION";const rE=nE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await vP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=Ap("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return window}function wP(t){jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}async function EP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xP(){return iE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="firebaseLocalStorageDb",TP=1,Tu="firebaseLocalStorage",sE="fbase_key";class Aa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uc(t,e){return t.transaction([Tu],e?"readwrite":"readonly").objectStore(Tu)}function SP(){const t=indexedDB.deleteDatabase(oE);return new Aa(t).toPromise()}function Wh(){const t=indexedDB.open(oE,TP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tu,{keyPath:sE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tu)?e(r):(r.close(),await SP(),e(await Wh()))})})}async function Yy(t,e,n){const r=uc(t,!0).put({[sE]:e,value:n});return new Aa(r).toPromise()}async function IP(t,e){const n=uc(t,!1).get(e),r=await new Aa(n).toPromise();return r===void 0?null:r.value}function Xy(t,e){const n=uc(t,!0).delete(e);return new Aa(n).toPromise()}const AP=800,kP=3;class aE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lc._getInstance(xP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EP(),!this.activeServiceWorker)return;this.sender=new _P(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wh();return await Yy(e,xu,"1"),await Xy(e,xu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Yy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=uc(i,!1).getAll();return new Aa(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aE.type="LOCAL";const NP=aE;new Sa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t,e){return e?Kn(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends Sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CP(t){return Jw(t.auth,new kp(t),t.bypassAuthState)}function RP(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),lP(n,new kp(t),t.bypassAuthState)}async function OP(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),aP(n,new kp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CP;case"linkViaPopup":case"linkViaRedirect":return OP;case"reauthViaPopup":case"reauthViaRedirect":return RP;default:xn(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new Sa(2e3,1e4);class Ji extends lE{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ji.currentPopupAction&&Ji.currentPopupAction.cancel(),Ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LP.get())};e()}}Ji.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="pendingRedirect",Vl=new Map;class DP extends lE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vl.get(this.auth._key());if(!e){try{const r=await MP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vl.set(this.auth._key(),e)}return this.bypassAuthState||Vl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MP(t,e){const n=UP(e),r=FP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function VP(t,e){Vl.set(t._key(),e)}function FP(t){return Kn(t._redirectPersistence)}function UP(t){return Ml(jP,t.config.apiKey,t.name)}async function BP(t,e,n=!1){if(vn(t.app))return Promise.reject(jr(t));const r=Co(t),i=PP(r,e),s=await new DP(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=10*60*1e3;class qP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$P&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jy(e))}saveEventToCache(e){this.cachedEventUids.add(Jy(e)),this.lastProcessedEventTime=Date.now()}}function Jy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(t,e={}){return Yr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KP=/^https?/;async function GP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HP(t);for(const n of e)try{if(QP(n))return}catch{}xn(t,"unauthorized-domain")}function QP(t){const e=zh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!KP.test(n))return!1;if(WP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new Sa(3e4,6e4);function Zy(){const t=jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XP(t){return new Promise((e,n)=>{var r,i,o;function s(){Zy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zy(),n(Ln(t,"network-request-failed"))},timeout:YP.get()})}if(!((i=(r=jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=jn().gapi)===null||o===void 0)&&o.load)s();else{const a=zN("iframefcb");return jn()[a]=()=>{gapi.load?s():n(Ln(t,"network-request-failed"))},Kw(`${qN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fl=null,e})}let Fl=null;function JP(t){return Fl=Fl||XP(t),Fl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new Sa(5e3,15e3),eC="__/auth/iframe",tC="emulator/auth/iframe",nC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iC(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bp(e,tC):`https://${t.config.authDomain}/${eC}`,r={apiKey:e.apiKey,appName:t.name,v:Po},i=rC.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ta(r).slice(1)}`}async function oC(t){const e=await JP(t),n=jn().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:iC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nC,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Ln(t,"network-request-failed"),a=jn().setTimeout(()=>{o(s)},ZP.get());function l(){jn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aC=500,lC=600,uC="_blank",cC="http://localhost";class ev{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fC(t,e,n,r=aC,i=lC){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sC),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Ot().toLowerCase();n&&(a=Uw(c)?uC:n),Vw(c)&&(e=e||cC,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(LN(c)&&a!=="_self")return hC(e||"",a),new ev(null);const h=window.open(e||"",a,d);ge(h,t,"popup-blocked");try{h.focus()}catch{}return new ev(h)}function hC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="__/auth/handler",pC="emulator/auth/handler",mC=encodeURIComponent("fac");async function tv(t,e,n,r,i,o){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Po,eventId:i};if(e instanceof Yw){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",ek(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))s[d]=h}if(e instanceof Ia){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${mC}=${encodeURIComponent(l)}`:"";return`${gC(t)}?${Ta(a).slice(1)}${c}`}function gC({config:t}){return t.emulator?bp(t,pC):`https://${t.authDomain}/${dC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="webStorageSupport";class yC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rE,this._completeRedirectFn=BP,this._overrideRedirectResult=VP}async _openPopup(e,n,r,i){var o;er((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await tv(e,n,r,zh(),i);return fC(e,s,Ap())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await tv(e,n,r,zh(),i);return wP(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(er(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oC(e),r=new qP(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pf,{type:Pf},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Pf];s!==void 0&&n(!!s),xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Hw()||Fw()||Tp()}}const vC=yC;var nv="@firebase/auth",rv="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EC(t){yo(new Ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ww(t)},c=new UN(r,i,o,l);return YN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yo(new Ei("auth-internal",e=>{const n=Co(e.getProvider("auth").getImmediate());return(r=>new _C(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(nv,rv,wC(t)),Lr(nv,rv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=5*60,xC=xw("authIdTokenMaxAge")||bC;let iv=null;const TC=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xC)return;const i=n==null?void 0:n.token;iv!==i&&(iv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SC(t=Aw()){const e=_p(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QN(t,{popupRedirectResolver:vC,persistence:[NP,yP,rE]}),r=xw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=TC(o.toString());dP(n,s,()=>s(n.currentUser)),hP(n,a=>s(a))}}const i=Ew("auth");return i&&XN(n,`http://${i}`),n}function IC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}BN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ln("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",IC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EC("Browser");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dr,cE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function C(){}C.prototype=b.prototype,x.D=b.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(T,S,P){for(var A=Array(arguments.length-2),D=2;D<arguments.length;D++)A[D-2]=arguments[D];return b.prototype[S].apply(T,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,b,C){C||(C=0);var T=Array(16);if(typeof b=="string")for(var S=0;16>S;++S)T[S]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(S=0;16>S;++S)T[S]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=x.g[0],C=x.g[1],S=x.g[2];var P=x.g[3],A=b+(P^C&(S^P))+T[0]+3614090360&4294967295;b=C+(A<<7&4294967295|A>>>25),A=P+(S^b&(C^S))+T[1]+3905402710&4294967295,P=b+(A<<12&4294967295|A>>>20),A=S+(C^P&(b^C))+T[2]+606105819&4294967295,S=P+(A<<17&4294967295|A>>>15),A=C+(b^S&(P^b))+T[3]+3250441966&4294967295,C=S+(A<<22&4294967295|A>>>10),A=b+(P^C&(S^P))+T[4]+4118548399&4294967295,b=C+(A<<7&4294967295|A>>>25),A=P+(S^b&(C^S))+T[5]+1200080426&4294967295,P=b+(A<<12&4294967295|A>>>20),A=S+(C^P&(b^C))+T[6]+2821735955&4294967295,S=P+(A<<17&4294967295|A>>>15),A=C+(b^S&(P^b))+T[7]+4249261313&4294967295,C=S+(A<<22&4294967295|A>>>10),A=b+(P^C&(S^P))+T[8]+1770035416&4294967295,b=C+(A<<7&4294967295|A>>>25),A=P+(S^b&(C^S))+T[9]+2336552879&4294967295,P=b+(A<<12&4294967295|A>>>20),A=S+(C^P&(b^C))+T[10]+4294925233&4294967295,S=P+(A<<17&4294967295|A>>>15),A=C+(b^S&(P^b))+T[11]+2304563134&4294967295,C=S+(A<<22&4294967295|A>>>10),A=b+(P^C&(S^P))+T[12]+1804603682&4294967295,b=C+(A<<7&4294967295|A>>>25),A=P+(S^b&(C^S))+T[13]+4254626195&4294967295,P=b+(A<<12&4294967295|A>>>20),A=S+(C^P&(b^C))+T[14]+2792965006&4294967295,S=P+(A<<17&4294967295|A>>>15),A=C+(b^S&(P^b))+T[15]+1236535329&4294967295,C=S+(A<<22&4294967295|A>>>10),A=b+(S^P&(C^S))+T[1]+4129170786&4294967295,b=C+(A<<5&4294967295|A>>>27),A=P+(C^S&(b^C))+T[6]+3225465664&4294967295,P=b+(A<<9&4294967295|A>>>23),A=S+(b^C&(P^b))+T[11]+643717713&4294967295,S=P+(A<<14&4294967295|A>>>18),A=C+(P^b&(S^P))+T[0]+3921069994&4294967295,C=S+(A<<20&4294967295|A>>>12),A=b+(S^P&(C^S))+T[5]+3593408605&4294967295,b=C+(A<<5&4294967295|A>>>27),A=P+(C^S&(b^C))+T[10]+38016083&4294967295,P=b+(A<<9&4294967295|A>>>23),A=S+(b^C&(P^b))+T[15]+3634488961&4294967295,S=P+(A<<14&4294967295|A>>>18),A=C+(P^b&(S^P))+T[4]+3889429448&4294967295,C=S+(A<<20&4294967295|A>>>12),A=b+(S^P&(C^S))+T[9]+568446438&4294967295,b=C+(A<<5&4294967295|A>>>27),A=P+(C^S&(b^C))+T[14]+3275163606&4294967295,P=b+(A<<9&4294967295|A>>>23),A=S+(b^C&(P^b))+T[3]+4107603335&4294967295,S=P+(A<<14&4294967295|A>>>18),A=C+(P^b&(S^P))+T[8]+1163531501&4294967295,C=S+(A<<20&4294967295|A>>>12),A=b+(S^P&(C^S))+T[13]+2850285829&4294967295,b=C+(A<<5&4294967295|A>>>27),A=P+(C^S&(b^C))+T[2]+4243563512&4294967295,P=b+(A<<9&4294967295|A>>>23),A=S+(b^C&(P^b))+T[7]+1735328473&4294967295,S=P+(A<<14&4294967295|A>>>18),A=C+(P^b&(S^P))+T[12]+2368359562&4294967295,C=S+(A<<20&4294967295|A>>>12),A=b+(C^S^P)+T[5]+4294588738&4294967295,b=C+(A<<4&4294967295|A>>>28),A=P+(b^C^S)+T[8]+2272392833&4294967295,P=b+(A<<11&4294967295|A>>>21),A=S+(P^b^C)+T[11]+1839030562&4294967295,S=P+(A<<16&4294967295|A>>>16),A=C+(S^P^b)+T[14]+4259657740&4294967295,C=S+(A<<23&4294967295|A>>>9),A=b+(C^S^P)+T[1]+2763975236&4294967295,b=C+(A<<4&4294967295|A>>>28),A=P+(b^C^S)+T[4]+1272893353&4294967295,P=b+(A<<11&4294967295|A>>>21),A=S+(P^b^C)+T[7]+4139469664&4294967295,S=P+(A<<16&4294967295|A>>>16),A=C+(S^P^b)+T[10]+3200236656&4294967295,C=S+(A<<23&4294967295|A>>>9),A=b+(C^S^P)+T[13]+681279174&4294967295,b=C+(A<<4&4294967295|A>>>28),A=P+(b^C^S)+T[0]+3936430074&4294967295,P=b+(A<<11&4294967295|A>>>21),A=S+(P^b^C)+T[3]+3572445317&4294967295,S=P+(A<<16&4294967295|A>>>16),A=C+(S^P^b)+T[6]+76029189&4294967295,C=S+(A<<23&4294967295|A>>>9),A=b+(C^S^P)+T[9]+3654602809&4294967295,b=C+(A<<4&4294967295|A>>>28),A=P+(b^C^S)+T[12]+3873151461&4294967295,P=b+(A<<11&4294967295|A>>>21),A=S+(P^b^C)+T[15]+530742520&4294967295,S=P+(A<<16&4294967295|A>>>16),A=C+(S^P^b)+T[2]+3299628645&4294967295,C=S+(A<<23&4294967295|A>>>9),A=b+(S^(C|~P))+T[0]+4096336452&4294967295,b=C+(A<<6&4294967295|A>>>26),A=P+(C^(b|~S))+T[7]+1126891415&4294967295,P=b+(A<<10&4294967295|A>>>22),A=S+(b^(P|~C))+T[14]+2878612391&4294967295,S=P+(A<<15&4294967295|A>>>17),A=C+(P^(S|~b))+T[5]+4237533241&4294967295,C=S+(A<<21&4294967295|A>>>11),A=b+(S^(C|~P))+T[12]+1700485571&4294967295,b=C+(A<<6&4294967295|A>>>26),A=P+(C^(b|~S))+T[3]+2399980690&4294967295,P=b+(A<<10&4294967295|A>>>22),A=S+(b^(P|~C))+T[10]+4293915773&4294967295,S=P+(A<<15&4294967295|A>>>17),A=C+(P^(S|~b))+T[1]+2240044497&4294967295,C=S+(A<<21&4294967295|A>>>11),A=b+(S^(C|~P))+T[8]+1873313359&4294967295,b=C+(A<<6&4294967295|A>>>26),A=P+(C^(b|~S))+T[15]+4264355552&4294967295,P=b+(A<<10&4294967295|A>>>22),A=S+(b^(P|~C))+T[6]+2734768916&4294967295,S=P+(A<<15&4294967295|A>>>17),A=C+(P^(S|~b))+T[13]+1309151649&4294967295,C=S+(A<<21&4294967295|A>>>11),A=b+(S^(C|~P))+T[4]+4149444226&4294967295,b=C+(A<<6&4294967295|A>>>26),A=P+(C^(b|~S))+T[11]+3174756917&4294967295,P=b+(A<<10&4294967295|A>>>22),A=S+(b^(P|~C))+T[2]+718787259&4294967295,S=P+(A<<15&4294967295|A>>>17),A=C+(P^(S|~b))+T[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(S+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+S&4294967295,x.g[3]=x.g[3]+P&4294967295}r.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var C=b-this.blockSize,T=this.B,S=this.h,P=0;P<b;){if(S==0)for(;P<=C;)i(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<b;)if(T[S++]=x.charCodeAt(P++),S==this.blockSize){i(this,T),S=0;break}}else for(;P<b;)if(T[S++]=x[P++],S==this.blockSize){i(this,T),S=0;break}}this.h=S,this.o+=b},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var C=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=C&255,C/=256;for(this.u(x),x=Array(16),b=C=0;4>b;++b)for(var T=0;32>T;T+=8)x[C++]=this.g[b]>>>T&255;return x};function o(x,b){var C=a;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=b(x)}function s(x,b){this.h=b;for(var C=[],T=!0,S=x.length-1;0<=S;S--){var P=x[S]|0;T&&P==b||(C[S]=P,T=!1)}this.g=C}var a={};function l(x){return-128<=x&&128>x?o(x,function(b){return new s([b|0],0>b?-1:0)}):new s([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return E(c(-x));for(var b=[],C=1,T=0;x>=C;T++)b[T]=x/C|0,C*=4294967296;return new s(b,0)}function d(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return E(d(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(b,8)),T=h,S=0;S<x.length;S+=8){var P=Math.min(8,x.length-S),A=parseInt(x.substring(S,S+P),b);8>P?(P=c(Math.pow(b,P)),T=T.j(P).add(c(A))):(T=T.j(C),T=T.add(c(A)))}return T}var h=l(0),f=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-E(this).m();for(var x=0,b=1,C=0;C<this.g.length;C++){var T=this.i(C);x+=(0<=T?T:4294967296+T)*b,b*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(w(this))return"0";if(v(this))return"-"+E(this).toString(x);for(var b=c(Math.pow(x,6)),C=this,T="";;){var S=y(C,b).g;C=p(C,S.j(b));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=S,w(C))return P+T;for(;6>P.length;)P="0"+P;T=P+T}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function w(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function v(x){return x.h==-1}t.l=function(x){return x=p(this,x),v(x)?-1:w(x)?0:1};function E(x){for(var b=x.g.length,C=[],T=0;T<b;T++)C[T]=~x.g[T];return new s(C,~x.h).add(f)}t.abs=function(){return v(this)?E(this):this},t.add=function(x){for(var b=Math.max(this.g.length,x.g.length),C=[],T=0,S=0;S<=b;S++){var P=T+(this.i(S)&65535)+(x.i(S)&65535),A=(P>>>16)+(this.i(S)>>>16)+(x.i(S)>>>16);T=A>>>16,P&=65535,A&=65535,C[S]=A<<16|P}return new s(C,C[C.length-1]&-2147483648?-1:0)};function p(x,b){return x.add(E(b))}t.j=function(x){if(w(this)||w(x))return h;if(v(this))return v(x)?E(this).j(E(x)):E(E(this).j(x));if(v(x))return E(this.j(E(x)));if(0>this.l(m)&&0>x.l(m))return c(this.m()*x.m());for(var b=this.g.length+x.g.length,C=[],T=0;T<2*b;T++)C[T]=0;for(T=0;T<this.g.length;T++)for(var S=0;S<x.g.length;S++){var P=this.i(T)>>>16,A=this.i(T)&65535,D=x.i(S)>>>16,U=x.i(S)&65535;C[2*T+2*S]+=A*U,g(C,2*T+2*S),C[2*T+2*S+1]+=P*U,g(C,2*T+2*S+1),C[2*T+2*S+1]+=A*D,g(C,2*T+2*S+1),C[2*T+2*S+2]+=P*D,g(C,2*T+2*S+2)}for(T=0;T<b;T++)C[T]=C[2*T+1]<<16|C[2*T];for(T=b;T<2*b;T++)C[T]=0;return new s(C,0)};function g(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function _(x,b){this.g=x,this.h=b}function y(x,b){if(w(b))throw Error("division by zero");if(w(x))return new _(h,h);if(v(x))return b=y(E(x),b),new _(E(b.g),E(b.h));if(v(b))return b=y(x,E(b)),new _(E(b.g),b.h);if(30<x.g.length){if(v(x)||v(b))throw Error("slowDivide_ only works with positive integers.");for(var C=f,T=b;0>=T.l(x);)C=N(C),T=N(T);var S=O(C,1),P=O(T,1);for(T=O(T,2),C=O(C,2);!w(T);){var A=P.add(T);0>=A.l(x)&&(S=S.add(C),P=A),T=O(T,1),C=O(C,1)}return b=p(x,S.j(b)),new _(S,b)}for(S=h;0<=x.l(b);){for(C=Math.max(1,Math.floor(x.m()/b.m())),T=Math.ceil(Math.log(C)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),P=c(C),A=P.j(b);v(A)||0<A.l(x);)C-=T,P=c(C),A=P.j(b);w(P)&&(P=f),S=S.add(P),x=p(x,A)}return new _(S,x)}t.A=function(x){return y(this,x).h},t.and=function(x){for(var b=Math.max(this.g.length,x.g.length),C=[],T=0;T<b;T++)C[T]=this.i(T)&x.i(T);return new s(C,this.h&x.h)},t.or=function(x){for(var b=Math.max(this.g.length,x.g.length),C=[],T=0;T<b;T++)C[T]=this.i(T)|x.i(T);return new s(C,this.h|x.h)},t.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),C=[],T=0;T<b;T++)C[T]=this.i(T)^x.i(T);return new s(C,this.h^x.h)};function N(x){for(var b=x.g.length+1,C=[],T=0;T<b;T++)C[T]=x.i(T)<<1|x.i(T-1)>>>31;return new s(C,x.h)}function O(x,b){var C=b>>5;b%=32;for(var T=x.g.length-C,S=[],P=0;P<T;P++)S[P]=0<b?x.i(P+C)>>>b|x.i(P+C+1)<<32-b:x.i(P+C);return new s(S,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cE=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,Dr=s}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fE,ws,hE,Ul,Kh,dE,pE,mE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,I,R){return u==Array.prototype||u==Object.prototype||(u[I]=R.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gl=="object"&&gl];for(var I=0;I<u.length;++I){var R=u[I];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(u,I){if(I)e:{var R=r;u=u.split(".");for(var j=0;j<u.length-1;j++){var Y=u[j];if(!(Y in R))break e;R=R[Y]}u=u[u.length-1],j=R[u],I=I(j),I!=j&&I!=null&&e(R,u,{configurable:!0,writable:!0,value:I})}}function o(u,I){u instanceof String&&(u+="");var R=0,j=!1,Y={next:function(){if(!j&&R<u.length){var Z=R++;return{value:I(Z,u[Z]),done:!1}}return j=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(u){return u||function(){return o(this,function(I,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(u){var I=typeof u;return I=I!="object"?I:u?Array.isArray(u)?"array":I:"null",I=="array"||I=="object"&&typeof u.length=="number"}function c(u){var I=typeof u;return I=="object"&&u!=null||I=="function"}function d(u,I,R){return u.call.apply(u.bind,arguments)}function h(u,I,R){if(!u)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,j),u.apply(I,Y)}}return function(){return u.apply(I,arguments)}}function f(u,I,R){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(u,I){var R=Array.prototype.slice.call(arguments,1);return function(){var j=R.slice();return j.push.apply(j,arguments),u.apply(this,j)}}function w(u,I){function R(){}R.prototype=I.prototype,u.aa=I.prototype,u.prototype=new R,u.prototype.constructor=u,u.Qb=function(j,Y,Z){for(var ae=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ae[Fe-2]=arguments[Fe];return I.prototype[Y].apply(j,ae)}}function v(u){const I=u.length;if(0<I){const R=Array(I);for(let j=0;j<I;j++)R[j]=u[j];return R}return[]}function E(u,I){for(let R=1;R<arguments.length;R++){const j=arguments[R];if(l(j)){const Y=u.length||0,Z=j.length||0;u.length=Y+Z;for(let ae=0;ae<Z;ae++)u[Y+ae]=j[ae]}else u.push(j)}}class p{constructor(I,R){this.i=I,this.j=R,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function g(u){return/^[\s\xa0]*$/.test(u)}function _(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function y(u){return y[" "](u),u}y[" "]=function(){};var N=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function O(u,I,R){for(const j in u)I.call(R,u[j],j,u)}function x(u,I){for(const R in u)I.call(void 0,u[R],R,u)}function b(u){const I={};for(const R in u)I[R]=u[R];return I}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,I){let R,j;for(let Y=1;Y<arguments.length;Y++){j=arguments[Y];for(R in j)u[R]=j[R];for(let Z=0;Z<C.length;Z++)R=C[Z],Object.prototype.hasOwnProperty.call(j,R)&&(u[R]=j[R])}}function S(u){var I=1;u=u.split(":");const R=[];for(;0<I&&u.length;)R.push(u.shift()),I--;return u.length&&R.push(u.join(":")),R}function P(u){a.setTimeout(()=>{throw u},0)}function A(){var u=$;let I=null;return u.g&&(I=u.g,u.g=u.g.next,u.g||(u.h=null),I.next=null),I}class D{constructor(){this.h=this.g=null}add(I,R){const j=U.get();j.set(I,R),this.h?this.h.next=j:this.g=j,this.h=j}}var U=new p(()=>new z,u=>u.reset());class z{constructor(){this.next=this.g=this.h=null}set(I,R){this.h=I,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let W,K=!1,$=new D,F=()=>{const u=a.Promise.resolve(void 0);W=()=>{u.then(L)}};var L=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(R){P(R)}var I=U;I.j(u),100>I.h&&(I.h++,u.next=I.g,I.g=u)}K=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(u,I){this.type=u,this.g=this.target=I,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,I=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const R=()=>{};a.addEventListener("test",R,I),a.removeEventListener("test",R,I)}catch{}return u}();function H(u,I){if(B.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var R=this.type=u.type,j=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=I,I=u.relatedTarget){if(N){e:{try{y(I.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(I=null)}}else R=="mouseover"?I=u.fromElement:R=="mouseout"&&(I=u.toElement);this.relatedTarget=I,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:V[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&H.aa.h.call(this)}}w(H,B);var V={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),X=0;function J(u,I,R,j,Y){this.listener=u,this.proxy=null,this.src=I,this.type=R,this.capture=!!j,this.ha=Y,this.key=++X,this.da=this.fa=!1}function ie(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,I,R,j,Y){var Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);var ae=ve(u,I,j,Y);return-1<ae?(I=u[ae],R||(I.fa=!1)):(I=new J(I,this.src,Z,!!j,Y),I.fa=R,u.push(I)),I};function me(u,I){var R=I.type;if(R in u.g){var j=u.g[R],Y=Array.prototype.indexOf.call(j,I,void 0),Z;(Z=0<=Y)&&Array.prototype.splice.call(j,Y,1),Z&&(ie(I),u.g[R].length==0&&(delete u.g[R],u.h--))}}function ve(u,I,R,j){for(var Y=0;Y<u.length;++Y){var Z=u[Y];if(!Z.da&&Z.listener==I&&Z.capture==!!R&&Z.ha==j)return Y}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),Re={};function gt(u,I,R,j,Y){if(Array.isArray(I)){for(var Z=0;Z<I.length;Z++)gt(u,I[Z],R,j,Y);return null}return R=Te(R),u&&u[q]?u.K(I,R,c(j)?!!j.capture:!1,Y):tt(u,I,R,!1,j,Y)}function tt(u,I,R,j,Y,Z){if(!I)throw Error("Invalid event type");var ae=c(Y)?!!Y.capture:!!Y,Fe=Ee(u);if(Fe||(u[Se]=Fe=new ce(u)),R=Fe.add(I,R,j,ae,Z),R.proxy)return R;if(j=ee(),R.proxy=j,j.src=u,j.listener=R,u.addEventListener)G||(Y=ae),Y===void 0&&(Y=!1),u.addEventListener(I.toString(),j,Y);else if(u.attachEvent)u.attachEvent(ue(I.toString()),j);else if(u.addListener&&u.removeListener)u.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return R}function ee(){function u(R){return I.call(u.src,u.listener,R)}const I=oe;return u}function te(u,I,R,j,Y){if(Array.isArray(I))for(var Z=0;Z<I.length;Z++)te(u,I[Z],R,j,Y);else j=c(j)?!!j.capture:!!j,R=Te(R),u&&u[q]?(u=u.i,I=String(I).toString(),I in u.g&&(Z=u.g[I],R=ve(Z,R,j,Y),-1<R&&(ie(Z[R]),Array.prototype.splice.call(Z,R,1),Z.length==0&&(delete u.g[I],u.h--)))):u&&(u=Ee(u))&&(I=u.g[I.toString()],u=-1,I&&(u=ve(I,R,j,Y)),(R=-1<u?I[u]:null)&&le(R))}function le(u){if(typeof u!="number"&&u&&!u.da){var I=u.src;if(I&&I[q])me(I.i,u);else{var R=u.type,j=u.proxy;I.removeEventListener?I.removeEventListener(R,j,u.capture):I.detachEvent?I.detachEvent(ue(R),j):I.addListener&&I.removeListener&&I.removeListener(j),(R=Ee(I))?(me(R,u),R.h==0&&(R.src=null,I[Se]=null)):ie(u)}}}function ue(u){return u in Re?Re[u]:Re[u]="on"+u}function oe(u,I){if(u.da)u=!0;else{I=new H(I,this);var R=u.listener,j=u.ha||u.src;u.fa&&le(u),u=R.call(j,I)}return u}function Ee(u){return u=u[Se],u instanceof ce?u:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(u){return typeof u=="function"?u:(u[be]||(u[be]=function(I){return u.handleEvent(I)}),u[be])}function De(){M.call(this),this.i=new ce(this),this.M=this,this.F=null}w(De,M),De.prototype[q]=!0,De.prototype.removeEventListener=function(u,I,R,j){te(this,u,I,R,j)};function Be(u,I){var R,j=u.F;if(j)for(R=[];j;j=j.F)R.push(j);if(u=u.M,j=I.type||I,typeof I=="string")I=new B(I,u);else if(I instanceof B)I.target=I.target||u;else{var Y=I;I=new B(j,u),T(I,Y)}if(Y=!0,R)for(var Z=R.length-1;0<=Z;Z--){var ae=I.g=R[Z];Y=Ve(ae,j,!0,I)&&Y}if(ae=I.g=u,Y=Ve(ae,j,!0,I)&&Y,Y=Ve(ae,j,!1,I)&&Y,R)for(Z=0;Z<R.length;Z++)ae=I.g=R[Z],Y=Ve(ae,j,!1,I)&&Y}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var u=this.i,I;for(I in u.g){for(var R=u.g[I],j=0;j<R.length;j++)ie(R[j]);delete u.g[I],u.h--}}this.F=null},De.prototype.K=function(u,I,R,j){return this.i.add(String(u),I,!1,R,j)},De.prototype.L=function(u,I,R,j){return this.i.add(String(u),I,!0,R,j)};function Ve(u,I,R,j){if(I=u.i.g[String(I)],!I)return!0;I=I.concat();for(var Y=!0,Z=0;Z<I.length;++Z){var ae=I[Z];if(ae&&!ae.da&&ae.capture==R){var Fe=ae.listener,yt=ae.ha||ae.src;ae.fa&&me(u.i,ae),Y=Fe.call(yt,j)!==!1&&Y}}return Y&&!j.defaultPrevented}function Da(u,I,R){if(typeof u=="function")R&&(u=f(u,R));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:a.setTimeout(u,I||0)}function Ge(u){u.g=Da(()=>{u.g=null,u.i&&(u.i=!1,Ge(u))},u.l);const I=u.h;u.h=null,u.m.apply(null,I)}class Sn extends M{constructor(I,R){super(),this.m=I,this.l=R,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Ge(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zo(u){M.call(this),this.h=u,this.g={}}w(zo,M);var gm=[];function ym(u){O(u.g,function(I,R){this.g.hasOwnProperty(R)&&le(I)},u),u.g={}}zo.prototype.N=function(){zo.aa.N.call(this),ym(this)},zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oc=a.JSON.stringify,yx=a.JSON.parse,vx=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Lc(){}Lc.prototype.h=null;function vm(u){return u.h||(u.h=u.i())}function _m(){}var Ho={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jc(){B.call(this,"d")}w(jc,B);function Dc(){B.call(this,"c")}w(Dc,B);var ei={},wm=null;function Ma(){return wm=wm||new De}ei.La="serverreachability";function Em(u){B.call(this,ei.La,u)}w(Em,B);function Wo(u){const I=Ma();Be(I,new Em(I))}ei.STAT_EVENT="statevent";function bm(u,I){B.call(this,ei.STAT_EVENT,u),this.stat=I}w(bm,B);function Lt(u){const I=Ma();Be(I,new bm(I,u))}ei.Ma="timingevent";function xm(u,I){B.call(this,ei.Ma,u),this.size=I}w(xm,B);function Ko(u,I){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},I)}function Go(){this.g=!0}Go.prototype.xa=function(){this.g=!1};function _x(u,I,R,j,Y,Z){u.info(function(){if(u.g)if(Z)for(var ae="",Fe=Z.split("&"),yt=0;yt<Fe.length;yt++){var Le=Fe[yt].split("=");if(1<Le.length){var Tt=Le[0];Le=Le[1];var St=Tt.split("_");ae=2<=St.length&&St[1]=="type"?ae+(Tt+"="+Le+"&"):ae+(Tt+"=redacted&")}}else ae=null;else ae=Z;return"XMLHTTP REQ ("+j+") [attempt "+Y+"]: "+I+`
`+R+`
`+ae})}function wx(u,I,R,j,Y,Z,ae){u.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+Y+"]: "+I+`
`+R+`
`+Z+" "+ae})}function Ci(u,I,R,j){u.info(function(){return"XMLHTTP TEXT ("+I+"): "+bx(u,R)+(j?" "+j:"")})}function Ex(u,I){u.info(function(){return"TIMEOUT: "+I})}Go.prototype.info=function(){};function bx(u,I){if(!u.g)return I;if(!I)return null;try{var R=JSON.parse(I);if(R){for(u=0;u<R.length;u++)if(Array.isArray(R[u])){var j=R[u];if(!(2>j.length)){var Y=j[1];if(Array.isArray(Y)&&!(1>Y.length)){var Z=Y[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ae=1;ae<Y.length;ae++)Y[ae]=""}}}}return Oc(R)}catch{return I}}var Va={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mc;function Fa(){}w(Fa,Lc),Fa.prototype.g=function(){return new XMLHttpRequest},Fa.prototype.i=function(){return{}},Mc=new Fa;function ar(u,I,R,j){this.j=u,this.i=I,this.l=R,this.R=j||1,this.U=new zo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sm}function Sm(){this.i=null,this.g="",this.h=!1}var Im={},Vc={};function Fc(u,I,R){u.L=1,u.v=qa(Un(I)),u.m=R,u.P=!0,Am(u,null)}function Am(u,I){u.F=Date.now(),Ua(u),u.A=Un(u.v);var R=u.A,j=u.R;Array.isArray(j)||(j=[String(j)]),Bm(R.i,"t",j),u.C=0,R=u.j.J,u.h=new Sm,u.g=og(u.j,R?I:null,!u.m),0<u.O&&(u.M=new Sn(f(u.Y,u,u.g),u.O)),I=u.U,R=u.g,j=u.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(gm[0]=Y.toString()),Y=gm);for(var Z=0;Z<Y.length;Z++){var ae=gt(R,Y[Z],j||I.handleEvent,!1,I.h||I);if(!ae)break;I.g[ae.key]=ae}I=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,I)):(u.u="GET",u.g.ea(u.A,u.u,null,I)),Wo(),_x(u.i,u.u,u.A,u.l,u.R,u.m)}ar.prototype.ca=function(u){u=u.target;const I=this.M;I&&Bn(u)==3?I.j():this.Y(u)},ar.prototype.Y=function(u){try{if(u==this.g)e:{const St=Bn(this.g);var I=this.g.Ba();const Li=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Gm(this.g)))){this.J||St!=4||I==7||(I==8||0>=Li?Wo(3):Wo(2)),Uc(this);var R=this.g.Z();this.X=R;t:if(km(this)){var j=Gm(this.g);u="";var Y=j.length,Z=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ti(this),Qo(this);var ae="";break t}this.h.i=new a.TextDecoder}for(I=0;I<Y;I++)this.h.h=!0,u+=this.h.i.decode(j[I],{stream:!(Z&&I==Y-1)});j.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=R==200,wx(this.i,this.u,this.A,this.l,this.R,St,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,yt=this.g;if((Fe=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(Fe)){var Le=Fe;break t}}Le=null}if(R=Le)Ci(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bc(this,R);else{this.o=!1,this.s=3,Lt(12),ti(this),Qo(this);break e}}if(this.P){R=!0;let hn;for(;!this.J&&this.C<ae.length;)if(hn=xx(this,ae),hn==Vc){St==4&&(this.s=4,Lt(14),R=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Im){this.s=4,Lt(15),Ci(this.i,this.l,ae,"[Invalid Chunk]"),R=!1;break}else Ci(this.i,this.l,hn,null),Bc(this,hn);if(km(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ae.length!=0||this.h.h||(this.s=1,Lt(16),R=!1),this.o=this.o&&R,!R)Ci(this.i,this.l,ae,"[Invalid Chunked Response]"),ti(this),Qo(this);else if(0<ae.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Kc(Tt),Tt.M=!0,Lt(11))}}else Ci(this.i,this.l,ae,null),Bc(this,ae);St==4&&ti(this),this.o&&!this.J&&(St==4?tg(this.j,this):(this.o=!1,Ua(this)))}else Ux(this.g),R==400&&0<ae.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),ti(this),Qo(this)}}}catch{}finally{}};function km(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function xx(u,I){var R=u.C,j=I.indexOf(`
`,R);return j==-1?Vc:(R=Number(I.substring(R,j)),isNaN(R)?Im:(j+=1,j+R>I.length?Vc:(I=I.slice(j,j+R),u.C=j+R,I)))}ar.prototype.cancel=function(){this.J=!0,ti(this)};function Ua(u){u.S=Date.now()+u.I,Nm(u,u.I)}function Nm(u,I){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ko(f(u.ba,u),I)}function Uc(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ar.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ex(this.i,this.A),this.L!=2&&(Wo(),Lt(17)),ti(this),this.s=2,Qo(this)):Nm(this,this.S-u)};function Qo(u){u.j.G==0||u.J||tg(u.j,u)}function ti(u){Uc(u);var I=u.M;I&&typeof I.ma=="function"&&I.ma(),u.M=null,ym(u.U),u.g&&(I=u.g,u.g=null,I.abort(),I.ma())}function Bc(u,I){try{var R=u.j;if(R.G!=0&&(R.g==u||$c(R.h,u))){if(!u.K&&$c(R.h,u)&&R.G==3){try{var j=R.Da.g.parse(I)}catch{j=null}if(Array.isArray(j)&&j.length==3){var Y=j;if(Y[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<u.F)Qa(R),Ka(R);else break e;Wc(R),Lt(18)}}else R.za=Y[1],0<R.za-R.T&&37500>Y[2]&&R.F&&R.v==0&&!R.C&&(R.C=Ko(f(R.Za,R),6e3));if(1>=Rm(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else ri(R,11)}else if((u.K||R.g==u)&&Qa(R),!g(I))for(Y=R.Da.g.parse(I),I=0;I<Y.length;I++){let Le=Y[I];if(R.T=Le[0],Le=Le[1],R.G==2)if(Le[0]=="c"){R.K=Le[1],R.ia=Le[2];const Tt=Le[3];Tt!=null&&(R.la=Tt,R.j.info("VER="+R.la));const St=Le[4];St!=null&&(R.Aa=St,R.j.info("SVER="+R.Aa));const Li=Le[5];Li!=null&&typeof Li=="number"&&0<Li&&(j=1.5*Li,R.L=j,R.j.info("backChannelRequestTimeoutMs_="+j)),j=R;const hn=u.g;if(hn){const Xa=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xa){var Z=j.h;Z.g||Xa.indexOf("spdy")==-1&&Xa.indexOf("quic")==-1&&Xa.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(qc(Z,Z.h),Z.h=null))}if(j.D){const Gc=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gc&&(j.ya=Gc,$e(j.I,j.D,Gc))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-u.F,R.j.info("Handshake RTT: "+R.R+"ms")),j=R;var ae=u;if(j.qa=ig(j,j.J?j.ia:null,j.W),ae.K){Om(j.h,ae);var Fe=ae,yt=j.L;yt&&(Fe.I=yt),Fe.B&&(Uc(Fe),Ua(Fe)),j.g=ae}else Zm(j);0<R.i.length&&Ga(R)}else Le[0]!="stop"&&Le[0]!="close"||ri(R,7);else R.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?ri(R,7):Hc(R):Le[0]!="noop"&&R.l&&R.l.ta(Le),R.v=0)}}Wo(4)}catch{}}var Tx=class{constructor(u,I){this.g=u,this.map=I}};function Pm(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cm(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rm(u){return u.h?1:u.g?u.g.size:0}function $c(u,I){return u.h?u.h==I:u.g?u.g.has(I):!1}function qc(u,I){u.g?u.g.add(I):u.h=I}function Om(u,I){u.h&&u.h==I?u.h=null:u.g&&u.g.has(I)&&u.g.delete(I)}Pm.prototype.cancel=function(){if(this.i=Lm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Lm(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let I=u.i;for(const R of u.g.values())I=I.concat(R.D);return I}return v(u.i)}function Sx(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var I=[],R=u.length,j=0;j<R;j++)I.push(u[j]);return I}I=[],R=0;for(j in u)I[R++]=u[j];return I}function Ix(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var I=[];u=u.length;for(var R=0;R<u;R++)I.push(R);return I}I=[],R=0;for(const j in u)I[R++]=j;return I}}}function jm(u,I){if(u.forEach&&typeof u.forEach=="function")u.forEach(I,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,I,void 0);else for(var R=Ix(u),j=Sx(u),Y=j.length,Z=0;Z<Y;Z++)I.call(void 0,j[Z],R&&R[Z],u)}var Dm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ax(u,I){if(u){u=u.split("&");for(var R=0;R<u.length;R++){var j=u[R].indexOf("="),Y=null;if(0<=j){var Z=u[R].substring(0,j);Y=u[R].substring(j+1)}else Z=u[R];I(Z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ni(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ni){this.h=u.h,Ba(this,u.j),this.o=u.o,this.g=u.g,$a(this,u.s),this.l=u.l;var I=u.i,R=new Jo;R.i=I.i,I.g&&(R.g=new Map(I.g),R.h=I.h),Mm(this,R),this.m=u.m}else u&&(I=String(u).match(Dm))?(this.h=!1,Ba(this,I[1]||"",!0),this.o=Yo(I[2]||""),this.g=Yo(I[3]||"",!0),$a(this,I[4]),this.l=Yo(I[5]||"",!0),Mm(this,I[6]||"",!0),this.m=Yo(I[7]||"")):(this.h=!1,this.i=new Jo(null,this.h))}ni.prototype.toString=function(){var u=[],I=this.j;I&&u.push(Xo(I,Vm,!0),":");var R=this.g;return(R||I=="file")&&(u.push("//"),(I=this.o)&&u.push(Xo(I,Vm,!0),"@"),u.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&u.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&u.push("/"),u.push(Xo(R,R.charAt(0)=="/"?Px:Nx,!0))),(R=this.i.toString())&&u.push("?",R),(R=this.m)&&u.push("#",Xo(R,Rx)),u.join("")};function Un(u){return new ni(u)}function Ba(u,I,R){u.j=R?Yo(I,!0):I,u.j&&(u.j=u.j.replace(/:$/,""))}function $a(u,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);u.s=I}else u.s=null}function Mm(u,I,R){I instanceof Jo?(u.i=I,Ox(u.i,u.h)):(R||(I=Xo(I,Cx)),u.i=new Jo(I,u.h))}function $e(u,I,R){u.i.set(I,R)}function qa(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Yo(u,I){return u?I?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xo(u,I,R){return typeof u=="string"?(u=encodeURI(u).replace(I,kx),R&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kx(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Vm=/[#\/\?@]/g,Nx=/[#\?:]/g,Px=/[#\?]/g,Cx=/[#\?@]/g,Rx=/#/g;function Jo(u,I){this.h=this.g=null,this.i=u||null,this.j=!!I}function lr(u){u.g||(u.g=new Map,u.h=0,u.i&&Ax(u.i,function(I,R){u.add(decodeURIComponent(I.replace(/\+/g," ")),R)}))}t=Jo.prototype,t.add=function(u,I){lr(this),this.i=null,u=Ri(this,u);var R=this.g.get(u);return R||this.g.set(u,R=[]),R.push(I),this.h+=1,this};function Fm(u,I){lr(u),I=Ri(u,I),u.g.has(I)&&(u.i=null,u.h-=u.g.get(I).length,u.g.delete(I))}function Um(u,I){return lr(u),I=Ri(u,I),u.g.has(I)}t.forEach=function(u,I){lr(this),this.g.forEach(function(R,j){R.forEach(function(Y){u.call(I,Y,j,this)},this)},this)},t.na=function(){lr(this);const u=Array.from(this.g.values()),I=Array.from(this.g.keys()),R=[];for(let j=0;j<I.length;j++){const Y=u[j];for(let Z=0;Z<Y.length;Z++)R.push(I[j])}return R},t.V=function(u){lr(this);let I=[];if(typeof u=="string")Um(this,u)&&(I=I.concat(this.g.get(Ri(this,u))));else{u=Array.from(this.g.values());for(let R=0;R<u.length;R++)I=I.concat(u[R])}return I},t.set=function(u,I){return lr(this),this.i=null,u=Ri(this,u),Um(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[I]),this.h+=1,this},t.get=function(u,I){return u?(u=this.V(u),0<u.length?String(u[0]):I):I};function Bm(u,I,R){Fm(u,I),0<R.length&&(u.i=null,u.g.set(Ri(u,I),v(R)),u.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],I=Array.from(this.g.keys());for(var R=0;R<I.length;R++){var j=I[R];const Z=encodeURIComponent(String(j)),ae=this.V(j);for(j=0;j<ae.length;j++){var Y=Z;ae[j]!==""&&(Y+="="+encodeURIComponent(String(ae[j]))),u.push(Y)}}return this.i=u.join("&")};function Ri(u,I){return I=String(I),u.j&&(I=I.toLowerCase()),I}function Ox(u,I){I&&!u.j&&(lr(u),u.i=null,u.g.forEach(function(R,j){var Y=j.toLowerCase();j!=Y&&(Fm(this,j),Bm(this,Y,R))},u)),u.j=I}function Lx(u,I){const R=new Go;if(a.Image){const j=new Image;j.onload=m(ur,R,"TestLoadImage: loaded",!0,I,j),j.onerror=m(ur,R,"TestLoadImage: error",!1,I,j),j.onabort=m(ur,R,"TestLoadImage: abort",!1,I,j),j.ontimeout=m(ur,R,"TestLoadImage: timeout",!1,I,j),a.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=u}else I(!1)}function jx(u,I){const R=new Go,j=new AbortController,Y=setTimeout(()=>{j.abort(),ur(R,"TestPingServer: timeout",!1,I)},1e4);fetch(u,{signal:j.signal}).then(Z=>{clearTimeout(Y),Z.ok?ur(R,"TestPingServer: ok",!0,I):ur(R,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(Y),ur(R,"TestPingServer: error",!1,I)})}function ur(u,I,R,j,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),j(R)}catch{}}function Dx(){this.g=new vx}function Mx(u,I,R){const j=R||"";try{jm(u,function(Y,Z){let ae=Y;c(Y)&&(ae=Oc(Y)),I.push(j+Z+"="+encodeURIComponent(ae))})}catch(Y){throw I.push(j+"type="+encodeURIComponent("_badmap")),Y}}function za(u){this.l=u.Ub||null,this.j=u.eb||!1}w(za,Lc),za.prototype.g=function(){return new Ha(this.l,this.j)},za.prototype.i=function(u){return function(){return u}}({});function Ha(u,I){De.call(this),this.D=u,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Ha,De),t=Ha.prototype,t.open=function(u,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=I,this.readyState=1,es(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(I.body=u),(this.D||a).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$m(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $m(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var I=u.value?u.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!u.done}))&&(this.response=this.responseText+=I)}u.done?Zo(this):es(this),this.readyState==3&&$m(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Zo(this))},t.Qa=function(u){this.g&&(this.response=u,Zo(this))},t.ga=function(){this.g&&Zo(this)};function Zo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,es(u)}t.setRequestHeader=function(u,I){this.u.append(u,I)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],I=this.h.entries();for(var R=I.next();!R.done;)R=R.value,u.push(R[0]+": "+R[1]),R=I.next();return u.join(`\r
`)};function es(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qm(u){let I="";return O(u,function(R,j){I+=j,I+=":",I+=R,I+=`\r
`}),I}function zc(u,I,R){e:{for(j in R){var j=!1;break e}j=!0}j||(R=qm(R),typeof u=="string"?R!=null&&encodeURIComponent(String(R)):$e(u,I,R))}function Ze(u){De.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ze,De);var Vx=/^https?$/i,Fx=["POST","PUT"];t=Ze.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,I,R,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);I=I?I.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mc.g(),this.v=this.o?vm(this.o):vm(Mc),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(I,String(u),!0),this.B=!1}catch(Z){zm(this,Z);return}if(u=R||"",R=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var Y in j)R.set(Y,j[Y]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const Z of j.keys())R.set(Z,j.get(Z));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(R.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Fx,I,void 0))||j||Y||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ae]of R)this.g.setRequestHeader(Z,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Km(this),this.u=!0,this.g.send(u),this.u=!1}catch(Z){zm(this,Z)}};function zm(u,I){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=I,u.m=5,Hm(u),Wa(u)}function Hm(u){u.A||(u.A=!0,Be(u,"complete"),Be(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Be(this,"complete"),Be(this,"abort"),Wa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wa(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wm(this):this.bb())},t.bb=function(){Wm(this)};function Wm(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Bn(u)!=4||u.Z()!=2)){if(u.u&&Bn(u)==4)Da(u.Ea,0,u);else if(Be(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var R;if(!(R=I)){var j;if(j=ae===0){var Y=String(u.D).match(Dm)[1]||null;!Y&&a.self&&a.self.location&&(Y=a.self.location.protocol.slice(0,-1)),j=!Vx.test(Y?Y.toLowerCase():"")}R=j}if(R)Be(u,"complete"),Be(u,"success");else{u.m=6;try{var Z=2<Bn(u)?u.g.statusText:""}catch{Z=""}u.l=Z+" ["+u.Z()+"]",Hm(u)}}finally{Wa(u)}}}}function Wa(u,I){if(u.g){Km(u);const R=u.g,j=u.v[0]?()=>{}:null;u.g=null,u.v=null,I||Be(u,"ready");try{R.onreadystatechange=j}catch{}}}function Km(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var I=this.g.responseText;return u&&I.indexOf(u)==0&&(I=I.substring(u.length)),yx(I)}};function Gm(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ux(u){const I={};u=(u.g&&2<=Bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<u.length;j++){if(g(u[j]))continue;var R=S(u[j]);const Y=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const Z=I[Y]||[];I[Y]=Z,Z.push(R)}x(I,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(u,I,R){return R&&R.internalChannelParams&&R.internalChannelParams[u]||I}function Qm(u){this.Aa=0,this.i=[],this.j=new Go,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ts("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ts("baseRetryDelayMs",5e3,u),this.cb=ts("retryDelaySeedMs",1e4,u),this.Wa=ts("forwardChannelMaxRetries",2,u),this.wa=ts("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Pm(u&&u.concurrentRequestLimit),this.Da=new Dx,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qm.prototype,t.la=8,t.G=1,t.connect=function(u,I,R,j){Lt(0),this.W=u,this.H=I||{},R&&j!==void 0&&(this.H.OSID=R,this.H.OAID=j),this.F=this.X,this.I=ig(this,null,this.W),Ga(this)};function Hc(u){if(Ym(u),u.G==3){var I=u.U++,R=Un(u.I);if($e(R,"SID",u.K),$e(R,"RID",I),$e(R,"TYPE","terminate"),ns(u,R),I=new ar(u,u.j,I),I.L=2,I.v=qa(Un(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(I.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=I.v,R=!0),R||(I.g=og(I.j,null),I.g.ea(I.v)),I.F=Date.now(),Ua(I)}rg(u)}function Ka(u){u.g&&(Kc(u),u.g.cancel(),u.g=null)}function Ym(u){Ka(u),u.u&&(a.clearTimeout(u.u),u.u=null),Qa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ga(u){if(!Cm(u.h)&&!u.s){u.s=!0;var I=u.Ga;W||F(),K||(W(),K=!0),$.add(I,u),u.B=0}}function Bx(u,I){return Rm(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=I.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ko(f(u.Ga,u,I),ng(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const Y=new ar(this,this.j,u);let Z=this.o;if(this.S&&(Z?(Z=b(Z),T(Z,this.S)):Z=this.S),this.m!==null||this.O||(Y.H=Z,Z=null),this.P)e:{for(var I=0,R=0;R<this.i.length;R++){t:{var j=this.i[R];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(I+=j,4096<I){I=R;break e}if(I===4096||R===this.i.length-1){I=R+1;break e}}I=1e3}else I=1e3;I=Jm(this,Y,I),R=Un(this.I),$e(R,"RID",u),$e(R,"CVER",22),this.D&&$e(R,"X-HTTP-Session-Id",this.D),ns(this,R),Z&&(this.O?I="headers="+encodeURIComponent(String(qm(Z)))+"&"+I:this.m&&zc(R,this.m,Z)),qc(this.h,Y),this.Ua&&$e(R,"TYPE","init"),this.P?($e(R,"$req",I),$e(R,"SID","null"),Y.T=!0,Fc(Y,R,null)):Fc(Y,R,I),this.G=2}}else this.G==3&&(u?Xm(this,u):this.i.length==0||Cm(this.h)||Xm(this))};function Xm(u,I){var R;I?R=I.l:R=u.U++;const j=Un(u.I);$e(j,"SID",u.K),$e(j,"RID",R),$e(j,"AID",u.T),ns(u,j),u.m&&u.o&&zc(j,u.m,u.o),R=new ar(u,u.j,R,u.B+1),u.m===null&&(R.H=u.o),I&&(u.i=I.D.concat(u.i)),I=Jm(u,R,1e3),R.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qc(u.h,R),Fc(R,j,I)}function ns(u,I){u.H&&O(u.H,function(R,j){$e(I,j,R)}),u.l&&jm({},function(R,j){$e(I,j,R)})}function Jm(u,I,R){R=Math.min(u.i.length,R);var j=u.l?f(u.l.Na,u.l,u):null;e:{var Y=u.i;let Z=-1;for(;;){const ae=["count="+R];Z==-1?0<R?(Z=Y[0].g,ae.push("ofs="+Z)):Z=0:ae.push("ofs="+Z);let Fe=!0;for(let yt=0;yt<R;yt++){let Le=Y[yt].g;const Tt=Y[yt].map;if(Le-=Z,0>Le)Z=Math.max(0,Y[yt].g-100),Fe=!1;else try{Mx(Tt,ae,"req"+Le+"_")}catch{j&&j(Tt)}}if(Fe){j=ae.join("&");break e}}}return u=u.i.splice(0,R),I.D=u,j}function Zm(u){if(!u.g&&!u.u){u.Y=1;var I=u.Fa;W||F(),K||(W(),K=!0),$.add(I,u),u.v=0}}function Wc(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ko(f(u.Fa,u),ng(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,eg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ko(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Ka(this),eg(this))};function Kc(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function eg(u){u.g=new ar(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var I=Un(u.qa);$e(I,"RID","rpc"),$e(I,"SID",u.K),$e(I,"AID",u.T),$e(I,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(I,"TO",u.ja),$e(I,"TYPE","xmlhttp"),ns(u,I),u.m&&u.o&&zc(I,u.m,u.o),u.L&&(u.g.I=u.L);var R=u.g;u=u.ia,R.L=1,R.v=qa(Un(I)),R.m=null,R.P=!0,Am(R,u)}t.Za=function(){this.C!=null&&(this.C=null,Ka(this),Wc(this),Lt(19))};function Qa(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function tg(u,I){var R=null;if(u.g==I){Qa(u),Kc(u),u.g=null;var j=2}else if($c(u.h,I))R=I.D,Om(u.h,I),j=1;else return;if(u.G!=0){if(I.o)if(j==1){R=I.m?I.m.length:0,I=Date.now()-I.F;var Y=u.B;j=Ma(),Be(j,new xm(j,R)),Ga(u)}else Zm(u);else if(Y=I.s,Y==3||Y==0&&0<I.X||!(j==1&&Bx(u,I)||j==2&&Wc(u)))switch(R&&0<R.length&&(I=u.h,I.i=I.i.concat(R)),Y){case 1:ri(u,5);break;case 4:ri(u,10);break;case 3:ri(u,6);break;default:ri(u,2)}}}function ng(u,I){let R=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(R*=2),R*I}function ri(u,I){if(u.j.info("Error code "+I),I==2){var R=f(u.fb,u),j=u.Xa;const Y=!j;j=new ni(j||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ba(j,"https"),qa(j),Y?Lx(j.toString(),R):jx(j.toString(),R)}else Lt(2);u.G=0,u.l&&u.l.sa(I),rg(u),Ym(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function rg(u){if(u.G=0,u.ka=[],u.l){const I=Lm(u.h);(I.length!=0||u.i.length!=0)&&(E(u.ka,I),E(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function ig(u,I,R){var j=R instanceof ni?Un(R):new ni(R);if(j.g!="")I&&(j.g=I+"."+j.g),$a(j,j.s);else{var Y=a.location;j=Y.protocol,I=I?I+"."+Y.hostname:Y.hostname,Y=+Y.port;var Z=new ni(null);j&&Ba(Z,j),I&&(Z.g=I),Y&&$a(Z,Y),R&&(Z.l=R),j=Z}return R=u.D,I=u.ya,R&&I&&$e(j,R,I),$e(j,"VER",u.la),ns(u,j),j}function og(u,I,R){if(I&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=u.Ca&&!u.pa?new Ze(new za({eb:R})):new Ze(u.pa),I.Ha(u.J),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sg(){}t=sg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ya(){}Ya.prototype.g=function(u,I){return new Qt(u,I)};function Qt(u,I){De.call(this),this.g=new Qm(I),this.l=u,this.h=I&&I.messageUrlParams||null,u=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(u?u["X-WebChannel-Content-Type"]=I.messageContentType:u={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(u?u["X-WebChannel-Client-Profile"]=I.va:u={"X-WebChannel-Client-Profile":I.va}),this.g.S=u,(u=I&&I.Sb)&&!g(u)&&(this.g.m=u),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!g(I)&&(this.g.D=I,u=this.h,u!==null&&I in u&&(u=this.h,I in u&&delete u[I])),this.j=new Oi(this)}w(Qt,De),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Hc(this.g)},Qt.prototype.o=function(u){var I=this.g;if(typeof u=="string"){var R={};R.__data__=u,u=R}else this.u&&(R={},R.__data__=Oc(u),u=R);I.i.push(new Tx(I.Ya++,u)),I.G==3&&Ga(I)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Hc(this.g),delete this.g,Qt.aa.N.call(this)};function ag(u){jc.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var I=u.__sm__;if(I){e:{for(const R in I){u=R;break e}u=void 0}(this.i=u)&&(u=this.i,I=I!==null&&u in I?I[u]:void 0),this.data=I}else this.data=u}w(ag,jc);function lg(){Dc.call(this),this.status=1}w(lg,Dc);function Oi(u){this.g=u}w(Oi,sg),Oi.prototype.ua=function(){Be(this.g,"a")},Oi.prototype.ta=function(u){Be(this.g,new ag(u))},Oi.prototype.sa=function(u){Be(this.g,new lg)},Oi.prototype.ra=function(){Be(this.g,"b")},Ya.prototype.createWebChannel=Ya.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,mE=function(){return new Ya},pE=function(){return Ma()},dE=ei,Kh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Va.NO_ERROR=0,Va.TIMEOUT=8,Va.HTTP_ERROR=6,Ul=Va,Tm.COMPLETE="complete",hE=Tm,_m.EventType=Ho,Ho.OPEN="a",Ho.CLOSE="b",Ho.ERROR="c",Ho.MESSAGE="d",De.prototype.listen=De.prototype.K,ws=_m,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,fE=Ze}).apply(typeof gl<"u"?gl:typeof self<"u"?self:typeof window<"u"?window:{});const sv="@firebase/firestore",av="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new yp("@firebase/firestore");function Di(){return xi.logLevel}function fe(t,...e){if(xi.logLevel<=Ne.DEBUG){const n=e.map(Np);xi.debug(`Firestore (${Oo}): ${t}`,...n)}}function tr(t,...e){if(xi.logLevel<=Ne.ERROR){const n=e.map(Np);xi.error(`Firestore (${Oo}): ${t}`,...n)}}function _o(t,...e){if(xi.logLevel<=Ne.WARN){const n=e.map(Np);xi.warn(`Firestore (${Oo}): ${t}`,...n)}}function Np(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+t;throw tr(e),new Error(e)}function je(t,e){t||ye()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class kC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NC{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new gE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Nt(e)}}class PC{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class CC{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new PC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){je(this.o===void 0);const r=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new lv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new lv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=OC(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function Gh(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ie(r,i);{const o=yE(),s=LC(o.encode(uv(t,n)),o.encode(uv(e,n)));return s!==0?s:Ie(r,i)}}n+=r>65535?2:1}return Ie(t.length,e.length)}function uv(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function LC(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ie(t[n],e[n]);return Ie(t.length,e.length)}function wo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-62135596800,fv=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*fv);return new ft(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cv)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fv}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-cv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new ft(0,0))}static max(){return new _e(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="__name__";class Nn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Nn.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Ie(e.length,n.length)}static compareSegments(e,n){const r=Nn.isNumericId(e),i=Nn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Nn.extractNumericId(e).compare(Nn.extractNumericId(n)):Gh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dr.fromString(e.substring(4,e.length-2))}}class He extends Nn{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new He(n)}static emptyPath(){return new He([])}}const jC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends Nn{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return jC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hv}static keyField(){return new wt([hv])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(He.fromString(e))}static fromName(e){return new pe(He.fromString(e).popFirst(5))}static empty(){return new pe(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new He(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=-1;function DC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new Br(i,pe.empty(),e)}function MC(t){return new Br(t.readTime,t.key,la)}class Br{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Br(_e.min(),pe.empty(),la)}static max(){return new Br(_e.max(),pe.empty(),la)}}function VC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==FC)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(i=>i?re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new re((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new re((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function BC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}cc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=-1;function fc(t){return t==null}function Su(t){return t===0&&1/t==-1/0}function $C(t){return typeof t=="number"&&Number.isInteger(t)&&!Su(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="";function qC(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dv(e)),e=zC(t.get(n),e);return dv(e)}function zC(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case _E:n+="";break;default:n+=o}}return n}function dv(t){return t+_E+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yl(this.root,e,this.comparator,!0)}}class yl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??_t.RED,this.left=i??_t.EMPTY,this.right=o??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new _t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,o){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(e){return new mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new Zt([])}unionWith(e){let n=new ht(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new EE("Invalid base64 string: "+o):o}}(e);return new xt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const HC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(t){if(je(!!t),typeof t=="string"){let e=0;const n=HC.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qr(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="server_timestamp",xE="__type__",TE="__previous_value__",SE="__local_write_time__";function Cp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[xE])===null||n===void 0?void 0:n.stringValue)===bE}function hc(t){const e=t.mapValue.fields[TE];return Cp(e)?hc(e):e}function ua(t){const e=$r(t.mapValue.fields[SE].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const Iu="(default)";class ca{constructor(e,n){this.projectId=e,this.database=n||Iu}static empty(){return new ca("","")}get isDefaultDatabase(){return this.database===Iu}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="__type__",KC="__max__",vl={mapValue:{}},AE="__vector__",Au="value";function zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cp(t)?4:QC(t)?9007199254740991:GC(t)?10:11:ye()}function Vn(t,e){if(t===e)return!0;const n=zr(t);if(n!==zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ua(t).isEqual(ua(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=$r(i.timestampValue),a=$r(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return qr(i.bytesValue).isEqual(qr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return nt(i.geoPointValue.latitude)===nt(o.geoPointValue.latitude)&&nt(i.geoPointValue.longitude)===nt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return nt(i.integerValue)===nt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=nt(i.doubleValue),a=nt(o.doubleValue);return s===a?Su(s)===Su(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return wo(t.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(pv(s)!==pv(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Vn(s[l],a[l])))return!1;return!0}(t,e);default:return ye()}}function fa(t,e){return(t.values||[]).find(n=>Vn(n,e))!==void 0}function Eo(t,e){if(t===e)return 0;const n=zr(t),r=zr(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=nt(o.integerValue||o.doubleValue),l=nt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return gv(t.timestampValue,e.timestampValue);case 4:return gv(ua(t),ua(e));case 5:return Gh(t.stringValue,e.stringValue);case 6:return function(o,s){const a=qr(o),l=qr(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Ie(a[c],l[c]);if(d!==0)return d}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ie(nt(o.latitude),nt(s.latitude));return a!==0?a:Ie(nt(o.longitude),nt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yv(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,d;const h=o.fields||{},f=s.fields||{},m=(a=h[Au])===null||a===void 0?void 0:a.arrayValue,w=(l=f[Au])===null||l===void 0?void 0:l.arrayValue,v=Ie(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:yv(m,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===vl.mapValue&&s===vl.mapValue)return 0;if(o===vl.mapValue)return 1;if(s===vl.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Gh(l[h],d[h]);if(f!==0)return f;const m=Eo(a[l[h]],c[d[h]]);if(m!==0)return m}return Ie(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ye()}}function gv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=$r(t),r=$r(e),i=Ie(n.seconds,r.seconds);return i!==0?i:Ie(n.nanos,r.nanos)}function yv(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Eo(n[i],r[i]);if(o)return o}return Ie(n.length,r.length)}function bo(t){return Qh(t)}function Qh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$r(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Qh(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Qh(n.fields[s])}`;return i+"}"}(t.mapValue):ye()}function Bl(t){switch(zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hc(t);return e?16+Bl(e):16;case 5:return 2*t.stringValue.length;case 6:return qr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Bl(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Xr(r.fields,(o,s)=>{i+=o.length+Bl(s)}),i}(t.mapValue);default:throw ye()}}function vv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yh(t){return!!t&&"integerValue"in t}function Rp(t){return!!t&&"arrayValue"in t}function _v(t){return!!t&&"nullValue"in t}function wv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $l(t){return!!t&&"mapValue"in t}function GC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[IE])===null||n===void 0?void 0:n.stringValue)===AE}function Ls(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ls(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ls(t.arrayValue.values[n]);return e}return Object.assign({},t)}function QC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===KC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$l(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ls(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ls(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());$l(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$l(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xr(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new zt(Ls(this.value))}}function kE(t){const e=[];return Xr(t.fields,(n,r)=>{const i=new wt([n]);if($l(r)){const o=kE(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,_e.min(),_e.min(),_e.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ct(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new Ct(e,2,n,_e.min(),_e.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,_e.min(),_e.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.position=e,this.inclusive=n}}function Ev(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(s.referenceValue),n.key):r=Eo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n="asc"){this.field=e,this.dir=n}}function YC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{}class at extends NE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new JC(e,n,r):n==="array-contains"?new tR(e,r):n==="in"?new nR(e,r):n==="not-in"?new rR(e,r):n==="array-contains-any"?new iR(e,r):new at(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZC(e,r):new eR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Eo(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tn extends NE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Tn(e,n)}matches(e){return PE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function PE(t){return t.op==="and"}function CE(t){return XC(t)&&PE(t)}function XC(t){for(const e of t.filters)if(e instanceof Tn)return!1;return!0}function Xh(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+bo(t.value);if(CE(t))return t.filters.map(e=>Xh(e)).join(",");{const e=t.filters.map(n=>Xh(n)).join(",");return`${t.op}(${e})`}}function RE(t,e){return t instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&Vn(r.value,i.value)}(t,e):t instanceof Tn?function(r,i){return i instanceof Tn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&RE(s,i.filters[a]),!0):!1}(t,e):void ye()}function OE(t){return t instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`}(t):t instanceof Tn?function(n){return n.op.toString()+" {"+n.getFilters().map(OE).join(" ,")+"}"}(t):"Filter"}class JC extends at{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZC extends at{constructor(e,n){super(e,"in",n),this.keys=LE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eR extends at{constructor(e,n){super(e,"not-in",n),this.keys=LE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class tR extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rp(n)&&fa(n.arrayValue,this.value)}}class nR extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fa(this.value.arrayValue,n)}}class rR extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(fa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fa(this.value.arrayValue,n)}}class iR extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function xv(t,e=null,n=[],r=[],i=null,o=null,s=null){return new oR(t,e,n,r,i,o,s)}function Op(t){const e=we(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bo(r)).join(",")),e.le=n}return e.le}function Lp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bv(t.startAt,e.startAt)&&bv(t.endAt,e.endAt)}function Jh(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function sR(t,e,n,r,i,o,s,a){return new Do(t,e,n,r,i,o,s,a)}function jp(t){return new Do(t)}function Tv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jE(t){return t.collectionGroup!==null}function js(t){const e=we(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ht(wt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new ha(o,r))}),n.has(wt.keyField().canonicalString())||e.he.push(new ha(wt.keyField(),r))}return e.he}function Dn(t){const e=we(t);return e.Pe||(e.Pe=aR(e,js(t))),e.Pe}function aR(t,e){if(t.limitType==="F")return xv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ha(i.field,o)});const n=t.endAt?new ku(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ku(t.startAt.position,t.startAt.inclusive):null;return xv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zh(t,e){const n=t.filters.concat([e]);return new Do(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ed(t,e,n){return new Do(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dc(t,e){return Lp(Dn(t),Dn(e))&&t.limitType===e.limitType}function DE(t){return`${Op(Dn(t))}|lt:${t.limitType}`}function Mi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>OE(i)).join(", ")}]`),fc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bo(i)).join(",")),`Target(${r})`}(Dn(t))}; limitType=${t.limitType})`}function pc(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of js(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=Ev(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,js(r),i)||r.endAt&&!function(s,a,l){const c=Ev(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,js(r),i))}(t,e)}function lR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ME(t){return(e,n)=>{let r=!1;for(const i of js(t)){const o=uR(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function uR(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Eo(l,c):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xr(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new Je(pe.comparator);function nr(){return cR}const VE=new Je(pe.comparator);function Es(...t){let e=VE;for(const n of t)e=e.insert(n.key,n);return e}function FE(t){let e=VE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fi(){return Ds()}function UE(){return Ds()}function Ds(){return new Ni(t=>t.toString(),(t,e)=>t.isEqual(e))}const fR=new Je(pe.comparator),hR=new ht(pe.comparator);function Pe(...t){let e=hR;for(const n of t)e=e.add(n);return e}const dR=new ht(Ie);function pR(){return dR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Su(e)?"-0":e}}function BE(t){return{integerValue:""+t}}function mR(t,e){return $C(e)?BE(e):Dp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this._=void 0}}function gR(t,e,n){return t instanceof Nu?function(i,o){const s={fields:{[xE]:{stringValue:bE},[SE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Cp(o)&&(o=hc(o)),o&&(s.fields[TE]=o),{mapValue:s}}(n,e):t instanceof da?qE(t,e):t instanceof pa?zE(t,e):function(i,o){const s=$E(i,o),a=Sv(s)+Sv(i.Ie);return Yh(s)&&Yh(i.Ie)?BE(a):Dp(i.serializer,a)}(t,e)}function yR(t,e,n){return t instanceof da?qE(t,e):t instanceof pa?zE(t,e):n}function $E(t,e){return t instanceof Pu?function(r){return Yh(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Nu extends mc{}class da extends mc{constructor(e){super(),this.elements=e}}function qE(t,e){const n=HE(e);for(const r of t.elements)n.some(i=>Vn(i,r))||n.push(r);return{arrayValue:{values:n}}}class pa extends mc{constructor(e){super(),this.elements=e}}function zE(t,e){let n=HE(e);for(const r of t.elements)n=n.filter(i=>!Vn(i,r));return{arrayValue:{values:n}}}class Pu extends mc{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Sv(t){return nt(t.integerValue||t.doubleValue)}function HE(t){return Rp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof da&&i instanceof da||r instanceof pa&&i instanceof pa?wo(r.elements,i.elements,Vn):r instanceof Pu&&i instanceof Pu?Vn(r.Ie,i.Ie):r instanceof Nu&&i instanceof Nu}(t.transform,e.transform)}class _R{constructor(e,n){this.version=e,this.transformResults=n}}class Vt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vt}static exists(e){return new Vt(void 0,e)}static updateTime(e){return new Vt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ql(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gc{}function WE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yc(t.key,Vt.none()):new ka(t.key,t.data,Vt.none());{const n=t.data,r=zt.empty();let i=new ht(wt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Jr(t.key,r,new Zt(i.toArray()),Vt.none())}}function wR(t,e,n){t instanceof ka?function(i,o,s){const a=i.value.clone(),l=Av(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Jr?function(i,o,s){if(!ql(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Av(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(KE(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ms(t,e,n,r){return t instanceof ka?function(o,s,a,l){if(!ql(o.precondition,s))return a;const c=o.value.clone(),d=kv(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jr?function(o,s,a,l){if(!ql(o.precondition,s))return a;const c=kv(o.fieldTransforms,l,s),d=s.data;return d.setAll(KE(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return ql(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function ER(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=$E(r.transform,i||null);o!=null&&(n===null&&(n=zt.empty()),n.set(r.field,o))}return n||null}function Iv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wo(r,i,(o,s)=>vR(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ka extends gc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Jr extends gc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Av(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,yR(s,a,n[i]))}return r}function kv(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,gR(o,s,e))}return r}class yc extends gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bR extends gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&wR(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ms(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ms(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=WE(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(n,r)=>Iv(n,r))&&wo(this.baseMutations,e.baseMutations,(n,r)=>Iv(n,r))}}class Mp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return fR}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Mp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Ce;function IR(t){switch(t){case ne.OK:return ye();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return ye()}}function GE(t){if(t===void 0)return tr("GRPC error has no .code"),ne.UNKNOWN;switch(t){case ot.OK:return ne.OK;case ot.CANCELLED:return ne.CANCELLED;case ot.UNKNOWN:return ne.UNKNOWN;case ot.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case ot.INTERNAL:return ne.INTERNAL;case ot.UNAVAILABLE:return ne.UNAVAILABLE;case ot.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case ot.NOT_FOUND:return ne.NOT_FOUND;case ot.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case ot.ABORTED:return ne.ABORTED;case ot.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case ot.DATA_LOSS:return ne.DATA_LOSS;default:return ye()}}(Ce=ot||(ot={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new Dr([4294967295,4294967295],0);function Nv(t){const e=yE().encode(t),n=new cE;return n.update(e),new Uint8Array(n.digest())}function Pv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Dr([n,r],0),new Dr([i,o],0)]}class Vp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bs(`Invalid padding: ${n}`);if(r<0)throw new bs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bs(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Dr.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Dr.fromNumber(r)));return i.compare(AR)===1&&(i=new Dr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Nv(e),[r,i]=Pv(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Vp(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;const n=Nv(e),[r,i]=Pv(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Na.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vc(_e.min(),i,new Je(Ie),nr(),Pe())}}class Na{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Na(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class QE{constructor(e,n){this.targetId=e,this.ge=n}}class YE{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Cv{constructor(){this.pe=0,this.ye=Rv(),this.we=xt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Pe(),n=Pe(),r=Pe();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new Na(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=Rv()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,je(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class kR{constructor(e){this.ke=e,this.qe=new Map,this.Qe=nr(),this.$e=_l(),this.Ue=_l(),this.Ke=new Je(Ie)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(Jh(o))if(r===0){const s=new pe(o.path);this.ze(n,s,Ct.newNoDocument(s,_e.min()))}else je(r===1);else{const s=this.et(n);if(s!==r){const a=this.tt(e),l=a?this.nt(a,e,s):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=qr(r).toUint8Array()}catch(l){if(l instanceof EE)return _o("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Vp(s,i,o)}catch(l){return _o(l instanceof bs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&Jh(a.target)){const l=new pe(a.target.path);this._t(l).has(s)||this.ut(s,l)||this.ze(s,l,Ct.newNoDocument(l,e))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=Pe();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));const i=new vc(e,n,this.Ke,this.Qe,r);return this.Qe=nr(),this.$e=_l(),this.Ue=_l(),this.Ke=new Je(Ie),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Cv,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new ht(Ie),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new ht(Ie),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Cv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function _l(){return new Je(pe.comparator)}function Rv(){return new Je(pe.comparator)}const NR={asc:"ASCENDING",desc:"DESCENDING"},PR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CR={and:"AND",or:"OR"};class RR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function td(t,e){return t.useProto3Json||fc(e)?e:{value:e}}function Cu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OR(t,e){return Cu(t,e.toTimestamp())}function Mn(t){return je(!!t),_e.fromTimestamp(function(n){const r=$r(n);return new ft(r.seconds,r.nanos)}(t))}function Fp(t,e){return nd(t,e).canonicalString()}function nd(t,e){const n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JE(t){const e=He.fromString(t);return je(rb(e)),e}function rd(t,e){return Fp(t.databaseId,e.path)}function Cf(t,e){const n=JE(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(eb(n))}function ZE(t,e){return Fp(t.databaseId,e)}function LR(t){const e=JE(t);return e.length===4?He.emptyPath():eb(e)}function id(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eb(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ov(t,e,n){return{name:rd(t,e),fields:n.value.mapValue.fields}}function jR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(je(d===void 0||typeof d=="string"),xt.fromBase64String(d||"")):(je(d===void 0||d instanceof Buffer||d instanceof Uint8Array),xt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?ne.UNKNOWN:GE(c.code);return new he(d,c.message||"")}(s);n=new YE(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cf(t,r.document.name),o=Mn(r.document.updateTime),s=r.document.createTime?Mn(r.document.createTime):_e.min(),a=new zt({mapValue:{fields:r.document.fields}}),l=Ct.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new zl(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cf(t,r.document),o=r.readTime?Mn(r.readTime):_e.min(),s=Ct.newNoDocument(i,o),a=r.removedTargetIds||[];n=new zl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cf(t,r.document),o=r.removedTargetIds||[];n=new zl([],o,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new SR(i,o),a=r.targetId;n=new QE(a,s)}}return n}function DR(t,e){let n;if(e instanceof ka)n={update:Ov(t,e.key,e.value)};else if(e instanceof yc)n={delete:rd(t,e.key)};else if(e instanceof Jr)n={update:Ov(t,e.key,e.data),updateMask:HR(e.fieldMask)};else{if(!(e instanceof bR))return ye();n={verify:rd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Nu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof da)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pu)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:OR(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(t,e.precondition)),n}function MR(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Mn(i.updateTime):Mn(o);return s.isEqual(_e.min())&&(s=Mn(o)),new _R(s,i.transformResults||[])}(n,e))):[]}function VR(t,e){return{documents:[ZE(t,e.path)]}}function FR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZE(t,i);const o=function(c){if(c.length!==0)return nb(Tn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Vi(f.field),direction:$R(f.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=td(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function UR(t){let e=LR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const f=tb(h);return f instanceof Tn&&CE(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(w){return new ha(Fi(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,fc(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new ku(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new ku(m,f)}(n.endAt)),sR(e,i,s,o,a,"F",l,c)}function BR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fi(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fi(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fi(n.unaryFilter.field);return at.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Fi(n.unaryFilter.field);return at.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return at.create(Fi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tn.create(n.compositeFilter.filters.map(r=>tb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function $R(t){return NR[t]}function qR(t){return PR[t]}function zR(t){return CR[t]}function Vi(t){return{fieldPath:t.canonicalString()}}function Fi(t){return wt.fromServerFormat(t.fieldPath)}function nb(t){return t instanceof at?function(n){if(n.op==="=="){if(wv(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NAN"}};if(_v(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wv(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NAN"}};if(_v(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vi(n.field),op:qR(n.op),value:n.value}}}(t):t instanceof Tn?function(n){const r=n.getFilters().map(i=>nb(i));return r.length===1?r[0]:{compositeFilter:{op:zR(n.op),filters:r}}}(t):ye()}function HR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,i,o=_e.min(),s=_e.min(),a=xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.Tt=e}}function KR(t){const e=UR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.Tn=new QR}addToCollectionParentIndex(e,n){return this.Tn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Br.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class QR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(He.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ib=41943040;class $t{static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(ib,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new xo(0)}static Kn(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="LruGarbageCollector",YR=1048576;function Dv([t,e],[n,r]){const i=Ie(t,n);return i===0?Ie(e,r):i}class XR{constructor(e){this.Hn=e,this.buffer=new ht(Dv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Dv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(jv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?fe(jv,"Ignoring IndexedDB error during garbage collection: ",n):await Lo(n)}await this.er(3e5)})}}class ZR{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(cc.ae);const r=new XR(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Lv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Di()<=Ne.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function eO(t,e){return new ZR(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ms(r.mutation,i,Zt.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const i=fi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Es();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=nr();const s=Ds(),a=function(){return Ds()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Jr)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),Ms(d.mutation,c,d.mutation.getFieldMask(),ft.now())):s.set(c.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new nO(d,(h=s.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ds();let i=new Je((s,a)=>s-a),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Zt.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||Pe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=UE();d.forEach(f=>{if(!o.has(f)){const m=WE(n.get(f),r.get(f));m!==null&&h.set(f,m),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return re.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):re.resolve(fi());let a=la,l=o;return s.next(c=>re.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?re.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Pe())).next(d=>({batchId:a,changes:FE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=Es();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Es();return this.indexManager.getCollectionParents(e,o).next(a=>re.forEach(a,l=>{const c=function(h,f){return new Do(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,Ct.newInvalidDocument(d)))});let a=Es();return s.forEach((l,c)=>{const d=o.get(l);d!==void 0&&Ms(d.mutation,c,Zt.empty(),ft.now()),pc(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return re.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mn(i.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:KR(i.bundledQuery),readTime:Mn(i.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.overlays=new Je(pe.comparator),this.Rr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fi();return re.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=fi(),o=n.length+1,s=new pe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Je((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=fi(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=fi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return re.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new TR(n,r));let o=this.Rr.get(n);o===void 0&&(o=Pe(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.Vr=new ht(dt.mr),this.gr=new ht(dt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new dt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new pe(new He([])),r=new dt(n,e),i=new dt(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new pe(new He([])),r=new dt(n,e),i=new dt(n,e+1);let o=Pe();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new dt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return pe.comparator(e.key,n.key)||Ie(e.Cr,n.Cr)}static pr(e,n){return Ie(e.Cr,n.Cr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new ht(dt.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new xR(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Mr=this.Mr.add(new dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return re.resolve(s)}lookupMutationBatch(e,n){return re.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Pp:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const a=this.Or(s.Cr);o.push(a)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(Ie);return n.forEach(i=>{const o=new dt(i,0),s=new dt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),re.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const s=new dt(new pe(o),0);let a=new ht(Ie);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},s),re.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return re.forEach(n.mutations,i=>{const o=new dt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new dt(n,0),i=this.Mr.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.kr=e,this.docs=function(){return new Je(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=nr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ct.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=nr();const s=n.path,a=new pe(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||VC(MC(d),r)<=0||(i.has(d.key)||pc(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ye()}qr(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uO(this)}getSize(e){return re.resolve(this.size)}}class uO extends tO{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.persistence=e,this.Qr=new Ni(n=>Op(n),Lp),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Up,this.targetCount=0,this.Kr=xo.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),re.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.zn(n),re.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),re.waitFor(o).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new cc(0),this.zr=!1,this.zr=!0,this.jr=new sO,this.referenceDelegate=e(this),this.Hr=new cO(this),this.indexManager=new GR,this.remoteDocumentCache=function(i){return new lO(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new WR(n),this.Yr=new iO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new aO(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new fO(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return re.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class fO extends UC{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.ti=new Up,this.ni=null}static ri(e){return new Bp(e)}get ii(){if(this.ni)return this.ni;throw ye()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),re.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,r=>{const i=pe.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,_e.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return re.or([()=>re.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ru{constructor(e,n){this.persistence=e,this.oi=new Ni(r=>qC(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=eO(this,n)}static ri(e,n){return new Ru(e,n)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return re.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?re.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(a=>{a||(r++,o.removeEntry(s,_e.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),re.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bl(e.data.value)),n}ar(e,n,r){return re.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Pe(),i=Pe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new $p(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return GA()?8:BC(Ot())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new hO;return this._s(e,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,n,s,a.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Di()<=Ne.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Mi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(Di()<=Ne.DEBUG&&fe("QueryEngine","Query:",Mi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Di()<=Ne.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Mi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):re.resolve())}rs(e,n){if(Tv(n))return re.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ed(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Pe(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,s,l.readTime)?this.rs(e,ed(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return Tv(n)||i.isEqual(_e.min())?re.resolve(null):this.ns.getDocuments(e,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?re.resolve(null):(Di()<=Ne.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mi(n)),this.hs(e,s,n,DC(i,la)).next(a=>a))})}cs(e,n){let r=new ht(ME(e));return n.forEach((i,o)=>{pc(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return Di()<=Ne.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Mi(n)),this.ns.getDocumentsMatchingQuery(e,n,Br.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="LocalStore",pO=3e8;class mO{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Je(Ie),this.Is=new Ni(o=>Op(o),Lp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function gO(t,e,n,r){return new mO(t,e,n,r)}async function sb(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Pe();for(const c of i){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:s,addedBatchIds:a}))})})}function yO(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let m=re.resolve();return f.forEach(w=>{m=m.next(()=>d.getEntry(l,w)).next(v=>{const E=c.docVersions.get(w);je(E!==null),v.version.compareTo(E)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Pe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ab(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function vO(t,e){const n=we(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Hr.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(o,d.addedDocuments,h)));let m=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(xt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(v,E,p){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=pO?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(f,m,d)&&a.push(n.Hr.updateTargetData(o,m))});let l=nr(),c=Pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(_O(o,s,e.documentUpdates).next(d=>{l=d.Vs,c=d.fs})),!r.isEqual(_e.min())){const d=n.Hr.getLastRemoteSnapshotVersion(o).next(h=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return re.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ts=i,o))}function _O(t,e,n){let r=Pe(),i=Pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=nr();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):fe(qp,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:s,fs:i}})}function wO(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EO(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,re.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new xr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function od(t,e,n){const r=we(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!jo(s))throw s;fe(qp,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Mv(t,e,n){const r=we(t);let i=_e.min(),o=Pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const h=we(l),f=h.Is.get(d);return f!==void 0?re.resolve(h.Ts.get(f)):h.Hr.getTargetData(c,d)}(r,s,Dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,n?i:_e.min(),n?o:Pe())).next(a=>(bO(r,lR(e),a),{documents:a,gs:o})))}function bO(t,e,n){let r=t.Es.get(e)||_e.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class Vv{constructor(){this.activeTargetIds=pR()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xO{constructor(){this.ho=new Vv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Vv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="ConnectivityMonitor";class Uv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl=null;function sd(){return wl===null?wl=function(){return 268435456+Math.round(2147483648*Math.random())}():wl++,"0x"+wl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="RestConnection",SO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Iu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const s=sd(),a=this.bo(e,n.toUriEncodedString());fe(Rf,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,o),this.vo(e,a,l,r).then(c=>(fe(Rf,`Received RPC '${e}' ${s}: `,c),c),c=>{throw _o(Rf,`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=SO[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection";class kO extends IO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=sd();return new Promise((s,a)=>{const l=new fE;l.setWithCredentials(!0),l.listenOnce(hE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ul.NO_ERROR:const d=l.getResponseJson();fe(kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Ul.TIMEOUT:fe(kt,`RPC '${e}' ${o} timed out`),a(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ul.HTTP_ERROR:const h=l.getStatus();if(fe(kt,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const w=function(E){const p=E.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(p)>=0?p:ne.UNKNOWN}(m.status);a(new he(w,m.message))}else a(new he(ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new he(ne.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{fe(kt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);fe(kt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=sd(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mE(),a=pE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");fe(kt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=s.createWebChannel(d,l);let f=!1,m=!1;const w=new AO({Fo:E=>{m?fe(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(fe(kt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),fe(kt,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},Mo:()=>h.close()}),v=(E,p,g)=>{E.listen(p,_=>{try{g(_)}catch(y){setTimeout(()=>{throw y},0)}})};return v(h,ws.EventType.OPEN,()=>{m||(fe(kt,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),v(h,ws.EventType.CLOSE,()=>{m||(m=!0,fe(kt,`RPC '${e}' stream ${i} transport closed`),w.Uo())}),v(h,ws.EventType.ERROR,E=>{m||(m=!0,_o(kt,`RPC '${e}' stream ${i} transport errored:`,E),w.Uo(new he(ne.UNAVAILABLE,"The operation could not be completed")))}),v(h,ws.EventType.MESSAGE,E=>{var p;if(!m){const g=E.data[0];je(!!g);const _=g,y=(_==null?void 0:_.error)||((p=_[0])===null||p===void 0?void 0:p.error);if(y){fe(kt,`RPC '${e}' stream ${i} received error:`,y);const N=y.status;let O=function(C){const T=ot[C];if(T!==void 0)return GE(T)}(N),x=y.message;O===void 0&&(O=ne.INTERNAL,x="Unknown error status: "+N+" with message "+y.message),m=!0,w.Uo(new he(O,x)),h.close()}else fe(kt,`RPC '${e}' stream ${i} received:`,g),w.Ko(g)}}),v(a,dE.STAT_EVENT,E=>{E.stat===Kh.PROXY?fe(kt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Kh.NOPROXY&&fe(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){return new RR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="PersistentStream";class ub{constructor(e,n,r,i,o,s,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new lb(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new he(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(Bv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(fe(Bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NO extends ub{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=jR(this.serializer,e),r=function(o){if(!("targetChange"in o))return _e.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?Mn(s.readTime):_e.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=id(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Jh(l)?{documents:VR(o,l)}:{query:FR(o,l).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=XE(o,s.resumeToken);const c=td(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(_e.min())>0){a.readTime=Cu(o,s.snapshotVersion.toTimestamp());const c=td(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=BR(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=id(this.serializer),n.removeTarget=e,this.I_(n)}}class PO extends ub{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=MR(e.writeResults,e.commitTime),r=Mn(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=id(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>DR(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{}class RO extends CO{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,nd(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(ne.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,nd(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(ne.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class OO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(tr(n),this.N_=!1):fe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="RemoteStore";class LO{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{Pi(this)&&(fe(Ti,"Restarting streams for network reachability change."),await async function(l){const c=we(l);c.W_.add(4),await Pa(c),c.j_.set("Unknown"),c.W_.delete(4),await wc(c)}(this))})}),this.j_=new OO(r,i)}}async function wc(t){if(Pi(t))for(const e of t.G_)await e(!0)}async function Pa(t){for(const e of t.G_)await e(!1)}function cb(t,e){const n=we(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Kp(n)?Wp(n):Mo(n).c_()&&Hp(n,e))}function zp(t,e){const n=we(t),r=Mo(n);n.K_.delete(e),r.c_()&&fb(n,e),n.K_.size===0&&(r.c_()?r.P_():Pi(n)&&n.j_.set("Unknown"))}function Hp(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(t).y_(e)}function fb(t,e){t.H_.Ne(e),Mo(t).w_(e)}function Wp(t){t.H_=new kR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Mo(t).start(),t.j_.B_()}function Kp(t){return Pi(t)&&!Mo(t).u_()&&t.K_.size>0}function Pi(t){return we(t).W_.size===0}function hb(t){t.H_=void 0}async function jO(t){t.j_.set("Online")}async function DO(t){t.K_.forEach((e,n)=>{Hp(t,e)})}async function MO(t,e){hb(t),Kp(t)?(t.j_.q_(e),Wp(t)):t.j_.set("Unknown")}async function VO(t,e,n){if(t.j_.set("Online"),e instanceof YE&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){fe(Ti,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ou(t,r)}else if(e instanceof zl?t.H_.We(e):e instanceof QE?t.H_.Ze(e):t.H_.je(e),!n.isEqual(_e.min()))try{const r=await ab(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.H_.ot(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.K_.get(c);d&&o.K_.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const d=o.K_.get(l);if(!d)return;o.K_.set(l,d.withResumeToken(xt.EMPTY_BYTE_STRING,d.snapshotVersion)),fb(o,l);const h=new xr(d.target,l,c,d.sequenceNumber);Hp(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){fe(Ti,"Failed to raise snapshot:",r),await Ou(t,r)}}async function Ou(t,e,n){if(!jo(e))throw e;t.W_.add(1),await Pa(t),t.j_.set("Offline"),n||(n=()=>ab(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(Ti,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await wc(t)})}function db(t,e){return e().catch(n=>Ou(t,n,e))}async function Ec(t){const e=we(t),n=Hr(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Pp;for(;FO(e);)try{const i=await wO(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,UO(e,i)}catch(i){await Ou(e,i)}pb(e)&&mb(e)}function FO(t){return Pi(t)&&t.U_.length<10}function UO(t,e){t.U_.push(e);const n=Hr(t);n.c_()&&n.S_&&n.b_(e.mutations)}function pb(t){return Pi(t)&&!Hr(t).u_()&&t.U_.length>0}function mb(t){Hr(t).start()}async function BO(t){Hr(t).C_()}async function $O(t){const e=Hr(t);for(const n of t.U_)e.b_(n.mutations)}async function qO(t,e,n){const r=t.U_.shift(),i=Mp.from(r,e,n);await db(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ec(t)}async function zO(t,e){e&&Hr(t).S_&&await async function(r,i){if(function(s){return IR(s)&&s!==ne.ABORTED}(i.code)){const o=r.U_.shift();Hr(r).h_(),await db(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ec(r)}}(t,e),pb(t)&&mb(t)}async function $v(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),fe(Ti,"RemoteStore received new credentials");const r=Pi(n);n.W_.add(3),await Pa(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await wc(n)}async function HO(t,e){const n=we(t);e?(n.W_.delete(2),await wc(n)):e||(n.W_.add(2),await Pa(n),n.j_.set("Unknown"))}function Mo(t){return t.J_||(t.J_=function(n,r,i){const o=we(n);return o.M_(),new NO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:jO.bind(null,t),No:DO.bind(null,t),Lo:MO.bind(null,t),p_:VO.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Kp(t)?Wp(t):t.j_.set("Unknown")):(await t.J_.stop(),hb(t))})),t.J_}function Hr(t){return t.Y_||(t.Y_=function(n,r,i){const o=we(n);return o.M_(),new PO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:BO.bind(null,t),Lo:zO.bind(null,t),D_:$O.bind(null,t),v_:qO.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Ec(t)):(await t.Y_.stop(),t.U_.length>0&&(fe(Ti,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Gp(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(t,e){if(tr("AsyncQueue",`${e}: ${t}`),jo(t))return new he(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Es(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.Z_=new Je(pe.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ye():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class To{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new To(e,n,lo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class KO{constructor(){this.queries=zv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=we(n),o=i.queries;i.queries=zv(),o.forEach((s,a)=>{for(const l of a.ta)l.onError(r)})})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function zv(){return new Ni(t=>DE(t),dc)}async function gb(t,e){const n=we(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new WO,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Qp(s,`Initialization of query '${Mi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&Yp(n)}async function yb(t,e){const n=we(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GO(t,e){const n=we(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&Yp(n)}function QO(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function Yp(t){t.ia.forEach(e=>{e.next()})}var ad,Hv;(Hv=ad||(ad={}))._a="default",Hv.Cache="cache";class vb{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new To(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ad.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.key=e}}class wb{constructor(e){this.key=e}}class YO{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=ME(e),this.wa=new lo(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new qv,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=pc(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;f&&m?f.data.isEqual(m.data)?w!==v&&(r.track({type:3,doc:m}),E=!0):this.va(f,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),E=!0):f&&!m&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(m?(s=s.add(m),o=v?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((d,h)=>function(m,w){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return v(m)-v(w)}(d.type,h.type)||this.ya(d.doc,h.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,s.length!==0||c?{snapshot:new To(this.query,e.wa,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new qv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new wb(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new _b(r))}),n}Oa(e){this.fa=e.gs,this.pa=Pe();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return To.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Xp="SyncEngine";class XO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JO{constructor(e){this.key=e,this.Ba=!1}}class ZO{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Ni(a=>DE(a),dc),this.qa=new Map,this.Qa=new Set,this.$a=new Je(pe.comparator),this.Ua=new Map,this.Ka=new Up,this.Wa={},this.Ga=new Map,this.za=xo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function eL(t,e,n=!0){const r=Ib(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await Eb(r,e,n,!0),i}async function tL(t,e){const n=Ib(t);await Eb(n,e,!0,!1)}async function Eb(t,e,n,r){const i=await EO(t.localStore,Dn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await nL(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&cb(t.remoteStore,i),a}async function nL(t,e,n,r,i){t.Ha=(h,f,m)=>async function(v,E,p,g){let _=E.view.ba(p);_.ls&&(_=await Mv(v.localStore,E.query,!1).then(({documents:x})=>E.view.ba(x,_)));const y=g&&g.targetChanges.get(E.targetId),N=g&&g.targetMismatches.get(E.targetId)!=null,O=E.view.applyChanges(_,v.isPrimaryClient,y,N);return Kv(v,E.targetId,O.Ma),O.snapshot}(t,h,f,m);const o=await Mv(t.localStore,e,!0),s=new YO(e,o.gs),a=s.ba(o.documents),l=Na.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);Kv(t,n,c.Ma);const d=new XO(e,n,s);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function rL(t,e,n){const r=we(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!dc(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await od(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zp(r.remoteStore,i.targetId),ld(r,i.targetId)}).catch(Lo)):(ld(r,i.targetId),await od(r.localStore,i.targetId,!0))}async function iL(t,e){const n=we(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zp(n.remoteStore,r.targetId))}async function oL(t,e,n){const r=hL(t);try{const i=await function(s,a){const l=we(s),c=ft.now(),d=a.reduce((m,w)=>m.add(w.key),Pe());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=nr(),v=Pe();return l.ds.getEntries(m,d).next(E=>{w=E,w.forEach((p,g)=>{g.isValidDocument()||(v=v.add(p))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(E=>{h=E;const p=[];for(const g of a){const _=ER(g,h.get(g.key).overlayedDocument);_!=null&&p.push(new Jr(g.key,_,kE(_.value.mapValue),Vt.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,p,a)}).next(E=>{f=E;const p=E.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(m,E.batchId,p)})}).then(()=>({batchId:f.batchId,changes:FE(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Wa[s.currentUser.toKey()];c||(c=new Je(Ie)),c=c.insert(a,l),s.Wa[s.currentUser.toKey()]=c}(r,i.batchId,n),await Ca(r,i.changes),await Ec(r.remoteStore)}catch(i){const o=Qp(i,"Failed to persist write");n.reject(o)}}async function bb(t,e){const n=we(t);try{const r=await vO(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?je(s.Ba):i.removedDocuments.size>0&&(je(s.Ba),s.Ba=!1))}),await Ca(n,r,e)}catch(r){await Lo(r)}}function Wv(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=we(s);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.ta)f.sa(a)&&(c=!0)}),c&&Yp(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sL(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),o=i&&i.key;if(o){let s=new Je(pe.comparator);s=s.insert(o,Ct.newNoDocument(o,_e.min()));const a=Pe().add(o),l=new vc(_e.min(),new Map,new Je(Ie),s,a);await bb(r,l),r.$a=r.$a.remove(o),r.Ua.delete(e),Jp(r)}else await od(r.localStore,e,!1).then(()=>ld(r,e,n)).catch(Lo)}async function aL(t,e){const n=we(t),r=e.batch.batchId;try{const i=await yO(n.localStore,e);Tb(n,r,null),xb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ca(n,i)}catch(i){await Lo(i)}}async function lL(t,e,n){const r=we(t);try{const i=await function(s,a){const l=we(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(je(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);Tb(r,e,n),xb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ca(r,i)}catch(i){await Lo(i)}}function xb(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function Tb(t,e,n){const r=we(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function ld(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||Sb(t,r)})}function Sb(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(zp(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Jp(t))}function Kv(t,e,n){for(const r of n)r instanceof _b?(t.Ka.addReference(r.key,e),uL(t,r)):r instanceof wb?(fe(Xp,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||Sb(t,r.key)):ye()}function uL(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(fe(Xp,"New document in limbo: "+n),t.Qa.add(r),Jp(t))}function Jp(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new pe(He.fromString(e)),r=t.za.next();t.Ua.set(r,new JO(n)),t.$a=t.$a.insert(n,r),cb(t.remoteStore,new xr(Dn(jp(n.path)),r,"TargetPurposeLimboResolution",cc.ae))}}async function Ca(t,e,n){const r=we(t),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{s.push(r.Ha(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=$p.Yi(l.targetId,c);o.push(h)}}))}),await Promise.all(s),r.La.p_(i),await async function(l,c){const d=we(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>re.forEach(c,f=>re.forEach(f.Hi,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>re.forEach(f.Ji,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!jo(h))throw h;fe(qp,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=d.Ts.get(f),w=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(w);d.Ts=d.Ts.insert(f,v)}}}(r.localStore,o))}async function cL(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){fe(Xp,"User change. New user:",e.toKey());const r=await sb(n.localStore,e);n.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(l=>{l.reject(new he(ne.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ca(n,r.Rs)}}function fL(t,e){const n=we(t),r=n.Ua.get(e);if(r&&r.Ba)return Pe().add(r.key);{let i=Pe();const o=n.qa.get(e);if(!o)return i;for(const s of o){const a=n.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function Ib(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sL.bind(null,e),e.La.p_=GO.bind(null,e.eventManager),e.La.Ja=QO.bind(null,e.eventManager),e}function hL(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lL.bind(null,e),e}class Lu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_c(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return gO(this.persistence,new dO,e.initialUser,this.serializer)}Xa(e){return new ob(Bp.ri,this.serializer)}Za(e){return new xO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lu.provider={build:()=>new Lu};class dL extends Lu{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){je(this.persistence.referenceDelegate instanceof Ru);const r=this.persistence.referenceDelegate.garbageCollector;return new JR(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new ob(r=>Ru.ri(r,n),this.serializer)}}class ud{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Wv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cL.bind(null,this.syncEngine),await HO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KO}()}createDatastore(e){const n=_c(e.databaseInfo.databaseId),r=function(o){return new kO(o)}(e.databaseInfo);return function(o,s,a,l){return new RO(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new LO(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Wv(this.syncEngine,n,0),function(){return Uv.D()?new Uv:new TO}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,d){const h=new ZO(i,o,s,a,l,c);return d&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=we(i);fe(Ti,"RemoteStore shutting down."),o.W_.add(5),await Pa(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ud.provider={build:()=>new ud};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="FirestoreClient";class pL{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=vE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{fe(Wr,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(fe(Wr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lf(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Wr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mL(t);fe(Wr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$v(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$v(e.remoteStore,i)),t._onlineComponents=e}async function mL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Wr,"Using user provided OfflineComponentProvider");try{await Lf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Lf(t,new Lu)}}else fe(Wr,"Using default OfflineComponentProvider"),await Lf(t,new dL(void 0));return t._offlineComponents}async function kb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Wr,"Using user provided OnlineComponentProvider"),await Gv(t,t._uninitializedComponentsProvider._online)):(fe(Wr,"Using default OnlineComponentProvider"),await Gv(t,new ud))),t._onlineComponents}function gL(t){return kb(t).then(e=>e.syncEngine)}async function cd(t){const e=await kb(t),n=e.eventManager;return n.onListen=eL.bind(null,e.syncEngine),n.onUnlisten=rL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iL.bind(null,e.syncEngine),n}function yL(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const d=new Ab({next:f=>{d.su(),s.enqueueAndForget(()=>yb(o,h)),f.fromCache&&l.source==="server"?c.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new vb(a,d,{includeMetadataChanges:!0,Ta:!0});return gb(o,h)}(await cd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vL(t,e,n,r){if(e===!0&&r===!0)throw new he(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yv(t){if(!pe.isDocumentKey(t))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xv(t){if(pe.isDocumentKey(t))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function tn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bc(t);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firestore.googleapis.com",Jv=!0;class Zv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cb,this.ssl=Jv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Jv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ib;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YR)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AC;switch(r.type){case"firstParty":return new CC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qv.get(n);r&&(fe("ComponentProvider","Removing Datastore"),Qv.delete(n),r.terminate())}(this),Promise.resolve()}}function _L(t,e,n,r={}){var i;const o=(t=tn(t,xc))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;o.host!==Cb&&o.host!==a&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!wi(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Nt.MOCK_USER;else{c=BA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Nt(h)}t._authCredentials=new kC(new gE(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zr(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class Vr extends Zr{constructor(e,n,r){super(e,n,jp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new pe(e))}withConverter(e){return new Vr(this.firestore,e,this._path)}}function Rb(t,e,...n){if(t=it(t),Pb("collection","path",e),t instanceof xc){const r=He.fromString(e,...n);return Xv(r),new Vr(t,null,r)}{if(!(t instanceof Ft||t instanceof Vr))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return Xv(r),new Vr(t.firestore,null,r)}}function Dt(t,e,...n){if(t=it(t),arguments.length===1&&(e=vE.newId()),Pb("doc","path",e),t instanceof xc){const r=He.fromString(e,...n);return Yv(r),new Ft(t,null,new pe(r))}{if(!(t instanceof Ft||t instanceof Vr))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return Yv(r),new Ft(t.firestore,t instanceof Vr?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="AsyncQueue";class t0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new lb(this,"async_queue_retry"),this.Su=()=>{const r=Of();r&&fe(e0,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Of();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Mr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!jo(e))throw e;fe(e0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=Gp.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&ye()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function n0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class rr extends xc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new t0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t0(e),this._firestoreClient=void 0,await e}}}function wL(t,e){const n=typeof t=="object"?t:Aw(),r=typeof t=="string"?t:Iu,i=_p(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=FA("firestore");o&&_L(i,...o)}return i}function Tc(t){if(t._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EL(t),t._firestoreClient}function EL(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,d){return new WC(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Nb(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new pL(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this._byteString=e}static fromBase64String(e){try{return new So(xt.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new So(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=/^__.*__$/;class xL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ka(e,this.data,n,this.fieldTransforms)}}class Ob{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Lb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class nm{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ju(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Lb(this.Lu)&&bL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class TL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_c(e)}ju(e,n,r,i=!1){return new nm({Lu:e,methodName:n,zu:r,path:wt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oa(t){const e=t._freezeSettings(),n=_c(t._databaseId);return new TL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rm(t,e,n,r,i,o={}){const s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);im("Data must be an object, but it was:",s,r);const a=Mb(r,s);let l,c;if(o.merge)l=new Zt(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const f=fd(e,h,n);if(!s.contains(f))throw new he(ne.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Fb(d,f)||d.push(f)}l=new Zt(d),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new xL(new zt(a),l,c)}class Sc extends Zp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sc}}function jb(t,e,n,r){const i=t.ju(1,e,n);im("Data must be an object, but it was:",i,r);const o=[],s=zt.empty();Xr(r,(l,c)=>{const d=om(e,l,n);c=it(c);const h=i.Uu(d);if(c instanceof Sc)o.push(d);else{const f=La(c,h);f!=null&&(o.push(d),s.set(d,f))}});const a=new Zt(o);return new Ob(s,a,i.fieldTransforms)}function Db(t,e,n,r,i,o){const s=t.ju(1,e,n),a=[fd(e,r,n)],l=[i];if(o.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(fd(e,o[f])),l.push(o[f+1]);const c=[],d=zt.empty();for(let f=a.length-1;f>=0;--f)if(!Fb(c,a[f])){const m=a[f];let w=l[f];w=it(w);const v=s.Uu(m);if(w instanceof Sc)c.push(m);else{const E=La(w,v);E!=null&&(c.push(m),d.set(m,E))}}const h=new Zt(c);return new Ob(d,h,s.fieldTransforms)}function SL(t,e,n,r=!1){return La(n,t.ju(r?4:3,e))}function La(t,e){if(Vb(t=it(t)))return im("Unsupported field value:",e,t),Mb(t,e);if(t instanceof Zp)return function(r,i){if(!Lb(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=La(a,i.Ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=it(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ft.fromDate(r);return{timestampValue:Cu(i.serializer,o)}}if(r instanceof ft){const o=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cu(i.serializer,o)}}if(r instanceof em)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof So)return{bytesValue:XE(i.serializer,r._byteString)};if(r instanceof Ft){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Fp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof tm)return function(s,a){return{mapValue:{fields:{[IE]:{stringValue:AE},[Au]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return Dp(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${bc(r)}`)}(t,e)}function Mb(t,e){const n={};return wE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xr(t,(r,i)=>{const o=La(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Vb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof em||t instanceof So||t instanceof Ft||t instanceof Zp||t instanceof tm)}function im(t,e,n){if(!Vb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=bc(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function fd(t,e,n){if((e=it(e))instanceof Ra)return e._internalPath;if(typeof e=="string")return om(t,e);throw ju("Field path arguments must be of type string or ",t,!1,void 0,n)}const IL=new RegExp("[~\\*/\\[\\]]");function om(t,e,n){if(e.search(IL)>=0)throw ju(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ra(...e.split("."))._internalPath}catch{throw ju(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ju(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new he(ne.INVALID_ARGUMENT,a+t+l)}function Fb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AL extends Ub{data(){return super.data()}}function sm(t,e){return typeof e=="string"?om(t,e):e instanceof Ra?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class am{}class $b extends am{}function qb(t,e,...n){let r=[];e instanceof am&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof um).length,a=o.filter(l=>l instanceof lm).length;if(s>1||s>0&&a>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class lm extends $b{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lm(e,n,r)}_apply(e){const n=this._parse(e);return Hb(e._query,n),new Zr(e.firestore,e.converter,Zh(e._query,n))}_parse(e){const n=Oa(e.firestore);return function(o,s,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){i0(h,d);const w=[];for(const v of h)w.push(r0(l,o,v));f={arrayValue:{values:w}}}else f=r0(l,o,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||i0(h,d),f=SL(a,s,h,d==="in"||d==="not-in");return at.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class um extends am{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new um(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Tn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)Hb(s,l),s=Zh(s,l)}(e._query,n),new Zr(e.firestore,e.converter,Zh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cm extends $b{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cm(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ha(o,s)}(e._query,this._field,this._direction);return new Zr(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Do(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function zb(t,e="asc"){const n=e,r=sm("orderBy",t);return cm._create(r,n)}function r0(t,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jE(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!pe.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vv(t,new pe(r))}if(n instanceof Ft)return vv(t,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bc(n)}.`)}function i0(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hb(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kL{convertValue(e,n="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Au].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>nt(s.doubleValue));return new tm(o)}convertGeoPoint(e){return new em(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ua(e));default:return null}}convertTimestamp(e){const n=$r(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);je(rb(r));const i=new ca(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return i.isEqual(n)||tr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wb extends Ub{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hl extends Wb{data(e={}){return super.data(e)}}class Kb{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hl(this._firestore,this._userDataWriter,r.key,r,new xs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Hl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Hl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:NL(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}class hm extends kL{constructor(e){super(),this.firestore=e}convertBytes(e){return new So(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function Gb(t){t=tn(t,Zr);const e=tn(t.firestore,rr),n=Tc(e),r=new hm(e);return Bb(t._query),yL(n,t._query).then(i=>new Kb(e,r,t,i))}function o0(t,e,n){t=tn(t,Ft);const r=tn(t.firestore,rr),i=fm(t.converter,e,n);return ja(r,[rm(Oa(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vt.none())])}function Du(t,e,n,...r){t=tn(t,Ft);const i=tn(t.firestore,rr),o=Oa(i);let s;return s=typeof(e=it(e))=="string"||e instanceof Ra?Db(o,"updateDoc",t._key,e,n,r):jb(o,"updateDoc",t._key,e),ja(i,[s.toMutation(t._key,Vt.exists(!0))])}function Qb(t){return ja(tn(t.firestore,rr),[new yc(t._key,Vt.none())])}function Yb(t,e){const n=tn(t.firestore,rr),r=Dt(t),i=fm(t.converter,e);return ja(n,[rm(Oa(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Vt.exists(!1))]).then(()=>r)}function Xb(t,...e){var n,r,i;t=it(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||n0(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(n0(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,d;if(t instanceof Ft)c=tn(t.firestore,rr),d=jp(t._key.path),l={next:h=>{e[s]&&e[s](PL(c,t,h))},error:e[s+1],complete:e[s+2]};else{const h=tn(t,Zr);c=tn(h.firestore,rr),d=h._query;const f=new hm(c);l={next:m=>{e[s]&&e[s](new Kb(c,f,h,m))},error:e[s+1],complete:e[s+2]},Bb(t._query)}return function(f,m,w,v){const E=new Ab(v),p=new vb(m,E,w);return f.asyncQueue.enqueueAndForget(async()=>gb(await cd(f),p)),()=>{E.su(),f.asyncQueue.enqueueAndForget(async()=>yb(await cd(f),p))}}(Tc(c),d,a,l)}function ja(t,e){return function(r,i){const o=new Mr;return r.asyncQueue.enqueueAndForget(async()=>oL(await gL(r),i,o)),o.promise}(Tc(t),e)}function PL(t,e,n){const r=n.docs.get(e._key),i=new hm(t);return new Wb(t,i,e._key,r,new xs(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Oa(e)}set(e,n,r){this._verifyNotCommitted();const i=jf(e,this._firestore),o=fm(i.converter,n,r),s=rm(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Vt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=jf(e,this._firestore);let s;return s=typeof(n=it(n))=="string"||n instanceof Ra?Db(this._dataReader,"WriteBatch.update",o._key,n,r,i):jb(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Vt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=jf(e,this._firestore);return this._mutations=this._mutations.concat(new yc(n._key,Vt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jf(t,e){if((t=it(t)).firestore!==e)throw new he(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t){return Tc(t=tn(t,rr)),new CL(t,e=>ja(t,e))}(function(e,n=!0){(function(i){Oo=i})(Po),yo(new Ei("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new rr(new NC(r.getProvider("auth-internal")),new RC(s,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Lr(sv,av,e),Lr(sv,av,"esm2017")})();const RL={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"",VITE_FIREBASE_APP_ID:"",VITE_FIREBASE_AUTH_DOMAIN:"",VITE_FIREBASE_MEASUREMENT_ID:"",VITE_FIREBASE_MESSAGING_SENDER_ID:"",VITE_FIREBASE_PROJECT_ID:"",VITE_FIREBASE_STORAGE_BUCKET:""},OL=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID","VITE_FIREBASE_MEASUREMENT_ID"];for(const t of OL)if(!RL[t])throw new Error(`Missing required environment variable: ${t}`);const LL={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""};let Df=null,yn=null,Ae=null;try{Df=Iw(LL),yn=SC(Df),Ae=wL(Df)}catch(t){throw console.error("Firebase initialization error:",t),new Error(`Firebase initialization failed: ${t instanceof Error?t.message:String(t)}`)}if(!Ae)throw new Error("Firestore failed to initialize and is null.");const jL=({isDarkMode:t,servicesTranslations:e,featuresTranslations:n,everythingYouNeedTranslation:r,language:i})=>{const o=e.list||[];return k.jsx("div",{id:"services",className:`py-12 ${t?"bg-gray-800":"bg-gray-50"}`,children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"lg:text-center",children:[k.jsx("h2",{className:`text-base font-semibold tracking-wide uppercase ${t?"text-blue-400":"text-blue-600"}`,children:e.title}),k.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight sm:text-4xl",children:r})]}),k.jsx("div",{className:"mt-10",children:k.jsx("div",{className:"grid grid-cols-1 gap-10 sm:grid-cols-2 lg:grid-cols-3",children:o.map((s,a)=>k.jsxs("div",{className:`relative p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow ${t?"bg-gray-700":"bg-white"}`,children:[k.jsxs("div",{children:[k.jsxs("div",{className:`absolute h-12 w-12 flex items-center justify-center rounded-md ${t?"bg-blue-900":"bg-blue-50"}`,children:[a===0&&k.jsx(_I,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`}),a===1&&k.jsx(PI,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`}),a===2&&k.jsx(mw,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`})]}),k.jsx("p",{className:"ml-16 text-lg leading-6 font-medium",children:s.title})]}),k.jsx("div",{className:"mt-2 ml-16 text-base",children:s.description})]},a))})})]})})},ma={_origin:"https://api.emailjs.com"},DL=(t,e="https://api.emailjs.com")=>{ma._userID=t,ma._origin=e},Zb=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class s0{constructor(e){this.status=e.status,this.text=e.responseText}}const ex=(t,e,n={})=>new Promise((r,i)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:s})=>{const a=new s0(s);a.status===200||a.text==="OK"?r(a):i(a)}),o.addEventListener("error",({target:s})=>{i(new s0(s))}),o.open("POST",ma._origin+t,!0),Object.keys(n).forEach(s=>{o.setRequestHeader(s,n[s])}),o.send(e)}),ML=(t,e,n,r)=>{const i=r||ma._userID;return Zb(i,t,e),ex("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},VL=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},FL=(t,e,n,r)=>{const i=r||ma._userID,o=VL(n);Zb(i,t,e);const s=new FormData(o);return s.append("lib_version","3.2.0"),s.append("service_id",t),s.append("template_id",e),s.append("user_id",i),ex("/api/v1.0/email/send-form",s)},UL={init:DL,send:ML,sendForm:FL};function BL({isDarkMode:t,contactTranslations:e,contactDescriptionTranslation:n}){const{showToast:r}=Fn(),[i,o]=Q.useState({name:"",email:"",message:""}),s=l=>{const{name:c,value:d}=l.target;o({...i,[c]:d})},a=l=>{if(l.preventDefault(),!i.name||!i.email||!i.message){r("Please fill in all fields.","error");return}if(!/\S+@\S+\.\S+/.test(i.email)){r("Please enter a valid email address.","error");return}const c={from_name:i.name,from_email:i.email,message:i.message,to_email:"tiger3homs@gmail.com",name:i.name,email:i.email};UL.send("service_bdj14o3","template_2e2nikq",c,"UBLU57PsLej7OB6PR").then(m=>{console.log("SUCCESS!",m.status,m.text),r(e.submitButton||"Message sent successfully!","success"),o({name:"",email:"",message:""})},m=>{console.log("FAILED...",m),r("Failed to send message. Please try again later.","error")})};return k.jsx("div",{id:"contact",className:`py-16 px-4 sm:px-6 lg:px-8 ${t?"bg-gray-900":"bg-white"}`,children:k.jsxs("div",{className:"max-w-7xl mx-auto",children:[k.jsxs("div",{className:"text-center",children:[k.jsx("h2",{className:"text-3xl font-extrabold sm:text-4xl",children:e.title}),k.jsx("p",{className:"mt-4 text-lg",children:n})]}),k.jsx("div",{className:"mt-12",children:k.jsxs("form",{className:"grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8",onSubmit:a,children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"name",className:"block text-sm font-medium",children:e.nameLabel}),k.jsx("div",{className:"mt-1",children:k.jsx("input",{type:"text",name:"name",id:"name",value:i.name,onChange:s,required:!0,className:`py-3 px-4 block w-full shadow-sm focus:ring-blue-500 focus:border-blue-500 border-gray-300 rounded-md ${t?"bg-gray-800 text-white border-gray-600 placeholder-gray-400":"bg-white text-gray-900 border-gray-300 placeholder-gray-500"}`,placeholder:e.namePlaceholder})})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",children:e.emailLabel}),k.jsx("div",{className:"mt-1",children:k.jsx("input",{type:"email",name:"email",id:"email",value:i.email,onChange:s,required:!0,className:`py-3 px-4 block w-full shadow-sm focus:ring-blue-500 focus:border-blue-500 border-gray-300 rounded-md ${t?"bg-gray-800 text-white border-gray-600 placeholder-gray-400":"bg-white text-gray-900 border-gray-300 placeholder-gray-500"}`,placeholder:e.emailPlaceholder})})]}),k.jsxs("div",{className:"sm:col-span-2",children:[k.jsx("label",{htmlFor:"message",className:"block text-sm font-medium",children:e.messageLabel}),k.jsx("div",{className:"mt-1",children:k.jsx("textarea",{id:"message",name:"message",rows:4,value:i.message,onChange:s,required:!0,className:`py-3 px-4 block w-full shadow-sm focus:ring-blue-500 focus:border-blue-500 border-gray-300 rounded-md ${t?"bg-gray-800 text-white border-gray-600 placeholder-gray-400":"bg-white text-gray-900 border-gray-300 placeholder-gray-500"}`,placeholder:e.messagePlaceholder})})]}),k.jsx("div",{className:"sm:col-span-2",children:k.jsxs("button",{type:"submit",className:`w-full inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white ${t?"bg-blue-500 hover:bg-blue-600 focus:ring-blue-400":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"} focus:outline-none focus:ring-2 focus:ring-offset-2 ${t?"focus:ring-offset-gray-900":"focus:ring-offset-white"}`,children:[e.submitButton,k.jsx(gp,{className:"ml-2 h-5 w-5"})]})})]})})]})})}const $L=()=>k.jsx("div",{className:"lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2",children:k.jsx("img",{className:"h-56 w-full object-cover sm:h-72 md:h-96 lg:w-full lg:h-full",src:"https://images.unsplash.com/photo-1551434678-e076c223a692?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2850&q=80",alt:"Team working",loading:"lazy"})});function qL(){var E,p,g,_,y,N,O,x,b,C,T,S,P,A,D;Fn();const[t,e]=Q.useState(!1),[n,r]=Q.useState(!1),[i,o]=Q.useState("en"),[s,a]=Q.useState(!0),[l,c]=Q.useState(Pn.en);Q.useEffect(()=>{if(i==="en"&&Ae){a(!0);const U=Dt(Ae,"translations/en"),z=Xb(U,W=>{if(W.exists()){const K=W.data();c(K)}else console.log("No 'translations/en' document found in Firestore. Using default English data."),c(Pn.en);a(!1)},W=>{console.error("Error fetching 'translations/en' from Firestore:",W),c(Pn.en),a(!1)});return()=>z()}else a(!1)},[i]);const d=U=>{o(U.target.value)},h=Q.useMemo(()=>AA[i],[i]),f=i==="en"&&!s?l:h,m=i==="en"?((E=l.services)==null?void 0:E.list)||[]:((p=h.services)==null?void 0:p.list)||[],w=h,v=f.hero;return i==="en"&&s?k.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading site content..."}):k.jsxs("div",{className:`min-h-screen ${n?"bg-gray-900 text-white":"bg-white text-gray-900"} ${i==="ar"?"rtl":""}`,children:[k.jsxs("nav",{className:`shadow-sm ${n?"bg-gray-800":"bg-white"}`,children:[k.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"flex justify-between h-16",children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx(Ay,{className:`h-8 w-8 ${n?"text-white":"text-blue-600"}`}),k.jsx("span",{className:"ml-2 text-xl font-semibold",children:"OS Design"})]}),k.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[k.jsx("a",{href:"#home",className:`hover:text-blue-600 ${n?"text-gray-300":"text-gray-700"}`,children:w.home}),k.jsx("a",{href:"#services",className:`hover:text-blue-600 ${n?"text-gray-300":"text-gray-700"}`,children:(g=f.services)==null?void 0:g.title}),k.jsx("a",{href:"#about",className:`hover:text-blue-600 ${n?"text-gray-300":"text-gray-700"}`,children:(_=f.about)==null?void 0:_.title}),k.jsx("a",{href:"#contact",className:`hover:text-blue-600 ${n?"text-gray-300":"text-gray-700"}`,children:(y=f.contact)==null?void 0:y.title})]}),k.jsxs("select",{onChange:d,value:i,className:`text-gray-700 hover:text-blue-600 ${n?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:[k.jsx("option",{value:"en",children:"English"}),k.jsx("option",{value:"sv",children:"Svenska"}),k.jsx("option",{value:"ar",children:"العربية"})]}),k.jsx("button",{onClick:()=>r(!n),className:"text-gray-700 hover:text-blue-600",children:n?k.jsx(vA,{className:"h-6 w-6"}):k.jsx(aA,{className:"h-6 w-6"})}),k.jsx("div",{className:"md:hidden flex items-center",children:k.jsx("button",{onClick:()=>e(!t),className:"text-gray-700 hover:text-blue-600",children:t?k.jsx(IA,{className:"h-6 w-6"}):k.jsx(Vh,{className:"h-6 w-6"})})})]})}),t&&k.jsx("div",{className:"md:hidden",children:k.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[k.jsx("a",{href:"#home",className:`block px-3 py-2 hover:text-blue-600 ${n?"text-gray-300":"text-gray-700"}`,children:w.home}),k.jsx("a",{href:"#services",className:`block px-3 py-2 hover:text-blue-600 ${n?"text-gray-300":"text-gray-700"}`,children:(N=f.services)==null?void 0:N.title}),k.jsx("a",{href:"#about",className:`block px-3 py-2 hover:text-blue-600 ${n?"text-gray-300":"text-gray-700"}`,children:(O=f.about)==null?void 0:O.title}),k.jsx("a",{href:"#contact",className:`block px-3 py-2 hover:text-blue-600 ${n?"text-gray-300":"text-gray-700"}`,children:(x=f.contact)==null?void 0:x.title})]})})]}),k.jsxs("div",{id:"home",className:"relative overflow-hidden",children:[k.jsx("div",{className:"max-w-7xl mx-auto",children:k.jsx("div",{className:"relative z-10 pb-8 sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32",children:k.jsx("main",{className:"mt-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28",children:k.jsxs("div",{className:"sm:text-center lg:text-left",children:[k.jsxs("h1",{className:"text-4xl tracking-tight font-extrabold sm:text-5xl md:text-6xl",children:[k.jsx("span",{className:"block",children:v==null?void 0:v.title}),v&&"title2"in v&&v.title2&&k.jsx("span",{className:"block text-blue-600",children:v.title2})]}),k.jsx("p",{className:"mt-3 text-base sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0",children:v==null?void 0:v.subtitle}),k.jsx("div",{className:"mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start",children:k.jsx("div",{className:"rounded-md shadow",children:k.jsxs("a",{href:"#contact",className:`w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white ${n?"bg-blue-500 hover:bg-blue-600":"bg-blue-600 hover:bg-blue-700"} md:py-4 md:text-lg md:px-10`,children:[w.getStarted,k.jsx(gI,{className:"ml-2 h-5 w-5"})]})})})]})})})}),k.jsx($L,{})," "]}),k.jsx(jL,{isDarkMode:n,servicesTranslations:{title:((b=f.services)==null?void 0:b.title)||"",list:m},featuresTranslations:w.features,everythingYouNeedTranslation:w.everythingYouNeed,language:i}),k.jsxs("div",{id:"about",className:`py-12 ${n?"bg-gray-800":"bg-gray-50"}`,children:[k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[k.jsx("div",{className:"lg:text-center",children:k.jsx("h2",{className:`text-base font-semibold tracking-wide uppercase ${n?"text-blue-400":"text-blue-600"}`,children:(C=f.about)==null?void 0:C.title})}),k.jsx("p",{className:"mt-3 text-base sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0",children:(T=f.about)==null?void 0:T.description})]}),k.jsx("div",{className:`py-12 ${n?"bg-gray-800":"bg-gray-50"}`,children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[k.jsx("div",{className:"lg:text-center",children:k.jsx("h2",{className:`text-base font-semibold tracking-wide uppercase h-12 ${n?"text-blue-400":"text-blue-600"}`,children:w.links})}),k.jsxs("div",{className:"flex justify-center space-x-6",children:[k.jsx("a",{href:"https://x.com/",className:`hover:text-blue-400 transition-colors ${n?"text-gray-300":"text-gray-700"}`,children:k.jsx(gw,{size:24})}),k.jsx("a",{href:"https://youtube.com/",className:`hover:text-blue-400 transition-colors ${n?"text-gray-300":"text-gray-700"}`,children:k.jsx(TA,{size:24})}),k.jsx("a",{href:"https://facebook.com/",className:`hover:text-blue-400 transition-colors ${n?"text-gray-300":"text-gray-700"}`,children:k.jsx(hw,{size:24})}),k.jsx("a",{href:"https://instagram.com/",className:`hover:text-blue-400 transition-colors ${n?"text-gray-300":"text-gray-700"}`,children:k.jsx(pw,{size:24})})]})]})})]}),k.jsx(BL,{isDarkMode:n,contactTranslations:f.contact,contactDescriptionTranslation:w.contactDescription}),k.jsx("footer",{className:"py-12 px-4 sm:px-6 lg:px-8 bg-gray-800",children:k.jsxs("div",{className:"max-w-7xl mx-auto",children:[k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[k.jsxs("div",{children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx(Ay,{className:"h-8 w-8 text-white"}),k.jsx("span",{className:"ml-2 text-xl font-semibold text-white",children:"OS Design"})]}),k.jsx("p",{className:"mt-4 text-gray-400",children:"Building better digital experiences for forward-thinking businesses."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-white font-semibold mb-4",children:w.quickLinks}),k.jsxs("ul",{className:"space-y-2",children:[k.jsx("li",{children:k.jsx("a",{href:"#home",className:"text-gray-400 hover:text-white",children:w.home})}),k.jsx("li",{children:k.jsx("a",{href:"#services",className:"text-gray-400 hover:text-white",children:(S=f.services)==null?void 0:S.title})}),k.jsx("li",{children:k.jsx("a",{href:"#about",className:"text-gray-400 hover:text-white",children:(P=f.about)==null?void 0:P.title})}),k.jsx("li",{children:k.jsx("a",{href:"#contact",className:"text-gray-400 hover:text-white",children:(A=f.contact)==null?void 0:A.title})}),k.jsx("li",{children:k.jsx("a",{href:"/login",className:"text-gray-400 hover:text-white",children:"Login"})})]})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-white font-semibold mb-4",children:w.contactInfo}),k.jsxs("ul",{className:"space-y-2",children:[k.jsxs("li",{className:"flex items-center text-gray-400",children:[k.jsx(uA,{className:"h-5 w-5 mr-2"}),k.jsx("span",{children:w.phone})]}),k.jsxs("li",{className:"flex items-center text-gray-400",children:[k.jsx(gp,{className:"h-5 w-5 mr-2"}),k.jsx("a",{href:"mailto:tiger3homs@gmail.com",className:"hover:text-blue-400 transition-colors",children:k.jsx("span",{children:"tiger3homs@gmail.com"})})]}),k.jsxs("li",{className:"flex items-center text-gray-400",children:[k.jsx(mw,{className:"h-5 w-5 mr-2"}),k.jsx("span",{children:w.address})]})]})]})]}),k.jsx("div",{className:"mt-8 border-t border-gray-700 pt-8 text-center",children:k.jsx("p",{className:"text-gray-400",children:(D=f.footer)==null?void 0:D.copyright})})]})})]})}const zL={title:"New Project Title",description:"New project description.",tags:["Tag1","Tag2"],link:""},HL=(t,e,n)=>{if(!e||e.length===0)return t;const r=typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t));let i=r;for(let s=0;s<e.length-1;s++){const a=e[s];if(i[a]===void 0||i[a]===null){const l=typeof e[s+1]=="number";i[a]=l?[]:{}}if(Array.isArray(i)&&typeof a=="number")for(;i.length<=a;)i.push(void 0);else if(typeof i!="object"||i===null)return console.error("Cannot traverse into non-object:",i,"at path segment",a),t;i=i[a]}const o=e[e.length-1];if(typeof i!="object"||i===null)return console.error("Cannot set property on non-object/array:",i,"at path",e),t;if(Array.isArray(i)&&typeof o=="number")for(;i.length<=o;)i.push(void 0);return i[o]=n,r},Mu=t=>t?t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()):"",fs="translations/en",WL={title:"New Service Title",description:"New service description."},KL=()=>{const[t,e]=Q.useState(Pn),[n,r]=Q.useState(!0),[i,o]=Q.useState(""),{showToast:s}=Fn();Q.useEffect(()=>{if(!Ae){console.error("Firestore instance is not available."),o("Error: Firestore connection failed."),r(!1);return}const m=Dt(Ae,fs);r(!0);const w=Xb(m,v=>{if(v.exists()){const E=v.data();e(p=>({...p,en:E}))}else e(Pn),console.log("No translations document found in Firestore, using defaults.");r(!1)},v=>{console.error("Firestore snapshot error:",v),o("Error fetching data from Firestore."),r(!1)});return()=>w()},[]);const a=Q.useCallback((m,w)=>{e(v=>{const E="en";if(!m||m.length===0)return v;const p=HL(v[E],m,w);return{...v,[E]:p}}),o("")},[]),l=Q.useCallback(()=>{e(m=>{const w=`project_${Date.now()}`,v={...m.en};return(typeof v.projects!="object"||v.projects===null)&&(v.projects={title:Pn.en.projects.title}),v.projects[w]={...zL},{...m,en:v}}),o("New project added. Edit details and save.")},[]),c=Q.useCallback(()=>{e(m=>{var g;const w=(g=m.en)==null?void 0:g.services,E=[...Array.isArray(w==null?void 0:w.list)?w.list:[],{...WL}],p={...m.en,services:{...w||{title:Pn.en.services.title||"Services",list:[]},list:E}};return{...m,en:p}}),o("New service added. Edit details and save.")},[]),d=async m=>{const w=m!=null&&m.dataToSave?m.dataToSave:m!=null&&m.useDefaults?Pn.en:t.en;if(!Ae){o("Error: Firestore connection failed.");return}o("Saving...");try{const v=Dt(Ae,fs);await o0(v,w,{merge:!0}),s("Content changes saved successfully!","success"),o("")}catch(v){console.error("Failed to save translations to Firestore:",v),s("Error saving content changes.","error"),o("")}finally{}},h=Q.useCallback(async m=>{var w;if(!m||m.length<1){console.error("Invalid path for deletion:",m),s("Error: Invalid deletion path.","error");return}if(m[0]==="services"&&m[1]==="list"&&typeof m[2]=="number"){const v=m[2],E=(w=t.en.services)==null?void 0:w.list;if(!Array.isArray(E)){console.error("Cannot delete service item: services.list is not an array or is missing.",E),s("Error: Services data structure issue.","error");return}const p=E.filter((_,y)=>y!==v);if(e(_=>({..._,en:{..._.en,services:{..._.en.services||{title:"",list:[]},list:p}}})),!Ae){s("Error: Firestore connection failed.","error");return}const g=Dt(Ae,fs);try{o("Deleting service item..."),await Du(g,{"services.list":p}),s("Service item deleted.","success")}catch(_){console.error("Failed to update services list in Firestore:",_),s("Error deleting service item.","error")}finally{o("")}}else if(m[0]==="projects"&&m.length===2){const v=m[1],E=m.join(".");if(typeof v!="string"||!E){console.error("Invalid project path for deletion:",m),s("Error: Could not determine project to delete.","error");return}if(e(g=>{const _={...g.en.projects};return delete _[v],{...g,en:{...g.en,projects:_}}}),!Ae){s("Error: Firestore connection failed.","error");return}const p=Dt(Ae,fs);try{o("Deleting project item...");const _={...t.en.projects};_.hasOwnProperty(v)?delete _[v]:console.warn(`Attempted to delete non-existent project key: ${v}`),await Du(p,{projects:_}),s("Project item deleted.","success")}catch(g){console.error("Failed to delete project item from Firestore:",g),s("Error deleting project item.","error"),console.error("Firestore delete failed, local state might be inconsistent until next snapshot/refresh.")}finally{o("")}}else console.error("Unhandled deletion path:",m),s("Error: Deletion logic not implemented for this path.","error")},[t,s]);return{translations:t,isLoading:n,saveStatus:i,setSaveStatus:o,setTranslations:e,handleInputChange:a,handleAddNewProject:l,handleAddNewService:c,saveChanges:d,handleDeleteItem:h,resetToDefaults:async()=>{if(!Ae){o("Error: Firestore connection failed.");return}if(window.confirm("Are you sure you want to reset the English text content (About, Contact, Services, General Info) to the default values? This cannot be undone and does not affect Projects, Styles, or Social Links.")){o("Resetting...");const m={...Pn.en,projects:t.en.projects};try{const w=Dt(Ae,fs);await o0(w,m),s("Text content sections reset to defaults.","success"),o("")}catch(w){console.error("Failed to reset translations in Firestore:",w),s("Error resetting content.","error"),o("")}}}}},GL=({onToggleMobileSidebar:t,onToggleDesktopSidebar:e,onLogout:n})=>{const[r,i]=Q.useState(!1);return k.jsx("nav",{className:"bg-white shadow-md fixed w-full z-10",children:k.jsxs("div",{className:"px-4 h-16 flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 md:hidden","aria-label":"Toggle sidebar",children:k.jsx(Vh,{size:24})}),k.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 hidden md:block","aria-label":"Toggle sidebar",children:k.jsx(Vh,{size:24})})]}),k.jsx("div",{className:"flex items-center space-x-4",children:k.jsxs("div",{className:"relative",children:[k.jsxs("button",{onClick:()=>i(!r),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900","aria-expanded":r,"aria-haspopup":"true",children:[k.jsx(bA,{size:20}),k.jsx("span",{children:"Admin"}),k.jsx(pp,{size:16})]}),r&&k.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 border border-gray-200",children:k.jsxs("button",{onClick:()=>{n(),i(!1)},className:"w-full px-4 py-2 text-left text-red-600 hover:bg-gray-50 flex items-center space-x-2",children:[k.jsx(YI,{size:16}),k.jsx("span",{children:"Logout"})]})})]})})]})})},QL=({isMobile:t,isSidebarOpen:e,isDesktopSidebarCollapsed:n,activeTab:r,navItems:i,onTabClick:o,onCloseMobileSidebar:s})=>k.jsxs(k.Fragment,{children:[t&&e&&k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:s,"aria-hidden":"true"}),k.jsx("aside",{className:`fixed top-16 h-[calc(100vh-4rem)] bg-gray-800 text-white transition-transform duration-300 ease-in-out z-30 md:translate-x-0 md:transition-all md:duration-300
          ${t?e?"translate-x-0 w-64":"-translate-x-full w-64":n?"w-20":"w-64"}
        `,"aria-label":"Main Navigation",children:k.jsx("nav",{className:"p-4 overflow-y-auto h-full",children:i.map(a=>k.jsxs("button",{onClick:()=>o(a.tab),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r===a.tab?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,"aria-current":r===a.tab?"page":void 0,children:[a.icon,k.jsx("span",{className:`${t&&e||!t&&!n?"inline":"hidden"}`,children:a.label})]},a.tab))})})]}),YL=({data:t,path:e,handleChange:n,handleAddProject:r,handleDelete:i})=>{const{requestConfirmation:o}=Fn(),[s,a]=Q.useState({});if(!t||typeof t!="object")return k.jsx("p",{className:"text-red-500",children:"Error: Projects data is missing or invalid."});const l=[...e,"title"],c=Object.entries(t).filter(([p,g])=>p!=="title"&&typeof g=="object"&&g!==null),d=p=>{a(g=>({...g,[p]:!g[p]}))},[h,f]=Q.useState({}),m=(p,g,_)=>{const y=(h[p]||"").trim();y&&!_.includes(y)?(n(g,[..._,y]),f(N=>({...N,[p]:""}))):y||f(N=>({...N,[p]:""}))},w=(p,g,_)=>{n(p,g.filter(y=>y!==_))},v=(p,g)=>{g.endsWith(",")?f(_=>({..._,[p]:g.slice(0,-1)})):f(_=>({..._,[p]:g}))},E=(p,g,_,y)=>{(p.key==="Enter"||p.key===",")&&(p.preventDefault(),m(g,_,y))};return k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"projects-section-title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Title"}),k.jsx("input",{id:"projects-section-title",type:"text",value:typeof t.title=="string"?t.title:"",onChange:p=>n(l,p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter the title for the projects section"})]}),k.jsx("div",{className:"flex justify-end",children:k.jsxs("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center gap-2","aria-label":"Add new project item",children:[k.jsx(ra,{size:16})," Add New Project"]})}),k.jsxs("div",{className:"space-y-3",children:[k.jsxs("h3",{className:"text-lg font-medium text-gray-800 border-b pb-2 mb-3",children:["Project Items (",c.length,")"]}),c.length===0?k.jsx("p",{className:"text-gray-500 italic",children:'No projects added yet. Click "Add New Project" to begin.'}):c.map(([p,g])=>{const _=[...e,p],y=[..._,"title"],N=[..._,"description"],O=[..._,"tags"],x=[..._,"link"],b=s[p]||!1,C=(g==null?void 0:g.title)||"",T=(g==null?void 0:g.description)||"",S=Array.isArray(g==null?void 0:g.tags)?g.tags:[],P=(g==null?void 0:g.link)||"";return k.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[k.jsxs("div",{className:"flex items-center p-3 cursor-pointer hover:bg-gray-100 relative group",onClick:()=>d(p),role:"button",tabIndex:0,onKeyDown:A=>{(A.key==="Enter"||A.key===" ")&&d(p)},"aria-expanded":b,"aria-controls":`project-content-${p}`,children:[k.jsx("div",{className:"mr-3 text-gray-500",children:b?k.jsx(fw,{size:18}):k.jsx(pp,{size:18})}),k.jsxs("div",{className:"flex-grow mr-2 font-medium text-gray-700 truncate",children:[C||`Project: ${p}`," "]}),k.jsx("button",{onClick:A=>{A.stopPropagation(),o({message:`Are you sure you want to delete project "${C||p}"?
This action cannot be undone.`,onConfirm:()=>i(_),confirmText:"Delete Project",title:"Confirm Deletion"})},className:"p-1 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity focus:outline-none focus:ring-1 focus:ring-red-500 rounded-full z-10","aria-label":`Delete project ${C||p}`,children:k.jsx(ia,{size:18})})]}),b&&k.jsxs("div",{id:`project-content-${p}`,className:"p-4 border-t border-gray-200 bg-white space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:`project-title-${p}`,className:"block text-sm font-medium text-gray-600 mb-1",children:"Project Title"}),k.jsx("input",{id:`project-title-${p}`,type:"text",value:C,onChange:A=>n(y,A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter project title"})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:`project-description-${p}`,className:"block text-sm font-medium text-gray-600 mb-1",children:"Description"}),k.jsx("textarea",{id:`project-description-${p}`,value:T,onChange:A=>n(N,A.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter project description"})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:`project-tags-input-${p}`,className:"block text-sm font-medium text-gray-600 mb-1",children:"Tags (add with Enter or comma)"}),k.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 border border-gray-300 rounded-md bg-white",children:[S.map((A,D)=>k.jsxs("span",{className:"flex items-center bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:[A,k.jsx("button",{type:"button",onClick:()=>w(O,S,A),className:"ml-1.5 text-blue-600 hover:text-blue-800 focus:outline-none","aria-label":`Remove tag ${A}`,children:"× "})]},D)),k.jsx("input",{id:`project-tags-input-${p}`,type:"text",value:h[p]||"",onChange:A=>v(p,A.target.value),onKeyDown:A=>E(A,p,O,S),className:"flex-grow px-1 py-0.5 border-none focus:ring-0 focus:outline-none text-sm",placeholder:S.length===0?"e.g., react, typescript":"Add tag..."})]})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:`project-link-${p}`,className:"block text-sm font-medium text-gray-600 mb-1",children:"Project Link (URL)"}),k.jsx("input",{id:`project-link-${p}`,type:"url",value:P,onChange:A=>n(x,A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"https://example.com"})]})]})]},p)})]})]})},XL=({data:t,path:e,handleChange:n,handleDelete:r,handleAddService:i})=>{const{requestConfirmation:o}=Fn(),[s,a]=Q.useState({});if(!t||typeof t!="object")return k.jsx("p",{className:"text-red-500",children:"Error: Services data is missing or invalid."});const l=Array.isArray(t.list)?t.list:[],c=[...e,"title"],d=h=>{a(f=>({...f,[h]:!f[h]}))};return k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"services-section-title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Title"}),k.jsx("input",{id:"services-section-title",type:"text",value:t.title||"",onChange:h=>n(c,h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter the title for the services section"})]}),k.jsx("div",{className:"flex justify-end",children:k.jsxs("button",{onClick:i,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 flex items-center gap-2","aria-label":"Add new service item",children:[k.jsx(ra,{size:16})," Add New Service"]})}),k.jsxs("div",{className:"space-y-3",children:[k.jsxs("h3",{className:"text-lg font-medium text-gray-800 border-b pb-2 mb-3",children:["Service Items (",l.length,")"]}),l.length===0?k.jsx("p",{className:"text-gray-500 italic",children:'No services added yet. Click "Add New Service" to begin.'}):l.map((h,f)=>{const m=[...e,"list",f],w=[...m,"title"],v=[...m,"description"],E=s[f]||!1;return k.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[k.jsxs("div",{className:"flex items-center p-3 cursor-pointer hover:bg-gray-100 relative group",onClick:()=>d(f),role:"button",tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&d(f)},"aria-expanded":E,"aria-controls":`service-content-${f}`,children:[k.jsx("div",{className:"mr-3 text-gray-500",children:E?k.jsx(fw,{size:18}):k.jsx(pp,{size:18})}),k.jsxs("div",{className:"flex-grow mr-2",children:[k.jsxs("label",{htmlFor:`service-title-${f}`,className:"sr-only",children:["Service Title #",f+1]}),k.jsx("input",{id:`service-title-${f}`,type:"text",value:h.title||"",onChange:p=>{p.stopPropagation(),n(w,p.target.value)},onClick:p=>p.stopPropagation(),className:"w-full px-2 py-1 border border-transparent rounded focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 bg-transparent hover:border-gray-300 focus:bg-white",placeholder:`Service Title #${f+1}`})]}),k.jsx("button",{onClick:p=>{p.stopPropagation(),o({message:`Are you sure you want to delete service "${h.title||`Item #${f+1}`}"?
This action cannot be undone.`,onConfirm:()=>r([...e,"list",f]),confirmText:"Delete Service",title:"Confirm Deletion"})},className:"p-1 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity focus:outline-none focus:ring-1 focus:ring-red-500 rounded-full z-10","aria-label":`Delete service ${f+1}`,children:k.jsx(ia,{size:18})})]}),E&&k.jsxs("div",{id:`service-content-${f}`,className:"p-4 border-t border-gray-200 bg-white",children:[k.jsx("label",{htmlFor:`service-description-${f}`,className:"block text-sm font-medium text-gray-600 mb-1",children:"Description"}),k.jsx("textarea",{id:`service-description-${f}`,value:h.description||"",onChange:p=>n(v,p.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter service description"})]})]},f)})]})]})},a0=["Github","Facebook","Mail","Instagram","Linkedin","Twitter"],tx={Github:VI,Facebook:hw,Mail:gp,Instagram:pw,Linkedin:GI,Twitter:gw,HelpCircle:mp},JL=({initialData:t,isEditing:e,onSubmit:n,onCancel:r})=>{const i={name:"",url:"",icon:a0[0]||"",order:0},[o,s]=Q.useState(t||i);Q.useEffect(()=>{s(t||i)},[t]);const a=d=>{const{name:h,value:f}=d.target;s(m=>({...m,[h]:h==="order"?parseInt(f,10)||0:f}))},l=d=>{if(d.preventDefault(),!o.name||!o.url||!o.icon){alert("Name, URL, and Icon are required.");return}n(o)},c=tx[o.icon]||mp;return k.jsxs("form",{onSubmit:l,className:"mb-6 p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-md",children:[k.jsx("h3",{className:"text-xl font-medium mb-4 text-gray-800",children:e?"Edit Link":"Add New Link"}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"link-name",className:"block text-sm font-medium text-gray-600 mb-1",children:"Name"}),k.jsx("input",{id:"link-name",type:"text",name:"name",placeholder:"Link Name (e.g., GitHub)",value:o.name,onChange:a,className:"w-full p-2 rounded bg-white text-gray-800 border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",required:!0})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"link-url",className:"block text-sm font-medium text-gray-600 mb-1",children:"URL"}),k.jsx("input",{id:"link-url",type:"url",name:"url",placeholder:"Full URL (e.g., https://github.com/user)",value:o.url,onChange:a,className:"w-full p-2 rounded bg-white text-gray-800 border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",required:!0})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"link-icon",className:"block text-sm font-medium text-gray-600 mb-1",children:"Icon"}),k.jsxs("div",{className:"flex items-center gap-2",children:[" ",k.jsxs("select",{id:"link-icon",name:"icon",value:o.icon,onChange:a,className:"flex-grow p-2 rounded bg-white text-gray-800 border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",required:!0,children:[k.jsx("option",{value:"",disabled:!0,children:"Select Icon"}),a0.map(d=>k.jsx("option",{value:d,children:d},d))]}),k.jsx(c,{size:24,className:"text-gray-500 flex-shrink-0"})]})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"link-order",className:"block text-sm font-medium text-gray-600 mb-1",children:"Order"}),k.jsx("input",{id:"link-order",type:"number",name:"order",placeholder:"Order (e.g., 1)",value:o.order,onChange:a,className:"w-full p-2 rounded bg-white text-gray-800 border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",required:!0,min:"0"})]})]}),k.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[k.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-150 ease-in-out shadow hover:shadow-md",children:[k.jsx(fA,{size:18})," ",e?"Save Changes":"Add Link"]}),k.jsxs("button",{type:"button",onClick:r,className:"flex items-center gap-1.5 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded transition duration-150 ease-in-out shadow hover:shadow-md border border-gray-300",children:[k.jsx(kI,{size:18})," Cancel"]})]})]})},ZL=({link:t,index:e,isFirst:n,isLast:r,onEdit:i,onDelete:o,onMoveUp:s,onMoveDown:a})=>{const l=tx[t.icon]||mp;return k.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow p-4 md:grid md:grid-cols-12 md:gap-4 md:items-center md:bg-transparent md:hover:bg-gray-50 md:shadow-none md:rounded-none md:border-b md:border-gray-200 md:last:border-b-0 md:py-3 md:px-3 transition-colors duration-150",children:[k.jsxs("div",{className:"md:hidden space-y-3",children:[k.jsxs("div",{className:"flex justify-between items-start gap-2",children:[k.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[k.jsx(l,{size:20,className:"text-gray-500 flex-shrink-0"}),k.jsx("span",{className:"font-semibold text-lg text-gray-800 truncate",children:t.name})]}),k.jsxs("span",{className:"text-sm text-gray-500 flex-shrink-0",children:["(Order: ",t.order,")"]})]}),k.jsxs("div",{className:"text-sm break-words",children:[k.jsx("span",{className:"font-medium text-gray-500",children:"URL: "}),k.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:t.url})]}),k.jsxs("div",{className:"flex items-center justify-end gap-2 pt-3 border-t border-gray-200 mt-3",children:[k.jsx("button",{onClick:()=>s(e),disabled:n,className:`p-1 rounded ${n?"text-gray-400 cursor-not-allowed opacity-50":"text-blue-600 hover:text-blue-500 hover:bg-gray-100"}`,title:"Move Up",children:k.jsx(Mh,{size:18})}),k.jsx("button",{onClick:()=>a(e),disabled:r,className:`p-1 rounded ${r?"text-gray-400 cursor-not-allowed opacity-50":"text-blue-600 hover:text-blue-500 hover:bg-gray-100"}`,title:"Move Down",children:k.jsx(Dh,{size:18})}),k.jsx("button",{onClick:()=>i(t),className:"text-yellow-500 hover:text-yellow-400 hover:bg-gray-100 p-1 rounded",title:"Edit",children:k.jsx(ra,{size:18})}),k.jsx("button",{onClick:()=>o(t.id),className:"text-red-600 hover:text-red-500 hover:bg-gray-100 p-1 rounded",title:"Delete",children:k.jsx(ia,{size:18})})]})]}),k.jsxs("div",{className:"hidden md:contents",children:[" ",k.jsx("div",{className:"col-span-1 text-center text-gray-700",children:t.order}),k.jsx("div",{className:"col-span-1 flex items-center justify-center",children:k.jsx(l,{size:20,className:"text-gray-500"})}),k.jsx("div",{className:"col-span-3 truncate pr-2 text-gray-800",children:t.name}),k.jsx("div",{className:"col-span-4 truncate pr-2",children:k.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:t.url})}),k.jsxs("div",{className:"col-span-3 flex items-center justify-end gap-1 pr-2",children:[" ",k.jsx("button",{onClick:()=>s(e),disabled:n,className:`p-1 rounded ${n?"text-gray-400 cursor-not-allowed opacity-50":"text-blue-600 hover:text-blue-500 hover:bg-gray-100"}`,title:"Move Up",children:k.jsx(Mh,{size:18})}),k.jsx("button",{onClick:()=>a(e),disabled:r,className:`p-1 rounded ${r?"text-gray-400 cursor-not-allowed opacity-50":"text-blue-600 hover:text-blue-500 hover:bg-gray-100"}`,title:"Move Down",children:k.jsx(Dh,{size:18})}),k.jsx("button",{onClick:()=>i(t),className:"text-yellow-500 hover:text-yellow-400 hover:bg-gray-100 p-1 rounded",title:"Edit",children:k.jsx(ra,{size:18})}),k.jsx("button",{onClick:()=>o(t.id),className:"text-red-600 hover:text-red-500 hover:bg-gray-100 p-1 rounded",title:"Delete",children:k.jsx(ia,{size:18})})]})]})]})},e4=()=>{const{showToast:t,requestConfirmation:e}=Fn(),[n,r]=Q.useState([]),[i,o]=Q.useState(!0),[s,a]=Q.useState(!1),[l,c]=Q.useState(null),[d,h]=Q.useState(null),f=Q.useMemo(()=>Ae?Rb(Ae,"socialLinks"):null,[]),m=Q.useCallback(async()=>{if(!Ae||!f){t("Error: Firestore is not initialized.","error"),o(!1);return}o(!0);try{const x=qb(f,zb("order","asc")),C=(await Gb(x)).docs.map(T=>({...T.data(),id:T.id}));r(C)}catch(x){console.error("Error fetching social links:",x),t("Failed to load social links. Please try again.","error")}finally{o(!1)}},[f,t]);Q.useEffect(()=>{m()},[m]);const w=()=>{a(!1),c(null),h(null)},v=async x=>{if(!Ae||!f){t("Error: Firestore is not initialized.","error");return}try{const b=n.length>0?Math.max(...n.map(C=>C.order))+1:0;await Yb(f,{...x,order:b}),t("Link added successfully!","success"),w(),m()}catch(b){console.error("Error adding link:",b),t("Failed to add link. Please try again.","error")}},E=async x=>{if(!l||!Ae){t("Error: Cannot update link or Firestore is not initialized.","error");return}try{const b=Dt(Ae,"socialLinks",l);await Du(b,x),t("Link updated successfully!","success"),w(),m()}catch(b){console.error("Error updating link:",b),t("Failed to update link. Please try again.","error")}},p=async(x,b)=>{if(!Ae){t("Error: Firestore is not initialized.","error");return}const C=b==="up"?x-1:x+1;if(C<0||C>=n.length)return;const T=n[x],S=n[C],P=Jb(Ae),A=Dt(Ae,"socialLinks",T.id),D=Dt(Ae,"socialLinks",S.id);P.update(A,{order:S.order}),P.update(D,{order:T.order});try{await P.commit(),t(`Link moved ${b} successfully.`,"success"),m()}catch(U){console.error(`Error moving link ${b}:`,U),t("Failed to reorder link. Please try again.","error")}},g=x=>p(x,"up"),_=x=>p(x,"down"),y=async x=>{const b=n.find(C=>C.id===x);b&&e({message:`Are you sure you want to delete the link "${b.name}"?`,onConfirm:async()=>{if(!Ae){t("Error: Firestore is not initialized.","error");return}try{const C=Dt(Ae,"socialLinks",x);await Qb(C),t("Link deleted successfully!","success"),m(),l===x&&w()}catch(C){console.error("Error deleting link:",C),t("Failed to delete link. Please try again.","error")}},confirmText:"Delete Link",title:"Confirm Deletion"})},N=x=>{c(x.id),h({name:x.name,url:x.url,icon:x.icon,order:x.order}),a(!1)},O=x=>{l?E(x):v(x)};return k.jsxs("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow-lg text-gray-800",children:[k.jsx("h2",{className:"text-2xl font-semibold mb-6 text-gray-900",children:"Manage Social Links"}),i&&k.jsx("p",{className:"text-center text-gray-500",children:"Loading links..."}),(s||l)&&k.jsx(JL,{initialData:d,isEditing:!!l,onSubmit:O,onCancel:w},l||"add-form"),!s&&!l&&!i&&k.jsxs("button",{onClick:()=>{a(!0),c(null),h(null)},className:"mb-6 flex items-center gap-1.5 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-150 ease-in-out shadow hover:shadow-md",children:[k.jsx(II,{size:18})," Add New Link"]}),!i&&n.length>0&&k.jsxs("div",{className:"space-y-3",children:[k.jsxs("div",{className:"hidden md:grid md:grid-cols-12 gap-4 bg-gray-100 border-b border-gray-300 rounded-t-lg p-3 font-semibold text-gray-600 items-center sticky top-0 z-10",children:[k.jsx("div",{className:"col-span-1 text-center",children:"Order"}),k.jsx("div",{className:"col-span-1 text-center",children:"Icon"}),k.jsx("div",{className:"col-span-3",children:"Name"}),k.jsx("div",{className:"col-span-4",children:"URL"}),k.jsx("div",{className:"col-span-3 text-right pr-2",children:"Actions"})]}),n.map((x,b)=>k.jsx(ZL,{link:x,index:b,isFirst:b===0,isLast:b===n.length-1,onEdit:N,onDelete:y,onMoveUp:g,onMoveDown:_},x.id))]}),!i&&n.length===0&&!s&&k.jsxs("div",{className:"text-center text-gray-500 mt-6 p-6 border border-dashed border-gray-300 rounded-lg bg-gray-50",children:[k.jsx("p",{className:"font-medium",children:"No social links found."}),k.jsx("p",{className:"text-sm mt-1",children:'Click "Add New Link" above to get started.'})]})]})},Mf=({fieldKey:t,value:e,path:n,handleChange:r,editingPath:i,setEditingPath:o})=>{const s=n.join("."),a=i===s,l=t.replace(/([A-Z])/g," $1").replace(/^./,d=>d.toUpperCase()),c=/url|link/i.test(t);return k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{htmlFor:s,className:"block text-sm font-medium text-gray-700 capitalize mb-1",children:l}),a?c?k.jsx("input",{type:"url",id:s,name:s,className:"block w-full flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 bg-white transition-shadow duration-150 ease-in-out",value:e,onChange:d=>r(n,d.target.value),onBlur:()=>o(null),autoFocus:!0}):k.jsx("textarea",{id:s,name:s,rows:e.length>100?5:3,className:"block w-full flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 bg-white transition-shadow duration-150 ease-in-out",value:e,onChange:d=>r(n,d.target.value),onBlur:()=>o(null),autoFocus:!0}):k.jsx("div",{className:"block w-full flex-1 rounded-md border border-gray-200 bg-gray-50 p-2 cursor-pointer hover:bg-gray-100 min-h-[40px] whitespace-pre-wrap text-gray-800 transition-colors duration-150 ease-in-out break-words",onClick:()=>o(s),children:e||k.jsx("span",{className:"text-gray-400 italic",children:"Click to edit..."})})]},s)},t4=({translations:t,handleInputChange:e,editingPath:n,setEditingPath:r,getStaticSectionName:i})=>{const o=t.en.about,s=t.en.hero,a=t.en.footer;return k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[k.jsxs("div",{className:"space-y-6",children:[" ",k.jsxs("div",{className:"space-y-4",children:[k.jsx("h3",{className:"text-xl font-semibold text-gray-800 capitalize border-b border-gray-300 pb-2 mb-4",children:i("hero")}),s?Object.entries(s).map(([l,c])=>typeof c=="string"?k.jsx(Mf,{fieldKey:l,value:c,path:["hero",l],handleChange:e,editingPath:n,setEditingPath:r},`hero-${l}`):null):k.jsx("p",{className:"text-gray-500 italic",children:"Hero section data not available."})]})]}),k.jsxs("div",{className:"space-y-6",children:[" ",k.jsxs("div",{className:"space-y-4",children:[" ",k.jsx("h3",{className:"text-xl font-semibold text-gray-800 capitalize border-b border-gray-300 pb-2 mb-4",children:i("about")}),o?Object.entries(o).map(([l,c])=>typeof c=="string"?k.jsx(Mf,{fieldKey:l,value:c,path:["about",l],handleChange:e,editingPath:n,setEditingPath:r},`about-${l}`):null):k.jsx("p",{className:"text-gray-500 italic",children:"About section data not available."})]}),k.jsxs("div",{className:"space-y-4",children:[k.jsx("h3",{className:"text-xl font-semibold text-gray-800 capitalize border-b border-gray-300 pb-2 mb-4",children:i("footer")}),a?Object.entries(a).map(([l,c])=>typeof c=="string"?k.jsx(Mf,{fieldKey:l,value:c,path:["footer",l],handleChange:e,editingPath:n,setEditingPath:r},`footer-${l}`):null):k.jsx("p",{className:"text-gray-500 italic",children:"Footer section data not available."})]})]})]})},n4=()=>{const{showToast:t,requestConfirmation:e}=Fn(),[n,r]=Q.useState([]),[i,o]=Q.useState(!1),[s,a]=Q.useState(null),l=Q.useMemo(()=>Ae?Rb(Ae,"pages"):null,[]),c=Q.useCallback(async()=>{if(!Ae||!l){t("Error: Firestore database is not initialized.","error"),o(!1);return}o(!0);try{const p=qb(l,zb("order","asc")),_=(await Gb(p)).docs.map(y=>({id:y.id,...y.data()}));r(_)}catch(p){console.error("Error fetching pages:",p),t("Failed to load pages. Check console for details.","error")}finally{o(!1)}},[l,t]);Q.useEffect(()=>{c()},[c]);const d=Q.useCallback(()=>{a(null)},[]),h=Q.useCallback(async p=>{if(o(!0),!Ae){t("Error: Firestore database is not initialized.","error"),o(!1);return}try{let g;if(s){const y=n.find(N=>N.id===s);g=(y==null?void 0:y.order)??0}else g=n.length>0?Math.max(...n.map(y=>y.order))+1:0;const _={...p,order:g};if(s){const y=Dt(Ae,"pages",s);await Du(y,_),t("Page updated successfully!","success")}else{if(!l)throw new Error("Collection reference not available");await Yb(l,_),t("Page added successfully!","success")}d(),c()}catch(g){console.error("Error saving page:",g),t("Failed to save page. Check console for details.","error"),o(!1)}},[Ae,l,s,n,t,c,d]),f=Q.useCallback(p=>{var g;if(!p){t("Cannot delete page: Invalid ID.","error");return}e({message:`Are you sure you want to delete the page "${((g=n.find(_=>_.id===p))==null?void 0:g.title)||p}"?
This action cannot be undone.`,onConfirm:async()=>{if(!Ae){t("Error: Firestore database is not initialized.","error"),o(!1);return}o(!0);try{const _=Dt(Ae,"pages",p);await Qb(_),t("Page deleted successfully!","success"),s===p&&d(),c()}catch(_){console.error("Error deleting page:",_),t("Failed to delete page. Check console for details.","error"),o(!1)}},confirmText:"Delete Page",title:"Confirm Deletion"})},[Ae,n,s,t,e,c,d]),m=Q.useCallback(p=>{if(!p.id){t("Cannot edit page: Invalid ID.","error");return}a(p.id)},[t]),w=Q.useCallback(async(p,g)=>{const _=g==="up"?p-1:p+1;if(_<0||_>=n.length)return;if(!Ae||!l){t("Error: Firestore database or collection ref is not initialized.","error");return}o(!0);const y=n[p],N=n[_],O=Jb(Ae),x=Dt(l,y.id),b=Dt(l,N.id);O.update(x,{order:N.order}),O.update(b,{order:y.order});try{await O.commit(),t(`Page moved ${g} successfully.`,"success"),c()}catch(C){console.error(`Error moving page ${g}:`,C),t("Failed to reorder page. Please try again.","error"),o(!1)}},[Ae,l,n,t,c]),v=Q.useCallback(p=>w(p,"up"),[w]),E=Q.useCallback(p=>w(p,"down"),[w]);return{pages:n,isLoading:i,isEditing:s,handleFormSubmit:h,handleDelete:f,startEditing:m,resetForm:d,handleMoveUp:v,handleMoveDown:E}};function r4(){this.__data__=[],this.size=0}var i4=r4;function o4(t,e){return t===e||t!==t&&e!==e}var nx=o4,s4=nx;function a4(t,e){for(var n=t.length;n--;)if(s4(t[n][0],e))return n;return-1}var Ic=a4,l4=Ic,u4=Array.prototype,c4=u4.splice;function f4(t){var e=this.__data__,n=l4(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():c4.call(e,n,1),--this.size,!0}var h4=f4,d4=Ic;function p4(t){var e=this.__data__,n=d4(e,t);return n<0?void 0:e[n][1]}var m4=p4,g4=Ic;function y4(t){return g4(this.__data__,t)>-1}var v4=y4,_4=Ic;function w4(t,e){var n=this.__data__,r=_4(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var E4=w4,b4=i4,x4=h4,T4=m4,S4=v4,I4=E4;function Vo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vo.prototype.clear=b4;Vo.prototype.delete=x4;Vo.prototype.get=T4;Vo.prototype.has=S4;Vo.prototype.set=I4;var Ac=Vo,A4=Ac;function k4(){this.__data__=new A4,this.size=0}var N4=k4;function P4(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var C4=P4;function R4(t){return this.__data__.get(t)}var O4=R4;function L4(t){return this.__data__.has(t)}var j4=L4,D4=typeof Xt=="object"&&Xt&&Xt.Object===Object&&Xt,rx=D4,M4=rx,V4=typeof self=="object"&&self&&self.Object===Object&&self,F4=M4||V4||Function("return this")(),sr=F4,U4=sr,B4=U4.Symbol,dm=B4,l0=dm,ix=Object.prototype,$4=ix.hasOwnProperty,q4=ix.toString,hs=l0?l0.toStringTag:void 0;function z4(t){var e=$4.call(t,hs),n=t[hs];try{t[hs]=void 0;var r=!0}catch{}var i=q4.call(t);return r&&(e?t[hs]=n:delete t[hs]),i}var H4=z4,W4=Object.prototype,K4=W4.toString;function G4(t){return K4.call(t)}var Q4=G4,u0=dm,Y4=H4,X4=Q4,J4="[object Null]",Z4="[object Undefined]",c0=u0?u0.toStringTag:void 0;function ej(t){return t==null?t===void 0?Z4:J4:c0&&c0 in Object(t)?Y4(t):X4(t)}var kc=ej;function tj(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ox=tj,nj=kc,rj=ox,ij="[object AsyncFunction]",oj="[object Function]",sj="[object GeneratorFunction]",aj="[object Proxy]";function lj(t){if(!rj(t))return!1;var e=nj(t);return e==oj||e==sj||e==ij||e==aj}var sx=lj,uj=sr,cj=uj["__core-js_shared__"],fj=cj,Vf=fj,f0=function(){var t=/[^.]+$/.exec(Vf&&Vf.keys&&Vf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function hj(t){return!!f0&&f0 in t}var dj=hj,pj=Function.prototype,mj=pj.toString;function gj(t){if(t!=null){try{return mj.call(t)}catch{}try{return t+""}catch{}}return""}var ax=gj,yj=sx,vj=dj,_j=ox,wj=ax,Ej=/[\\^$.*+?()[\]{}|]/g,bj=/^\[object .+?Constructor\]$/,xj=Function.prototype,Tj=Object.prototype,Sj=xj.toString,Ij=Tj.hasOwnProperty,Aj=RegExp("^"+Sj.call(Ij).replace(Ej,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kj(t){if(!_j(t)||vj(t))return!1;var e=yj(t)?Aj:bj;return e.test(wj(t))}var Nj=kj;function Pj(t,e){return t==null?void 0:t[e]}var Cj=Pj,Rj=Nj,Oj=Cj;function Lj(t,e){var n=Oj(t,e);return Rj(n)?n:void 0}var Fo=Lj,jj=Fo,Dj=sr,Mj=jj(Dj,"Map"),pm=Mj,Vj=Fo,Fj=Vj(Object,"create"),Nc=Fj,h0=Nc;function Uj(){this.__data__=h0?h0(null):{},this.size=0}var Bj=Uj;function $j(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var qj=$j,zj=Nc,Hj="__lodash_hash_undefined__",Wj=Object.prototype,Kj=Wj.hasOwnProperty;function Gj(t){var e=this.__data__;if(zj){var n=e[t];return n===Hj?void 0:n}return Kj.call(e,t)?e[t]:void 0}var Qj=Gj,Yj=Nc,Xj=Object.prototype,Jj=Xj.hasOwnProperty;function Zj(t){var e=this.__data__;return Yj?e[t]!==void 0:Jj.call(e,t)}var eD=Zj,tD=Nc,nD="__lodash_hash_undefined__";function rD(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=tD&&e===void 0?nD:e,this}var iD=rD,oD=Bj,sD=qj,aD=Qj,lD=eD,uD=iD;function Uo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Uo.prototype.clear=oD;Uo.prototype.delete=sD;Uo.prototype.get=aD;Uo.prototype.has=lD;Uo.prototype.set=uD;var cD=Uo,d0=cD,fD=Ac,hD=pm;function dD(){this.size=0,this.__data__={hash:new d0,map:new(hD||fD),string:new d0}}var pD=dD;function mD(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var gD=mD,yD=gD;function vD(t,e){var n=t.__data__;return yD(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Pc=vD,_D=Pc;function wD(t){var e=_D(this,t).delete(t);return this.size-=e?1:0,e}var ED=wD,bD=Pc;function xD(t){return bD(this,t).get(t)}var TD=xD,SD=Pc;function ID(t){return SD(this,t).has(t)}var AD=ID,kD=Pc;function ND(t,e){var n=kD(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var PD=ND,CD=pD,RD=ED,OD=TD,LD=AD,jD=PD;function Bo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bo.prototype.clear=CD;Bo.prototype.delete=RD;Bo.prototype.get=OD;Bo.prototype.has=LD;Bo.prototype.set=jD;var lx=Bo,DD=Ac,MD=pm,VD=lx,FD=200;function UD(t,e){var n=this.__data__;if(n instanceof DD){var r=n.__data__;if(!MD||r.length<FD-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new VD(r)}return n.set(t,e),this.size=n.size,this}var BD=UD,$D=Ac,qD=N4,zD=C4,HD=O4,WD=j4,KD=BD;function $o(t){var e=this.__data__=new $D(t);this.size=e.size}$o.prototype.clear=qD;$o.prototype.delete=zD;$o.prototype.get=HD;$o.prototype.has=WD;$o.prototype.set=KD;var GD=$o,QD="__lodash_hash_undefined__";function YD(t){return this.__data__.set(t,QD),this}var XD=YD;function JD(t){return this.__data__.has(t)}var ZD=JD,e5=lx,t5=XD,n5=ZD;function Vu(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new e5;++e<n;)this.add(t[e])}Vu.prototype.add=Vu.prototype.push=t5;Vu.prototype.has=n5;var r5=Vu;function i5(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var o5=i5;function s5(t,e){return t.has(e)}var a5=s5,l5=r5,u5=o5,c5=a5,f5=1,h5=2;function d5(t,e,n,r,i,o){var s=n&f5,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var h=-1,f=!0,m=n&h5?new l5:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var w=t[h],v=e[h];if(r)var E=s?r(v,w,h,e,t,o):r(w,v,h,t,e,o);if(E!==void 0){if(E)continue;f=!1;break}if(m){if(!u5(e,function(p,g){if(!c5(m,g)&&(w===p||i(w,p,n,r,o)))return m.push(g)})){f=!1;break}}else if(!(w===v||i(w,v,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var ux=d5,p5=sr,m5=p5.Uint8Array,g5=m5;function y5(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var v5=y5;function _5(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var w5=_5,p0=dm,m0=g5,E5=nx,b5=ux,x5=v5,T5=w5,S5=1,I5=2,A5="[object Boolean]",k5="[object Date]",N5="[object Error]",P5="[object Map]",C5="[object Number]",R5="[object RegExp]",O5="[object Set]",L5="[object String]",j5="[object Symbol]",D5="[object ArrayBuffer]",M5="[object DataView]",g0=p0?p0.prototype:void 0,Ff=g0?g0.valueOf:void 0;function V5(t,e,n,r,i,o,s){switch(n){case M5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case D5:return!(t.byteLength!=e.byteLength||!o(new m0(t),new m0(e)));case A5:case k5:case C5:return E5(+t,+e);case N5:return t.name==e.name&&t.message==e.message;case R5:case L5:return t==e+"";case P5:var a=x5;case O5:var l=r&S5;if(a||(a=T5),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=I5,s.set(t,e);var d=b5(a(t),a(e),r,i,o,s);return s.delete(t),d;case j5:if(Ff)return Ff.call(t)==Ff.call(e)}return!1}var F5=V5;function U5(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var B5=U5,$5=Array.isArray,mm=$5,q5=B5,z5=mm;function H5(t,e,n){var r=e(t);return z5(t)?r:q5(r,n(t))}var W5=H5;function K5(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var G5=K5;function Q5(){return[]}var Y5=Q5,X5=G5,J5=Y5,Z5=Object.prototype,e3=Z5.propertyIsEnumerable,y0=Object.getOwnPropertySymbols,t3=y0?function(t){return t==null?[]:(t=Object(t),X5(y0(t),function(e){return e3.call(t,e)}))}:J5,n3=t3;function r3(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var i3=r3;function o3(t){return t!=null&&typeof t=="object"}var Cc=o3,s3=kc,a3=Cc,l3="[object Arguments]";function u3(t){return a3(t)&&s3(t)==l3}var c3=u3,v0=c3,f3=Cc,cx=Object.prototype,h3=cx.hasOwnProperty,d3=cx.propertyIsEnumerable,p3=v0(function(){return arguments}())?v0:function(t){return f3(t)&&h3.call(t,"callee")&&!d3.call(t,"callee")},m3=p3,Fu={exports:{}};function g3(){return!1}var y3=g3;Fu.exports;(function(t,e){var n=sr,r=y3,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(Fu,Fu.exports);var fx=Fu.exports,v3=9007199254740991,_3=/^(?:0|[1-9]\d*)$/;function w3(t,e){var n=typeof t;return e=e??v3,!!e&&(n=="number"||n!="symbol"&&_3.test(t))&&t>-1&&t%1==0&&t<e}var E3=w3,b3=9007199254740991;function x3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=b3}var hx=x3,T3=kc,S3=hx,I3=Cc,A3="[object Arguments]",k3="[object Array]",N3="[object Boolean]",P3="[object Date]",C3="[object Error]",R3="[object Function]",O3="[object Map]",L3="[object Number]",j3="[object Object]",D3="[object RegExp]",M3="[object Set]",V3="[object String]",F3="[object WeakMap]",U3="[object ArrayBuffer]",B3="[object DataView]",$3="[object Float32Array]",q3="[object Float64Array]",z3="[object Int8Array]",H3="[object Int16Array]",W3="[object Int32Array]",K3="[object Uint8Array]",G3="[object Uint8ClampedArray]",Q3="[object Uint16Array]",Y3="[object Uint32Array]",ze={};ze[$3]=ze[q3]=ze[z3]=ze[H3]=ze[W3]=ze[K3]=ze[G3]=ze[Q3]=ze[Y3]=!0;ze[A3]=ze[k3]=ze[U3]=ze[N3]=ze[B3]=ze[P3]=ze[C3]=ze[R3]=ze[O3]=ze[L3]=ze[j3]=ze[D3]=ze[M3]=ze[V3]=ze[F3]=!1;function X3(t){return I3(t)&&S3(t.length)&&!!ze[T3(t)]}var J3=X3;function Z3(t){return function(e){return t(e)}}var eM=Z3,Uu={exports:{}};Uu.exports;(function(t,e){var n=rx,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Uu,Uu.exports);var tM=Uu.exports,nM=J3,rM=eM,_0=tM,w0=_0&&_0.isTypedArray,iM=w0?rM(w0):nM,dx=iM,oM=i3,sM=m3,aM=mm,lM=fx,uM=E3,cM=dx,fM=Object.prototype,hM=fM.hasOwnProperty;function dM(t,e){var n=aM(t),r=!n&&sM(t),i=!n&&!r&&lM(t),o=!n&&!r&&!i&&cM(t),s=n||r||i||o,a=s?oM(t.length,String):[],l=a.length;for(var c in t)(e||hM.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||uM(c,l)))&&a.push(c);return a}var pM=dM,mM=Object.prototype;function gM(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||mM;return t===n}var yM=gM;function vM(t,e){return function(n){return t(e(n))}}var _M=vM,wM=_M,EM=wM(Object.keys,Object),bM=EM,xM=yM,TM=bM,SM=Object.prototype,IM=SM.hasOwnProperty;function AM(t){if(!xM(t))return TM(t);var e=[];for(var n in Object(t))IM.call(t,n)&&n!="constructor"&&e.push(n);return e}var kM=AM,NM=sx,PM=hx;function CM(t){return t!=null&&PM(t.length)&&!NM(t)}var RM=CM,OM=pM,LM=kM,jM=RM;function DM(t){return jM(t)?OM(t):LM(t)}var MM=DM,VM=W5,FM=n3,UM=MM;function BM(t){return VM(t,UM,FM)}var $M=BM,E0=$M,qM=1,zM=Object.prototype,HM=zM.hasOwnProperty;function WM(t,e,n,r,i,o){var s=n&qM,a=E0(t),l=a.length,c=E0(e),d=c.length;if(l!=d&&!s)return!1;for(var h=l;h--;){var f=a[h];if(!(s?f in e:HM.call(e,f)))return!1}var m=o.get(t),w=o.get(e);if(m&&w)return m==e&&w==t;var v=!0;o.set(t,e),o.set(e,t);for(var E=s;++h<l;){f=a[h];var p=t[f],g=e[f];if(r)var _=s?r(g,p,f,e,t,o):r(p,g,f,t,e,o);if(!(_===void 0?p===g||i(p,g,n,r,o):_)){v=!1;break}E||(E=f=="constructor")}if(v&&!E){var y=t.constructor,N=e.constructor;y!=N&&"constructor"in t&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof N=="function"&&N instanceof N)&&(v=!1)}return o.delete(t),o.delete(e),v}var KM=WM,GM=Fo,QM=sr,YM=GM(QM,"DataView"),XM=YM,JM=Fo,ZM=sr,e6=JM(ZM,"Promise"),t6=e6,n6=Fo,r6=sr,i6=n6(r6,"Set"),o6=i6,s6=Fo,a6=sr,l6=s6(a6,"WeakMap"),u6=l6,hd=XM,dd=pm,pd=t6,md=o6,gd=u6,px=kc,qo=ax,b0="[object Map]",c6="[object Object]",x0="[object Promise]",T0="[object Set]",S0="[object WeakMap]",I0="[object DataView]",f6=qo(hd),h6=qo(dd),d6=qo(pd),p6=qo(md),m6=qo(gd),ai=px;(hd&&ai(new hd(new ArrayBuffer(1)))!=I0||dd&&ai(new dd)!=b0||pd&&ai(pd.resolve())!=x0||md&&ai(new md)!=T0||gd&&ai(new gd)!=S0)&&(ai=function(t){var e=px(t),n=e==c6?t.constructor:void 0,r=n?qo(n):"";if(r)switch(r){case f6:return I0;case h6:return b0;case d6:return x0;case p6:return T0;case m6:return S0}return e});var g6=ai,Uf=GD,y6=ux,v6=F5,_6=KM,A0=g6,k0=mm,N0=fx,w6=dx,E6=1,P0="[object Arguments]",C0="[object Array]",El="[object Object]",b6=Object.prototype,R0=b6.hasOwnProperty;function x6(t,e,n,r,i,o){var s=k0(t),a=k0(e),l=s?C0:A0(t),c=a?C0:A0(e);l=l==P0?El:l,c=c==P0?El:c;var d=l==El,h=c==El,f=l==c;if(f&&N0(t)){if(!N0(e))return!1;s=!0,d=!1}if(f&&!d)return o||(o=new Uf),s||w6(t)?y6(t,e,n,r,i,o):v6(t,e,l,n,r,i,o);if(!(n&E6)){var m=d&&R0.call(t,"__wrapped__"),w=h&&R0.call(e,"__wrapped__");if(m||w){var v=m?t.value():t,E=w?e.value():e;return o||(o=new Uf),i(v,E,n,r,o)}}return f?(o||(o=new Uf),_6(t,e,n,r,i,o)):!1}var T6=x6,S6=T6,O0=Cc;function mx(t,e,n,r,i){return t===e?!0:t==null||e==null||!O0(t)&&!O0(e)?t!==t&&e!==e:S6(t,e,n,r,mx,i)}var I6=mx,A6=I6;function k6(t,e){return A6(t,e)}var N6=k6,gx={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Xt,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),c=i(46),d=i(47),h=i(48),f=i(49),m=i(12),w=i(32),v=i(33),E=i(31),p=i(1),g={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:d.default,Inline:c.default,Text:f.default,Attributor:{Attribute:m.default,Class:w.default,Style:v.default,Store:E.default}};r.default=g},function(n,r,i){var o=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var _ in g)g.hasOwnProperty(_)&&(p[_]=g[_])};return function(p,g){E(p,g);function _(){this.constructor=p}p.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(E){o(p,E);function p(g){var _=this;return g="[Parchment] "+g,_=E.call(this,g)||this,_.message=g,_.name=_.constructor.name,_}return p}(Error);r.ParchmentError=s;var a={},l={},c={},d={};r.DATA_KEY="__blot";var h;(function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function f(E,p){var g=w(E);if(g==null)throw new s("Unable to create "+E+" blot");var _=g,y=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:_.create(p);return new _(y,p)}r.create=f;function m(E,p){return p===void 0&&(p=!1),E==null?null:E[r.DATA_KEY]!=null?E[r.DATA_KEY].blot:p?m(E.parentNode,p):null}r.find=m;function w(E,p){p===void 0&&(p=h.ANY);var g;if(typeof E=="string")g=d[E]||a[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)g=d.text;else if(typeof E=="number")E&h.LEVEL&h.BLOCK?g=d.block:E&h.LEVEL&h.INLINE&&(g=d.inline);else if(E instanceof HTMLElement){var _=(E.getAttribute("class")||"").split(/\s+/);for(var y in _)if(g=l[_[y]],g)break;g=g||c[E.tagName]}return g==null?null:p&h.LEVEL&g.scope&&p&h.TYPE&g.scope?g:null}r.query=w;function v(){for(var E=[],p=0;p<arguments.length;p++)E[p]=arguments[p];if(E.length>1)return E.map(function(y){return v(y)});var g=E[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new s("Invalid definition");if(g.blotName==="abstract")throw new s("Cannot register abstract class");if(d[g.blotName||g.attrName]=g,typeof g.keyName=="string")a[g.keyName]=g;else if(g.className!=null&&(l[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(y){return y.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var _=Array.isArray(g.tagName)?g.tagName:[g.tagName];_.forEach(function(y){(c[y]==null||g.className==null)&&(c[y]=g)})}return g}r.register=v},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),c="\0",d=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};d.prototype.insert=function(h,f){var m={};return h.length===0?this:(m.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(m.attributes=f),this.push(m))},d.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},d.prototype.retain=function(h,f){if(h<=0)return this;var m={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(m.attributes=f),this.push(m)},d.prototype.push=function(h){var f=this.ops.length,m=this.ops[f-1];if(h=a(!0,{},h),typeof m=="object"){if(typeof h.delete=="number"&&typeof m.delete=="number")return this.ops[f-1]={delete:m.delete+h.delete},this;if(typeof m.delete=="number"&&h.insert!=null&&(f-=1,m=this.ops[f-1],typeof m!="object"))return this.ops.unshift(h),this;if(s(h.attributes,m.attributes)){if(typeof h.insert=="string"&&typeof m.insert=="string")return this.ops[f-1]={insert:m.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof m.retain=="number")return this.ops[f-1]={retain:m.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this},d.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},d.prototype.filter=function(h){return this.ops.filter(h)},d.prototype.forEach=function(h){this.ops.forEach(h)},d.prototype.map=function(h){return this.ops.map(h)},d.prototype.partition=function(h){var f=[],m=[];return this.forEach(function(w){var v=h(w)?f:m;v.push(w)}),[f,m]},d.prototype.reduce=function(h,f){return this.ops.reduce(h,f)},d.prototype.changeLength=function(){return this.reduce(function(h,f){return f.insert?h+l.length(f):f.delete?h-f.delete:h},0)},d.prototype.length=function(){return this.reduce(function(h,f){return h+l.length(f)},0)},d.prototype.slice=function(h,f){h=h||0,typeof f!="number"&&(f=1/0);for(var m=[],w=l.iterator(this.ops),v=0;v<f&&w.hasNext();){var E;v<h?E=w.next(h-v):(E=w.next(f-v),m.push(E)),v+=l.length(E)}return new d(m)},d.prototype.compose=function(h){var f=l.iterator(this.ops),m=l.iterator(h.ops),w=[],v=m.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var E=v.retain;f.peekType()==="insert"&&f.peekLength()<=E;)E-=f.peekLength(),w.push(f.next());v.retain-E>0&&m.next(v.retain-E)}for(var p=new d(w);f.hasNext()||m.hasNext();)if(m.peekType()==="insert")p.push(m.next());else if(f.peekType()==="delete")p.push(f.next());else{var g=Math.min(f.peekLength(),m.peekLength()),_=f.next(g),y=m.next(g);if(typeof y.retain=="number"){var N={};typeof _.retain=="number"?N.retain=g:N.insert=_.insert;var O=l.attributes.compose(_.attributes,y.attributes,typeof _.retain=="number");if(O&&(N.attributes=O),p.push(N),!m.hasNext()&&s(p.ops[p.ops.length-1],N)){var x=new d(f.rest());return p.concat(x).chop()}}else typeof y.delete=="number"&&typeof _.retain=="number"&&p.push(y)}return p.chop()},d.prototype.concat=function(h){var f=new d(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f},d.prototype.diff=function(h,f){if(this.ops===h.ops)return new d;var m=[this,h].map(function(g){return g.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:c;var y=g===h?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),w=new d,v=o(m[0],m[1],f),E=l.iterator(this.ops),p=l.iterator(h.ops);return v.forEach(function(g){for(var _=g[1].length;_>0;){var y=0;switch(g[0]){case o.INSERT:y=Math.min(p.peekLength(),_),w.push(p.next(y));break;case o.DELETE:y=Math.min(_,E.peekLength()),E.next(y),w.delete(y);break;case o.EQUAL:y=Math.min(E.peekLength(),p.peekLength(),_);var N=E.next(y),O=p.next(y);s(N.insert,O.insert)?w.retain(y,l.attributes.diff(N.attributes,O.attributes)):w.push(O).delete(y);break}_-=y}}),w.chop()},d.prototype.eachLine=function(h,f){f=f||`
`;for(var m=l.iterator(this.ops),w=new d,v=0;m.hasNext();){if(m.peekType()!=="insert")return;var E=m.peek(),p=l.length(E)-m.peekLength(),g=typeof E.insert=="string"?E.insert.indexOf(f,p)-p:-1;if(g<0)w.push(m.next());else if(g>0)w.push(m.next(g));else{if(h(w,m.next(1).attributes||{},v)===!1)return;v+=1,w=new d}}w.length()>0&&h(w,{},v)},d.prototype.transform=function(h,f){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);for(var m=l.iterator(this.ops),w=l.iterator(h.ops),v=new d;m.hasNext()||w.hasNext();)if(m.peekType()==="insert"&&(f||w.peekType()!=="insert"))v.retain(l.length(m.next()));else if(w.peekType()==="insert")v.push(w.next());else{var E=Math.min(m.peekLength(),w.peekLength()),p=m.next(E),g=w.next(E);if(p.delete)continue;g.delete?v.push(g):v.retain(E,l.attributes.transform(p.attributes,g.attributes,f))}return v.chop()},d.prototype.transformPosition=function(h,f){f=!!f;for(var m=l.iterator(this.ops),w=0;m.hasNext()&&w<=h;){var v=m.peekLength(),E=m.peekType();if(m.next(),E==="delete"){h-=Math.min(v,h-w);continue}else E==="insert"&&(w<h||!f)&&(h+=v);w+=v}return h},n.exports=d},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):o.call(m)==="[object Array]"},c=function(m){if(!m||o.call(m)!=="[object Object]")return!1;var w=i.call(m,"constructor"),v=m.constructor&&m.constructor.prototype&&i.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!w&&!v)return!1;var E;for(E in m);return typeof E>"u"||i.call(m,E)},d=function(m,w){s&&w.name==="__proto__"?s(m,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):m[w.name]=w.newValue},h=function(m,w){if(w==="__proto__")if(i.call(m,w)){if(a)return a(m,w).value}else return;return m[w]};n.exports=function f(){var m,w,v,E,p,g,_=arguments[0],y=1,N=arguments.length,O=!1;for(typeof _=="boolean"&&(O=_,_=arguments[1]||{},y=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});y<N;++y)if(m=arguments[y],m!=null)for(w in m)v=h(_,w),E=h(m,w),_!==E&&(O&&E&&(c(E)||(p=l(E)))?(p?(p=!1,g=v&&l(v)?v:[]):g=v&&c(v)?v:{},d(_,{name:w,newValue:f(O,g,E)})):typeof E<"u"&&d(_,{name:w,newValue:E}));return _}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function S(P,A){for(var D=0;D<A.length;D++){var U=A[D];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(P,U.key,U)}}return function(P,A,D){return A&&S(P.prototype,A),D&&S(P,D),P}}(),s=function S(P,A,D){P===null&&(P=Function.prototype);var U=Object.getOwnPropertyDescriptor(P,A);if(U===void 0){var z=Object.getPrototypeOf(P);return z===null?void 0:S(z,A,D)}else{if("value"in U)return U.value;var W=U.get;return W===void 0?void 0:W.call(D)}},a=i(3),l=_(a),c=i(2),d=_(c),h=i(0),f=_(h),m=i(16),w=_(m),v=i(6),E=_(v),p=i(7),g=_(p);function _(S){return S&&S.__esModule?S:{default:S}}function y(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")}function N(S,P){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:S}function O(S,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);S.prototype=Object.create(P&&P.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(S,P):S.__proto__=P)}var x=1,b=function(S){O(P,S);function P(){return y(this,P),N(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return o(P,[{key:"attach",value:function(){s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(D,U){var z=f.default.query(D,f.default.Scope.BLOCK_ATTRIBUTE);z!=null&&this.attributes.attribute(z,U)}},{key:"formatAt",value:function(D,U,z,W){this.format(z,W)}},{key:"insertAt",value:function(D,U,z){if(typeof U=="string"&&U.endsWith(`
`)){var W=f.default.create(C.blotName);this.parent.insertBefore(W,D===0?this:this.next),W.insertAt(0,U.slice(0,-1))}else s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,D,U,z)}}]),P}(f.default.Embed);b.scope=f.default.Scope.BLOCK_BLOT;var C=function(S){O(P,S);function P(A){y(this,P);var D=N(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,A));return D.cache={},D}return o(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(D,U){return U.length()===0?D:D.insert(U.value(),T(U))},new d.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(D,U){s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,D,U),this.cache={}}},{key:"formatAt",value:function(D,U,z,W){U<=0||(f.default.query(z,f.default.Scope.BLOCK)?D+U===this.length()&&this.format(z,W):s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,D,Math.min(U,this.length()-D-1),z,W),this.cache={})}},{key:"insertAt",value:function(D,U,z){if(z!=null)return s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,D,U,z);if(U.length!==0){var W=U.split(`
`),K=W.shift();K.length>0&&(D<this.length()-1||this.children.tail==null?s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(D,this.length()-1),K):this.children.tail.insertAt(this.children.tail.length(),K),this.cache={});var $=this;W.reduce(function(F,L){return $=$.split(F,!0),$.insertAt(0,L),L.length},D+K.length)}}},{key:"insertBefore",value:function(D,U){var z=this.children.head;s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,D,U),z instanceof w.default&&z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+x),this.cache.length}},{key:"moveChildren",value:function(D,U){s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,D,U),this.cache={}}},{key:"optimize",value:function(D){s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,D),this.cache={}}},{key:"path",value:function(D){return s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,D,!0)}},{key:"removeChild",value:function(D){s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,D),this.cache={}}},{key:"split",value:function(D){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U&&(D===0||D>=this.length()-x)){var z=this.clone();return D===0?(this.parent.insertBefore(z,this),this):(this.parent.insertBefore(z,this.next),z)}else{var W=s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,D,U);return this.cache={},W}}}]),P}(f.default.Block);C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[E.default,f.default.Embed,g.default];function T(S){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(P=(0,l.default)(P,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?P:T(S.parent,P)}r.bubbleFormats=T,r.BlockEmbed=b,r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},s=function(){function $(F,L){var M=[],B=!0,G=!1,H=void 0;try{for(var V=F[Symbol.iterator](),q;!(B=(q=V.next()).done)&&(M.push(q.value),!(L&&M.length===L));B=!0);}catch(X){G=!0,H=X}finally{try{!B&&V.return&&V.return()}finally{if(G)throw H}}return M}return function(F,L){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return $(F,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function $(F,L){for(var M=0;M<L.length;M++){var B=L[M];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(F,B.key,B)}}return function(F,L,M){return L&&$(F.prototype,L),M&&$(F,M),F}}();i(50);var l=i(2),c=T(l),d=i(14),h=T(d),f=i(8),m=T(f),w=i(9),v=T(w),E=i(0),p=T(E),g=i(15),_=T(g),y=i(3),N=T(y),O=i(10),x=T(O),b=i(34),C=T(b);function T($){return $&&$.__esModule?$:{default:$}}function S($,F,L){return F in $?Object.defineProperty($,F,{value:L,enumerable:!0,configurable:!0,writable:!0}):$[F]=L,$}function P($,F){if(!($ instanceof F))throw new TypeError("Cannot call a class as a function")}var A=(0,x.default)("quill"),D=function(){a($,null,[{key:"debug",value:function(L){L===!0&&(L="log"),x.default.level(L)}},{key:"find",value:function(L){return L.__quill||p.default.find(L)}},{key:"import",value:function(L){return this.imports[L]==null&&A.error("Cannot import "+L+". Are you sure it was registered?"),this.imports[L]}},{key:"register",value:function(L,M){var B=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof L!="string"){var H=L.attrName||L.blotName;typeof H=="string"?this.register("formats/"+H,L,M):Object.keys(L).forEach(function(V){B.register(V,L[V],M)})}else this.imports[L]!=null&&!G&&A.warn("Overwriting "+L+" with",M),this.imports[L]=M,(L.startsWith("blots/")||L.startsWith("formats/"))&&M.blotName!=="abstract"?p.default.register(M):L.startsWith("modules")&&typeof M.register=="function"&&M.register()}}]);function $(F){var L=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,$),this.options=U(F,M),this.container=this.options.container,this.container==null)return A.error("Invalid Quill container",F);this.options.debug&&$.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(H){H===m.default.events.TEXT_CHANGE&&L.root.classList.toggle("ql-blank",L.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(H,V){var q=L.selection.lastRange,X=q&&q.length===0?q.index:void 0;z.call(L,function(){return L.editor.update(null,V,X)},H)});var G=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+B+"<p><br></p></div>");this.setContents(G),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a($,[{key:"addContainer",value:function(L){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof L=="string"){var B=L;L=document.createElement("div"),L.classList.add(B)}return this.container.insertBefore(L,M),L}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(L,M,B){var G=this,H=W(L,M,B),V=s(H,4);return L=V[0],M=V[1],B=V[3],z.call(this,function(){return G.editor.deleteText(L,M)},B,L,-1*M)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(L),this.container.classList.toggle("ql-disabled",!L)}},{key:"focus",value:function(){var L=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=L,this.scrollIntoView()}},{key:"format",value:function(L,M){var B=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return z.call(this,function(){var H=B.getSelection(!0),V=new c.default;if(H==null)return V;if(p.default.query(L,p.default.Scope.BLOCK))V=B.editor.formatLine(H.index,H.length,S({},L,M));else{if(H.length===0)return B.selection.format(L,M),V;V=B.editor.formatText(H.index,H.length,S({},L,M))}return B.setSelection(H,m.default.sources.SILENT),V},G)}},{key:"formatLine",value:function(L,M,B,G,H){var V=this,q=void 0,X=W(L,M,B,G,H),J=s(X,4);return L=J[0],M=J[1],q=J[2],H=J[3],z.call(this,function(){return V.editor.formatLine(L,M,q)},H,L,0)}},{key:"formatText",value:function(L,M,B,G,H){var V=this,q=void 0,X=W(L,M,B,G,H),J=s(X,4);return L=J[0],M=J[1],q=J[2],H=J[3],z.call(this,function(){return V.editor.formatText(L,M,q)},H,L,0)}},{key:"getBounds",value:function(L){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof L=="number"?B=this.selection.getBounds(L,M):B=this.selection.getBounds(L.index,L.length);var G=this.container.getBoundingClientRect();return{bottom:B.bottom-G.top,height:B.height,left:B.left-G.left,right:B.right-G.left,top:B.top-G.top,width:B.width}}},{key:"getContents",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,B=W(L,M),G=s(B,2);return L=G[0],M=G[1],this.editor.getContents(L,M)}},{key:"getFormat",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof L=="number"?this.editor.getFormat(L,M):this.editor.getFormat(L.index,L.length)}},{key:"getIndex",value:function(L){return L.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(L){return this.scroll.leaf(L)}},{key:"getLine",value:function(L){return this.scroll.line(L)}},{key:"getLines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof L!="number"?this.scroll.lines(L.index,L.length):this.scroll.lines(L,M)}},{key:"getModule",value:function(L){return this.theme.modules[L]}},{key:"getSelection",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return L&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,B=W(L,M),G=s(B,2);return L=G[0],M=G[1],this.editor.getText(L,M)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(L,M,B){var G=this,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$.sources.API;return z.call(this,function(){return G.editor.insertEmbed(L,M,B)},H,L)}},{key:"insertText",value:function(L,M,B,G,H){var V=this,q=void 0,X=W(L,0,B,G,H),J=s(X,4);return L=J[0],q=J[2],H=J[3],z.call(this,function(){return V.editor.insertText(L,M,q)},H,L,M.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(L,M,B){this.clipboard.dangerouslyPasteHTML(L,M,B)}},{key:"removeFormat",value:function(L,M,B){var G=this,H=W(L,M,B),V=s(H,4);return L=V[0],M=V[1],B=V[3],z.call(this,function(){return G.editor.removeFormat(L,M)},B,L)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(L){var M=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return z.call(this,function(){L=new c.default(L);var G=M.getLength(),H=M.editor.deleteText(0,G),V=M.editor.applyDelta(L),q=V.ops[V.ops.length-1];q!=null&&typeof q.insert=="string"&&q.insert[q.insert.length-1]===`
`&&(M.editor.deleteText(M.getLength()-1,1),V.delete(1));var X=H.compose(V);return X},B)}},{key:"setSelection",value:function(L,M,B){if(L==null)this.selection.setRange(null,M||$.sources.API);else{var G=W(L,M,B),H=s(G,4);L=H[0],M=H[1],B=H[3],this.selection.setRange(new g.Range(L,M),B),B!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(L){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,B=new c.default().insert(L);return this.setContents(B,M)}},{key:"update",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,M=this.scroll.update(L);return this.selection.update(L),M}},{key:"updateContents",value:function(L){var M=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return z.call(this,function(){return L=new c.default(L),M.editor.applyDelta(L,B)},B,!0)}}]),$}();D.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},D.events=m.default.events,D.sources=m.default.sources,D.version="1.3.7",D.imports={delta:c.default,parchment:p.default,"core/module":v.default,"core/theme":C.default};function U($,F){if(F=(0,N.default)(!0,{container:$,modules:{clipboard:!0,keyboard:!0,history:!0}},F),!F.theme||F.theme===D.DEFAULTS.theme)F.theme=C.default;else if(F.theme=D.import("themes/"+F.theme),F.theme==null)throw new Error("Invalid theme "+F.theme+". Did you register it?");var L=(0,N.default)(!0,{},F.theme.DEFAULTS);[L,F].forEach(function(G){G.modules=G.modules||{},Object.keys(G.modules).forEach(function(H){G.modules[H]===!0&&(G.modules[H]={})})});var M=Object.keys(L.modules).concat(Object.keys(F.modules)),B=M.reduce(function(G,H){var V=D.import("modules/"+H);return V==null?A.error("Cannot load "+H+" module. Are you sure you registered it?"):G[H]=V.DEFAULTS||{},G},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=(0,N.default)(!0,{},D.DEFAULTS,{modules:B},L,F),["bounds","container","scrollingContainer"].forEach(function(G){typeof F[G]=="string"&&(F[G]=document.querySelector(F[G]))}),F.modules=Object.keys(F.modules).reduce(function(G,H){return F.modules[H]&&(G[H]=F.modules[H]),G},{}),F}function z($,F,L,M){if(this.options.strict&&!this.isEnabled()&&F===m.default.sources.USER)return new c.default;var B=L==null?null:this.getSelection(),G=this.editor.delta,H=$();if(B!=null&&(L===!0&&(L=B.index),M==null?B=K(B,H,F):M!==0&&(B=K(B,L,M,F)),this.setSelection(B,m.default.sources.SILENT)),H.length()>0){var V,q=[m.default.events.TEXT_CHANGE,H,G,F];if((V=this.emitter).emit.apply(V,[m.default.events.EDITOR_CHANGE].concat(q)),F!==m.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,q)}}return H}function W($,F,L,M,B){var G={};return typeof $.index=="number"&&typeof $.length=="number"?typeof F!="number"?(B=M,M=L,L=F,F=$.length,$=$.index):(F=$.length,$=$.index):typeof F!="number"&&(B=M,M=L,L=F,F=0),(typeof L>"u"?"undefined":o(L))==="object"?(G=L,B=M):typeof L=="string"&&(M!=null?G[L]=M:B=L),B=B||m.default.sources.API,[$,F,G,B]}function K($,F,L,M){if($==null)return null;var B=void 0,G=void 0;if(F instanceof c.default){var H=[$.index,$.index+$.length].map(function(J){return F.transformPosition(J,M!==m.default.sources.USER)}),V=s(H,2);B=V[0],G=V[1]}else{var q=[$.index,$.index+$.length].map(function(J){return J<F||J===F&&M===m.default.sources.USER?J:L>=0?J+L:Math.max(F,J+L)}),X=s(q,2);B=X[0],G=X[1]}return new g.Range(B,G-B)}r.expandConfig=U,r.overload=W,r.default=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(p,g){for(var _=0;_<g.length;_++){var y=g[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,_){return g&&E(p.prototype,g),_&&E(p,_),p}}(),s=function E(p,g,_){p===null&&(p=Function.prototype);var y=Object.getOwnPropertyDescriptor(p,g);if(y===void 0){var N=Object.getPrototypeOf(p);return N===null?void 0:E(N,g,_)}else{if("value"in y)return y.value;var O=y.get;return O===void 0?void 0:O.call(_)}},a=i(7),l=h(a),c=i(0),d=h(c);function h(E){return E&&E.__esModule?E:{default:E}}function f(E,p){if(!(E instanceof p))throw new TypeError("Cannot call a class as a function")}function m(E,p){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:E}function w(E,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);E.prototype=Object.create(p&&p.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(E,p):E.__proto__=p)}var v=function(E){w(p,E);function p(){return f(this,p),m(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"formatAt",value:function(_,y,N,O){if(p.compare(this.statics.blotName,N)<0&&d.default.query(N,d.default.Scope.BLOT)){var x=this.isolate(_,y);O&&x.wrap(N,O)}else s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,_,y,N,O)}},{key:"optimize",value:function(_){if(s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,_),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(_,y){var N=p.order.indexOf(_),O=p.order.indexOf(y);return N>=0||O>=0?N-O:_===y?0:_<y?-1:1}}]),p}(d.default.Inline);v.allowedChildren=[v,d.default.Embed,l.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function c(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function d(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var h=function(f){d(m,f);function m(){return l(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(_,y){for(var N=0;N<y.length;N++){var O=y[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,y,N){return y&&g(_.prototype,y),N&&g(_,N),_}}(),s=function g(_,y,N){_===null&&(_=Function.prototype);var O=Object.getOwnPropertyDescriptor(_,y);if(O===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:g(x,y,N)}else{if("value"in O)return O.value;var b=O.get;return b===void 0?void 0:b.call(N)}},a=i(54),l=h(a),c=i(10),d=h(c);function h(g){return g&&g.__esModule?g:{default:g}}function f(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function m(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function w(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var v=(0,d.default)("quill:events"),E=["selectionchange","mousedown","mouseup","click"];E.forEach(function(g){document.addEventListener(g,function(){for(var _=arguments.length,y=Array(_),N=0;N<_;N++)y[N]=arguments[N];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var x;(x=O.__quill.emitter).handleDOM.apply(x,y)}})})});var p=function(g){w(_,g);function _(){f(this,_);var y=m(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return y.listeners={},y.on("error",v.error),y}return o(_,[{key:"emit",value:function(){v.log.apply(v,arguments),s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(N){for(var O=arguments.length,x=Array(O>1?O-1:0),b=1;b<O;b++)x[b-1]=arguments[b];(this.listeners[N.type]||[]).forEach(function(C){var T=C.node,S=C.handler;(N.target===T||T.contains(N.target))&&S.apply(void 0,[N].concat(x))})}},{key:"listenDOM",value:function(N,O,x){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push({node:O,handler:x})}}]),_}(l.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=c};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(c){if(o.indexOf(c)<=o.indexOf(s)){for(var d,h=arguments.length,f=Array(h>1?h-1:0),m=1;m<h;m++)f[m-1]=arguments[m];(d=console)[c].apply(d,f)}}function l(c){return o.reduce(function(d,h){return d[h]=a.bind(console,h,c),d},{})}a.level=l.level=function(c){s=c},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(f,m,w){return w||(w={}),f===m?!0:f instanceof Date&&m instanceof Date?f.getTime()===m.getTime():!f||!m||typeof f!="object"&&typeof m!="object"?w.strict?f===m:f==m:h(f,m,w)};function c(f){return f==null}function d(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function h(f,m,w){var v,E;if(c(f)||c(m)||f.prototype!==m.prototype)return!1;if(a(f))return a(m)?(f=o.call(f),m=o.call(m),l(f,m,w)):!1;if(d(f)){if(!d(m)||f.length!==m.length)return!1;for(v=0;v<f.length;v++)if(f[v]!==m[v])return!1;return!0}try{var p=s(f),g=s(m)}catch{return!1}if(p.length!=g.length)return!1;for(p.sort(),g.sort(),v=p.length-1;v>=0;v--)if(p[v]!=g[v])return!1;for(v=p.length-1;v>=0;v--)if(E=p[v],!l(f[E],m[E],w))return!1;return typeof f==typeof m}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,c,d){d===void 0&&(d={}),this.attrName=l,this.keyName=c;var h=o.Scope.TYPE&o.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&o.Scope.LEVEL|h:this.scope=o.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},a.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},a.prototype.canAdd=function(l,c){var d=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function b(C,T){var S=[],P=!0,A=!1,D=void 0;try{for(var U=C[Symbol.iterator](),z;!(P=(z=U.next()).done)&&(S.push(z.value),!(T&&S.length===T));P=!0);}catch(W){A=!0,D=W}finally{try{!P&&U.return&&U.return()}finally{if(A)throw D}}return S}return function(C,T){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return b(C,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(C,T){for(var S=0;S<T.length;S++){var P=T[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}return function(C,T,S){return T&&b(C.prototype,T),S&&b(C,S),C}}(),a=function b(C,T,S){C===null&&(C=Function.prototype);var P=Object.getOwnPropertyDescriptor(C,T);if(P===void 0){var A=Object.getPrototypeOf(C);return A===null?void 0:b(A,T,S)}else{if("value"in P)return P.value;var D=P.get;return D===void 0?void 0:D.call(S)}},l=i(2),c=g(l),d=i(0),h=g(d),f=i(4),m=g(f),w=i(6),v=g(w),E=i(7),p=g(E);function g(b){return b&&b.__esModule?b:{default:b}}function _(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function y(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:b}function N(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}var O=function(b){N(C,b);function C(){return _(this,C),y(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return C}(v.default);O.blotName="code",O.tagName="CODE";var x=function(b){N(C,b);function C(){return _(this,C),y(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return s(C,[{key:"delta",value:function(){var S=this,P=this.domNode.textContent;return P.endsWith(`
`)&&(P=P.slice(0,-1)),P.split(`
`).reduce(function(A,D){return A.insert(D).insert(`
`,S.formats())},new c.default)}},{key:"format",value:function(S,P){if(!(S===this.statics.blotName&&P)){var A=this.descendant(p.default,this.length()-1),D=o(A,1),U=D[0];U!=null&&U.deleteAt(U.length()-1,1),a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,S,P)}}},{key:"formatAt",value:function(S,P,A,D){if(P!==0&&!(h.default.query(A,h.default.Scope.BLOCK)==null||A===this.statics.blotName&&D===this.statics.formats(this.domNode))){var U=this.newlineIndex(S);if(!(U<0||U>=S+P)){var z=this.newlineIndex(S,!0)+1,W=U-z+1,K=this.isolate(z,W),$=K.next;K.format(A,D),$ instanceof C&&$.formatAt(0,S-z+P-W,A,D)}}}},{key:"insertAt",value:function(S,P,A){if(A==null){var D=this.descendant(p.default,S),U=o(D,2),z=U[0],W=U[1];z.insertAt(W,P)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var A=this.domNode.textContent.slice(S).indexOf(`
`);return A>-1?S+A:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,S);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===P.statics.formats(P.domNode)&&(P.optimize(S),P.moveChildren(this),P.remove())}},{key:"replace",value:function(S){a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(P){var A=h.default.find(P);A==null?P.parentNode.removeChild(P):A instanceof h.default.Embed?A.remove():A.unwrap()})}}],[{key:"create",value:function(S){var P=a(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,S);return P.setAttribute("spellcheck",!1),P}},{key:"formats",value:function(){return!0}}]),C}(m.default);x.blotName="code-block",x.tagName="PRE",x.TAB="  ",r.Code=O,r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},s=function(){function $(F,L){var M=[],B=!0,G=!1,H=void 0;try{for(var V=F[Symbol.iterator](),q;!(B=(q=V.next()).done)&&(M.push(q.value),!(L&&M.length===L));B=!0);}catch(X){G=!0,H=X}finally{try{!B&&V.return&&V.return()}finally{if(G)throw H}}return M}return function(F,L){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return $(F,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function $(F,L){for(var M=0;M<L.length;M++){var B=L[M];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(F,B.key,B)}}return function(F,L,M){return L&&$(F.prototype,L),M&&$(F,M),F}}(),l=i(2),c=P(l),d=i(20),h=P(d),f=i(0),m=P(f),w=i(13),v=P(w),E=i(24),p=P(E),g=i(4),_=P(g),y=i(16),N=P(y),O=i(21),x=P(O),b=i(11),C=P(b),T=i(3),S=P(T);function P($){return $&&$.__esModule?$:{default:$}}function A($,F,L){return F in $?Object.defineProperty($,F,{value:L,enumerable:!0,configurable:!0,writable:!0}):$[F]=L,$}function D($,F){if(!($ instanceof F))throw new TypeError("Cannot call a class as a function")}var U=/^[ -~]*$/,z=function(){function $(F){D(this,$),this.scroll=F,this.delta=this.getDelta()}return a($,[{key:"applyDelta",value:function(L){var M=this,B=!1;this.scroll.update();var G=this.scroll.length();return this.scroll.batchStart(),L=K(L),L.reduce(function(H,V){var q=V.retain||V.delete||V.insert.length||1,X=V.attributes||{};if(V.insert!=null){if(typeof V.insert=="string"){var J=V.insert;J.endsWith(`
`)&&B&&(B=!1,J=J.slice(0,-1)),H>=G&&!J.endsWith(`
`)&&(B=!0),M.scroll.insertAt(H,J);var ie=M.scroll.line(H),ce=s(ie,2),me=ce[0],ve=ce[1],Se=(0,S.default)({},(0,g.bubbleFormats)(me));if(me instanceof _.default){var Re=me.descendant(m.default.Leaf,ve),gt=s(Re,1),tt=gt[0];Se=(0,S.default)(Se,(0,g.bubbleFormats)(tt))}X=h.default.attributes.diff(Se,X)||{}}else if(o(V.insert)==="object"){var ee=Object.keys(V.insert)[0];if(ee==null)return H;M.scroll.insertAt(H,ee,V.insert[ee])}G+=q}return Object.keys(X).forEach(function(te){M.scroll.formatAt(H,q,te,X[te])}),H+q},0),L.reduce(function(H,V){return typeof V.delete=="number"?(M.scroll.deleteAt(H,V.delete),H):H+(V.retain||V.insert.length||1)},0),this.scroll.batchEnd(),this.update(L)}},{key:"deleteText",value:function(L,M){return this.scroll.deleteAt(L,M),this.update(new c.default().retain(L).delete(M))}},{key:"formatLine",value:function(L,M){var B=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(G).forEach(function(H){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[H])){var V=B.scroll.lines(L,Math.max(M,1)),q=M;V.forEach(function(X){var J=X.length();if(!(X instanceof v.default))X.format(H,G[H]);else{var ie=L-X.offset(B.scroll),ce=X.newlineIndex(ie+q)-ie+1;X.formatAt(ie,ce,H,G[H])}q-=J})}}),this.scroll.optimize(),this.update(new c.default().retain(L).retain(M,(0,x.default)(G)))}},{key:"formatText",value:function(L,M){var B=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(G).forEach(function(H){B.scroll.formatAt(L,M,H,G[H])}),this.update(new c.default().retain(L).retain(M,(0,x.default)(G)))}},{key:"getContents",value:function(L,M){return this.delta.slice(L,L+M)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(L,M){return L.concat(M.delta())},new c.default)}},{key:"getFormat",value:function(L){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],G=[];M===0?this.scroll.path(L).forEach(function(V){var q=s(V,1),X=q[0];X instanceof _.default?B.push(X):X instanceof m.default.Leaf&&G.push(X)}):(B=this.scroll.lines(L,M),G=this.scroll.descendants(m.default.Leaf,L,M));var H=[B,G].map(function(V){if(V.length===0)return{};for(var q=(0,g.bubbleFormats)(V.shift());Object.keys(q).length>0;){var X=V.shift();if(X==null)return q;q=W((0,g.bubbleFormats)(X),q)}return q});return S.default.apply(S.default,H)}},{key:"getText",value:function(L,M){return this.getContents(L,M).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(L,M,B){return this.scroll.insertAt(L,M,B),this.update(new c.default().retain(L).insert(A({},M,B)))}},{key:"insertText",value:function(L,M){var B=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M=M.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(L,M),Object.keys(G).forEach(function(H){B.scroll.formatAt(L,M.length,H,G[H])}),this.update(new c.default().retain(L).insert(M,(0,x.default)(G)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var L=this.scroll.children.head;return L.statics.blotName!==_.default.blotName||L.children.length>1?!1:L.children.head instanceof N.default}},{key:"removeFormat",value:function(L,M){var B=this.getText(L,M),G=this.scroll.line(L+M),H=s(G,2),V=H[0],q=H[1],X=0,J=new c.default;V!=null&&(V instanceof v.default?X=V.newlineIndex(q)-q+1:X=V.length()-q,J=V.delta().slice(q,q+X-1).insert(`
`));var ie=this.getContents(L,M+X),ce=ie.diff(new c.default().insert(B).concat(J)),me=new c.default().retain(L).concat(ce);return this.applyDelta(me)}},{key:"update",value:function(L){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,G=this.delta;if(M.length===1&&M[0].type==="characterData"&&M[0].target.data.match(U)&&m.default.find(M[0].target)){var H=m.default.find(M[0].target),V=(0,g.bubbleFormats)(H),q=H.offset(this.scroll),X=M[0].oldValue.replace(p.default.CONTENTS,""),J=new c.default().insert(X),ie=new c.default().insert(H.value()),ce=new c.default().retain(q).concat(J.diff(ie,B));L=ce.reduce(function(me,ve){return ve.insert?me.insert(ve.insert,V):me.push(ve)},new c.default),this.delta=G.compose(L)}else this.delta=this.getDelta(),(!L||!(0,C.default)(G.compose(L),this.delta))&&(L=G.diff(this.delta,B));return L}}]),$}();function W($,F){return Object.keys(F).reduce(function(L,M){return $[M]==null||(F[M]===$[M]?L[M]=F[M]:Array.isArray(F[M])?F[M].indexOf($[M])<0&&(L[M]=F[M].concat([$[M]])):L[M]=[F[M],$[M]]),L},{})}function K($){return $.reduce(function(F,L){if(L.insert===1){var M=(0,x.default)(L.attributes);return delete M.image,F.insert({image:L.attributes.image},M)}if(L.attributes!=null&&(L.attributes.list===!0||L.attributes.bullet===!0)&&(L=(0,x.default)(L),L.attributes.list?L.attributes.list="ordered":(L.attributes.list="bullet",delete L.attributes.bullet)),typeof L.insert=="string"){var B=L.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return F.insert(B,L.attributes)}return F.push(L)},new c.default)}r.default=z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function b(C,T){var S=[],P=!0,A=!1,D=void 0;try{for(var U=C[Symbol.iterator](),z;!(P=(z=U.next()).done)&&(S.push(z.value),!(T&&S.length===T));P=!0);}catch(W){A=!0,D=W}finally{try{!P&&U.return&&U.return()}finally{if(A)throw D}}return S}return function(C,T){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return b(C,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(C,T){for(var S=0;S<T.length;S++){var P=T[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}return function(C,T,S){return T&&b(C.prototype,T),S&&b(C,S),C}}(),a=i(0),l=p(a),c=i(21),d=p(c),h=i(11),f=p(h),m=i(8),w=p(m),v=i(10),E=p(v);function p(b){return b&&b.__esModule?b:{default:b}}function g(b){if(Array.isArray(b)){for(var C=0,T=Array(b.length);C<b.length;C++)T[C]=b[C];return T}else return Array.from(b)}function _(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}var y=(0,E.default)("quill:selection"),N=function b(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,b),this.index=C,this.length=T},O=function(){function b(C,T){var S=this;_(this,b),this.emitter=T,this.scroll=C,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new N(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,w.default.sources.USER),1)}),this.emitter.on(w.default.events.EDITOR_CHANGE,function(P,A){P===w.default.events.TEXT_CHANGE&&A.length()>0&&S.update(w.default.sources.SILENT)}),this.emitter.on(w.default.events.SCROLL_BEFORE_UPDATE,function(){if(S.hasFocus()){var P=S.getNativeRange();P!=null&&P.start.node!==S.cursor.textNode&&S.emitter.once(w.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(P.start.node,P.start.offset,P.end.node,P.end.offset)}catch{}})}}),this.emitter.on(w.default.events.SCROLL_OPTIMIZE,function(P,A){if(A.range){var D=A.range,U=D.startNode,z=D.startOffset,W=D.endNode,K=D.endOffset;S.setNativeRange(U,z,W,K)}}),this.update(w.default.sources.SILENT)}return s(b,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var S=T.cursor.restore();if(!S)return;setTimeout(function(){T.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(w.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var P=this.getNativeRange();if(!(P==null||!P.native.collapsed||l.default.query(T,l.default.Scope.BLOCK))){if(P.start.node!==this.cursor.textNode){var A=l.default.find(P.start.node,!1);if(A==null)return;if(A instanceof l.default.Leaf){var D=A.split(P.start.offset);A.parent.insertBefore(this.cursor,D)}else A.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(T,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();T=Math.min(T,P-1),S=Math.min(T+S,P-1)-T;var A=void 0,D=this.scroll.leaf(T),U=o(D,2),z=U[0],W=U[1];if(z==null)return null;var K=z.position(W,!0),$=o(K,2);A=$[0],W=$[1];var F=document.createRange();if(S>0){F.setStart(A,W);var L=this.scroll.leaf(T+S),M=o(L,2);if(z=M[0],W=M[1],z==null)return null;var B=z.position(W,!0),G=o(B,2);return A=G[0],W=G[1],F.setEnd(A,W),F.getBoundingClientRect()}else{var H="left",V=void 0;return A instanceof Text?(W<A.data.length?(F.setStart(A,W),F.setEnd(A,W+1)):(F.setStart(A,W-1),F.setEnd(A,W),H="right"),V=F.getBoundingClientRect()):(V=z.domNode.getBoundingClientRect(),W>0&&(H="right")),{bottom:V.top+V.height,height:V.height,left:V[H],right:V[H],top:V.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var S=T.getRangeAt(0);if(S==null)return null;var P=this.normalizeNative(S);return y.info("getNativeRange",P),P}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var S=this.normalizedToRange(T);return[S,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var S=this,P=[[T.start.node,T.start.offset]];T.native.collapsed||P.push([T.end.node,T.end.offset]);var A=P.map(function(z){var W=o(z,2),K=W[0],$=W[1],F=l.default.find(K,!0),L=F.offset(S.scroll);return $===0?L:F instanceof l.default.Container?L+F.length():L+F.index(K,$)}),D=Math.min(Math.max.apply(Math,g(A)),this.scroll.length()-1),U=Math.min.apply(Math,[D].concat(g(A)));return new N(U,D-U)}},{key:"normalizeNative",value:function(T){if(!x(this.root,T.startContainer)||!T.collapsed&&!x(this.root,T.endContainer))return null;var S={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[S.start,S.end].forEach(function(P){for(var A=P.node,D=P.offset;!(A instanceof Text)&&A.childNodes.length>0;)if(A.childNodes.length>D)A=A.childNodes[D],D=0;else if(A.childNodes.length===D)A=A.lastChild,D=A instanceof Text?A.data.length:A.childNodes.length+1;else break;P.node=A,P.offset=D}),S}},{key:"rangeToNative",value:function(T){var S=this,P=T.collapsed?[T.index]:[T.index,T.index+T.length],A=[],D=this.scroll.length();return P.forEach(function(U,z){U=Math.min(D-1,U);var W=void 0,K=S.scroll.leaf(U),$=o(K,2),F=$[0],L=$[1],M=F.position(L,z!==0),B=o(M,2);W=B[0],L=B[1],A.push(W,L)}),A.length<2&&(A=A.concat(A)),A}},{key:"scrollIntoView",value:function(T){var S=this.lastRange;if(S!=null){var P=this.getBounds(S.index,S.length);if(P!=null){var A=this.scroll.length()-1,D=this.scroll.line(Math.min(S.index,A)),U=o(D,1),z=U[0],W=z;if(S.length>0){var K=this.scroll.line(Math.min(S.index+S.length,A)),$=o(K,1);W=$[0]}if(!(z==null||W==null)){var F=T.getBoundingClientRect();P.top<F.top?T.scrollTop-=F.top-P.top:P.bottom>F.bottom&&(T.scrollTop+=P.bottom-F.bottom)}}}}},{key:"setNativeRange",value:function(T,S){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,D=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",T,S,P,A),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||P.parentNode==null))){var U=document.getSelection();if(U!=null)if(T!=null){this.hasFocus()||this.root.focus();var z=(this.getNativeRange()||{}).native;if(z==null||D||T!==z.startContainer||S!==z.startOffset||P!==z.endContainer||A!==z.endOffset){T.tagName=="BR"&&(S=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),P.tagName=="BR"&&(A=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var W=document.createRange();W.setStart(T,S),W.setEnd(P,A),U.removeAllRanges(),U.addRange(W)}}else U.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof S=="string"&&(P=S,S=!1),y.info("setRange",T),T!=null){var A=this.rangeToNative(T);this.setNativeRange.apply(this,g(A).concat([S]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.default.sources.USER,S=this.lastRange,P=this.getRange(),A=o(P,2),D=A[0],U=A[1];if(this.lastRange=D,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(S,this.lastRange)){var z;!this.composing&&U!=null&&U.native.collapsed&&U.start.node!==this.cursor.textNode&&this.cursor.restore();var W=[w.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(S),T];if((z=this.emitter).emit.apply(z,[w.default.events.EDITOR_CHANGE].concat(W)),T!==w.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,W)}}}}]),b}();function x(b,C){try{C.parentNode}catch{return!1}return C instanceof Text&&(C=C.parentNode),b.contains(C)}r.Range=N,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var p=0;p<E.length;p++){var g=E[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,E,p){return E&&w(v.prototype,E),p&&w(v,p),v}}(),s=function w(v,E,p){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,E);if(g===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:w(_,E,p)}else{if("value"in g)return g.value;var y=g.get;return y===void 0?void 0:y.call(p)}},a=i(0),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function d(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function f(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var m=function(w){f(v,w);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"insertInto",value:function(p,g){p.children.length===0?s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,p,g):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(l.default.Embed);m.blotName="break",m.tagName="BR",r.default=m},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var w in m)m.hasOwnProperty(w)&&(f[w]=m[w])};return function(f,m){h(f,m);function w(){this.constructor=f}f.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),c=function(h){o(f,h);function f(m){var w=h.call(this,m)||this;return w.build(),w}return f.prototype.appendChild=function(m){this.insertBefore(m)},f.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},f.prototype.build=function(){var m=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(w){try{var v=d(w);m.insertBefore(v,m.children.head||void 0)}catch(E){if(E instanceof l.ParchmentError)return;throw E}})},f.prototype.deleteAt=function(m,w){if(m===0&&w===this.length())return this.remove();this.children.forEachAt(m,w,function(v,E,p){v.deleteAt(E,p)})},f.prototype.descendant=function(m,w){var v=this.children.find(w),E=v[0],p=v[1];return m.blotName==null&&m(E)||m.blotName!=null&&E instanceof m?[E,p]:E instanceof f?E.descendant(m,p):[null,-1]},f.prototype.descendants=function(m,w,v){w===void 0&&(w=0),v===void 0&&(v=Number.MAX_VALUE);var E=[],p=v;return this.children.forEachAt(w,v,function(g,_,y){(m.blotName==null&&m(g)||m.blotName!=null&&g instanceof m)&&E.push(g),g instanceof f&&(E=E.concat(g.descendants(m,_,p))),p-=y}),E},f.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),h.prototype.detach.call(this)},f.prototype.formatAt=function(m,w,v,E){this.children.forEachAt(m,w,function(p,g,_){p.formatAt(g,_,v,E)})},f.prototype.insertAt=function(m,w,v){var E=this.children.find(m),p=E[0],g=E[1];if(p)p.insertAt(g,w,v);else{var _=v==null?l.create("text",w):l.create(w,v);this.appendChild(_)}},f.prototype.insertBefore=function(m,w){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return m instanceof v}))throw new l.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,w)},f.prototype.length=function(){return this.children.reduce(function(m,w){return m+w.length()},0)},f.prototype.moveChildren=function(m,w){this.children.forEach(function(v){m.insertBefore(v,w)})},f.prototype.optimize=function(m){if(h.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var w=l.create(this.statics.defaultChild);this.appendChild(w),w.optimize(m)}else this.remove()},f.prototype.path=function(m,w){w===void 0&&(w=!1);var v=this.children.find(m,w),E=v[0],p=v[1],g=[[this,m]];return E instanceof f?g.concat(E.path(p,w)):(E!=null&&g.push([E,p]),g)},f.prototype.removeChild=function(m){this.children.remove(m)},f.prototype.replace=function(m){m instanceof f&&m.moveChildren(this),h.prototype.replace.call(this,m)},f.prototype.split=function(m,w){if(w===void 0&&(w=!1),!w){if(m===0)return this;if(m===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(m,this.length(),function(E,p,g){E=E.split(p,w),v.appendChild(E)}),v},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(m,w){var v=this,E=[],p=[];m.forEach(function(g){g.target===v.domNode&&g.type==="childList"&&(E.push.apply(E,g.addedNodes),p.push.apply(p,g.removedNodes))}),p.forEach(function(g){if(!(g.parentNode!=null&&g.tagName!=="IFRAME"&&document.body.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=l.find(g);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===v.domNode)&&_.detach()}}),E.filter(function(g){return g.parentNode==v.domNode}).sort(function(g,_){return g===_?0:g.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(g){var _=null;g.nextSibling!=null&&(_=l.find(g.nextSibling));var y=d(g);(y.next!=_||y.next==null)&&(y.parent!=null&&y.parent.removeChild(v),v.insertBefore(y,_||void 0))})},f}(a.default);function d(h){var f=l.find(h);if(f==null)try{f=l.create(h)}catch{f=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(w){f.domNode.appendChild(w)}),h.parentNode&&h.parentNode.replaceChild(f.domNode,h),f.attach()}return f}r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var w in m)m.hasOwnProperty(w)&&(f[w]=m[w])};return function(f,m){h(f,m);function w(){this.constructor=f}f.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),c=i(1),d=function(h){o(f,h);function f(m){var w=h.call(this,m)||this;return w.attributes=new a.default(w.domNode),w}return f.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},f.prototype.format=function(m,w){var v=c.query(m);v instanceof s.default?this.attributes.attribute(v,w):w&&v!=null&&(m!==this.statics.blotName||this.formats()[m]!==w)&&this.replaceWith(m,w)},f.prototype.formats=function(){var m=this.attributes.values(),w=this.statics.formats(this.domNode);return w!=null&&(m[this.statics.blotName]=w),m},f.prototype.replaceWith=function(m,w){var v=h.prototype.replaceWith.call(this,m,w);return this.attributes.copy(v),v},f.prototype.update=function(m,w){var v=this;h.prototype.update.call(this,m,w),m.some(function(E){return E.target===v.domNode&&E.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(m,w){var v=h.prototype.wrap.call(this,m,w);return v instanceof f&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},f}(l.default);r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.value=function(h){return!0},d.prototype.index=function(h,f){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},d.prototype.position=function(h,f){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(m+=1),[this.parent.domNode,m]},d.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},d.scope=a.Scope.INLINE_BLOT,d}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(c,d,h){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});var f=s(!0,{},d);h||(f=Object.keys(f).reduce(function(w,v){return f[v]!=null&&(w[v]=f[v]),w},{}));for(var m in c)c[m]!==void 0&&d[m]===void 0&&(f[m]=c[m]);return Object.keys(f).length>0?f:void 0},diff:function(c,d){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});var h=Object.keys(c).concat(Object.keys(d)).reduce(function(f,m){return o(c[m],d[m])||(f[m]=d[m]===void 0?null:d[m]),f},{});return Object.keys(h).length>0?h:void 0},transform:function(c,d,h){if(typeof c!="object")return d;if(typeof d=="object"){if(!h)return d;var f=Object.keys(d).reduce(function(m,w){return c[w]===void 0&&(m[w]=d[w]),m},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var d=this.ops[this.index];if(d){var h=this.offset,f=a.length(d);if(c>=f-h?(c=f-h,this.index+=1,this.offset=0):this.offset+=c,typeof d.delete=="number")return{delete:c};var m={};return d.attributes&&(m.attributes=d.attributes),typeof d.retain=="number"?m.retain=c:typeof d.insert=="string"?m.insert=d.insert.substr(h,c):m.insert=d.insert,m}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,d=this.index,h=this.next(),f=this.ops.slice(this.index);return this.offset=c,this.index=d,[h].concat(f)}else return[]},n.exports=a},function(n,r){var i=function(){function o(v,E){return E!=null&&v instanceof E}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(v,E,p,g,_){typeof E=="object"&&(p=E.depth,g=E.prototype,_=E.includeNonEnumerable,E=E.circular);var y=[],N=[],O=typeof Buffer<"u";typeof E>"u"&&(E=!0),typeof p>"u"&&(p=1/0);function x(b,C){if(b===null)return null;if(C===0)return b;var T,S;if(typeof b!="object")return b;if(o(b,s))T=new s;else if(o(b,a))T=new a;else if(o(b,l))T=new l(function(F,L){b.then(function(M){F(x(M,C-1))},function(M){L(x(M,C-1))})});else if(c.__isArray(b))T=[];else if(c.__isRegExp(b))T=new RegExp(b.source,w(b)),b.lastIndex&&(T.lastIndex=b.lastIndex);else if(c.__isDate(b))T=new Date(b.getTime());else{if(O&&Buffer.isBuffer(b))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(b.length):T=new Buffer(b.length),b.copy(T),T;o(b,Error)?T=Object.create(b):typeof g>"u"?(S=Object.getPrototypeOf(b),T=Object.create(S)):(T=Object.create(g),S=g)}if(E){var P=y.indexOf(b);if(P!=-1)return N[P];y.push(b),N.push(T)}o(b,s)&&b.forEach(function(F,L){var M=x(L,C-1),B=x(F,C-1);T.set(M,B)}),o(b,a)&&b.forEach(function(F){var L=x(F,C-1);T.add(L)});for(var A in b){var D;S&&(D=Object.getOwnPropertyDescriptor(S,A)),!(D&&D.set==null)&&(T[A]=x(b[A],C-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(b),A=0;A<U.length;A++){var z=U[A],W=Object.getOwnPropertyDescriptor(b,z);W&&!W.enumerable&&!_||(T[z]=x(b[z],C-1),W.enumerable||Object.defineProperty(T,z,{enumerable:!1}))}if(_)for(var K=Object.getOwnPropertyNames(b),A=0;A<K.length;A++){var $=K[A],W=Object.getOwnPropertyDescriptor(b,$);W&&W.enumerable||(T[$]=x(b[$],C-1),Object.defineProperty(T,$,{enumerable:!1}))}return T}return x(v,p)}c.clonePrototype=function(E){if(E===null)return null;var p=function(){};return p.prototype=E,new p};function d(v){return Object.prototype.toString.call(v)}c.__objToStr=d;function h(v){return typeof v=="object"&&d(v)==="[object Date]"}c.__isDate=h;function f(v){return typeof v=="object"&&d(v)==="[object Array]"}c.__isArray=f;function m(v){return typeof v=="object"&&d(v)==="[object RegExp]"}c.__isRegExp=m;function w(v){var E="";return v.global&&(E+="g"),v.ignoreCase&&(E+="i"),v.multiline&&(E+="m"),E}return c.__getRegExpFlags=w,c}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(S,P){var A=[],D=!0,U=!1,z=void 0;try{for(var W=S[Symbol.iterator](),K;!(D=(K=W.next()).done)&&(A.push(K.value),!(P&&A.length===P));D=!0);}catch($){U=!0,z=$}finally{try{!D&&W.return&&W.return()}finally{if(U)throw z}}return A}return function(S,P){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return T(S,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(S,P){for(var A=0;A<P.length;A++){var D=P[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,D.key,D)}}return function(S,P,A){return P&&T(S.prototype,P),A&&T(S,A),S}}(),a=function T(S,P,A){S===null&&(S=Function.prototype);var D=Object.getOwnPropertyDescriptor(S,P);if(D===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:T(U,P,A)}else{if("value"in D)return D.value;var z=D.get;return z===void 0?void 0:z.call(A)}},l=i(0),c=y(l),d=i(8),h=y(d),f=i(4),m=y(f),w=i(16),v=y(w),E=i(13),p=y(E),g=i(25),_=y(g);function y(T){return T&&T.__esModule?T:{default:T}}function N(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function O(T,S){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:T}function x(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}function b(T){return T instanceof m.default||T instanceof f.BlockEmbed}var C=function(T){x(S,T);function S(P,A){N(this,S);var D=O(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P));return D.emitter=A.emitter,Array.isArray(A.whitelist)&&(D.whitelist=A.whitelist.reduce(function(U,z){return U[z]=!0,U},{})),D.domNode.addEventListener("DOMNodeInserted",function(){}),D.optimize(),D.enable(),D}return s(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(A,D){var U=this.line(A),z=o(U,2),W=z[0],K=z[1],$=this.line(A+D),F=o($,1),L=F[0];if(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,A,D),L!=null&&W!==L&&K>0){if(W instanceof f.BlockEmbed||L instanceof f.BlockEmbed){this.optimize();return}if(W instanceof p.default){var M=W.newlineIndex(W.length(),!0);if(M>-1&&(W=W.split(M+1),W===L)){this.optimize();return}}else if(L instanceof p.default){var B=L.newlineIndex(0);B>-1&&L.split(B+1)}var G=L.children.head instanceof v.default?null:L.children.head;W.moveChildren(L,G),W.remove()}this.optimize()}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",A)}},{key:"formatAt",value:function(A,D,U,z){this.whitelist!=null&&!this.whitelist[U]||(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,A,D,U,z),this.optimize())}},{key:"insertAt",value:function(A,D,U){if(!(U!=null&&this.whitelist!=null&&!this.whitelist[D])){if(A>=this.length())if(U==null||c.default.query(D,c.default.Scope.BLOCK)==null){var z=c.default.create(this.statics.defaultChild);this.appendChild(z),U==null&&D.endsWith(`
`)&&(D=D.slice(0,-1)),z.insertAt(0,D,U)}else{var W=c.default.create(D,U);this.appendChild(W)}else a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,A,D,U);this.optimize()}}},{key:"insertBefore",value:function(A,D){if(A.statics.scope===c.default.Scope.INLINE_BLOT){var U=c.default.create(this.statics.defaultChild);U.appendChild(A),A=U}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,A,D)}},{key:"leaf",value:function(A){return this.path(A).pop()||[null,-1]}},{key:"line",value:function(A){return A===this.length()?this.line(A-1):this.descendant(b,A)}},{key:"lines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function z(W,K,$){var F=[],L=$;return W.children.forEachAt(K,$,function(M,B,G){b(M)?F.push(M):M instanceof c.default.Container&&(F=F.concat(z(M,B,L))),L-=G}),F};return U(this,A,D)}},{key:"optimize",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,A,D),A.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,A,D))}},{key:"path",value:function(A){return a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,A).slice(1)}},{key:"update",value:function(A){if(this.batch!==!0){var D=h.default.sources.USER;typeof A=="string"&&(D=A),Array.isArray(A)||(A=this.observer.takeRecords()),A.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,D,A),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,A.concat([])),A.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,D,A)}}}]),S}(c.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[m.default,f.BlockEmbed,_.default],r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},s=function(){function V(q,X){var J=[],ie=!0,ce=!1,me=void 0;try{for(var ve=q[Symbol.iterator](),Se;!(ie=(Se=ve.next()).done)&&(J.push(Se.value),!(X&&J.length===X));ie=!0);}catch(Re){ce=!0,me=Re}finally{try{!ie&&ve.return&&ve.return()}finally{if(ce)throw me}}return J}return function(q,X){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return V(q,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function V(q,X){for(var J=0;J<X.length;J++){var ie=X[J];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(q,ie.key,ie)}}return function(q,X,J){return X&&V(q.prototype,X),J&&V(q,J),q}}(),l=i(21),c=T(l),d=i(11),h=T(d),f=i(3),m=T(f),w=i(2),v=T(w),E=i(20),p=T(E),g=i(0),_=T(g),y=i(5),N=T(y),O=i(10),x=T(O),b=i(9),C=T(b);function T(V){return V&&V.__esModule?V:{default:V}}function S(V,q,X){return q in V?Object.defineProperty(V,q,{value:X,enumerable:!0,configurable:!0,writable:!0}):V[q]=X,V}function P(V,q){if(!(V instanceof q))throw new TypeError("Cannot call a class as a function")}function A(V,q){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:V}function D(V,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);V.prototype=Object.create(q&&q.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(V,q):V.__proto__=q)}var U=(0,x.default)("quill:keyboard"),z=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",W=function(V){D(q,V),a(q,null,[{key:"match",value:function(J,ie){return ie=H(ie),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ce){return!!ie[ce]!==J[ce]&&ie[ce]!==null})?!1:ie.key===(J.which||J.keyCode)}}]);function q(X,J){P(this,q);var ie=A(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,X,J));return ie.bindings={},Object.keys(ie.options.bindings).forEach(function(ce){ce==="list autofill"&&X.scroll.whitelist!=null&&!X.scroll.whitelist.list||ie.options.bindings[ce]&&ie.addBinding(ie.options.bindings[ce])}),ie.addBinding({key:q.keys.ENTER,shiftKey:null},M),ie.addBinding({key:q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ie.addBinding({key:q.keys.BACKSPACE},{collapsed:!0},$),ie.addBinding({key:q.keys.DELETE},{collapsed:!0},F)):(ie.addBinding({key:q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},$),ie.addBinding({key:q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),ie.addBinding({key:q.keys.BACKSPACE},{collapsed:!1},L),ie.addBinding({key:q.keys.DELETE},{collapsed:!1},L),ie.addBinding({key:q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},$),ie.listen(),ie}return a(q,[{key:"addBinding",value:function(J){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},me=H(J);if(me==null||me.key==null)return U.warn("Attempted to add invalid keyboard binding",me);typeof ie=="function"&&(ie={handler:ie}),typeof ce=="function"&&(ce={handler:ce}),me=(0,m.default)(me,ie,ce),this.bindings[me.key]=this.bindings[me.key]||[],this.bindings[me.key].push(me)}},{key:"listen",value:function(){var J=this;this.quill.root.addEventListener("keydown",function(ie){if(!ie.defaultPrevented){var ce=ie.which||ie.keyCode,me=(J.bindings[ce]||[]).filter(function(Ge){return q.match(ie,Ge)});if(me.length!==0){var ve=J.quill.getSelection();if(!(ve==null||!J.quill.hasFocus())){var Se=J.quill.getLine(ve.index),Re=s(Se,2),gt=Re[0],tt=Re[1],ee=J.quill.getLeaf(ve.index),te=s(ee,2),le=te[0],ue=te[1],oe=ve.length===0?[le,ue]:J.quill.getLeaf(ve.index+ve.length),Ee=s(oe,2),be=Ee[0],Te=Ee[1],De=le instanceof _.default.Text?le.value().slice(0,ue):"",Be=be instanceof _.default.Text?be.value().slice(Te):"",Ve={collapsed:ve.length===0,empty:ve.length===0&&gt.length()<=1,format:J.quill.getFormat(ve),offset:tt,prefix:De,suffix:Be},Da=me.some(function(Ge){if(Ge.collapsed!=null&&Ge.collapsed!==Ve.collapsed||Ge.empty!=null&&Ge.empty!==Ve.empty||Ge.offset!=null&&Ge.offset!==Ve.offset)return!1;if(Array.isArray(Ge.format)){if(Ge.format.every(function(Sn){return Ve.format[Sn]==null}))return!1}else if(o(Ge.format)==="object"&&!Object.keys(Ge.format).every(function(Sn){return Ge.format[Sn]===!0?Ve.format[Sn]!=null:Ge.format[Sn]===!1?Ve.format[Sn]==null:(0,h.default)(Ge.format[Sn],Ve.format[Sn])}))return!1;return Ge.prefix!=null&&!Ge.prefix.test(Ve.prefix)||Ge.suffix!=null&&!Ge.suffix.test(Ve.suffix)?!1:Ge.handler.call(J,ve,Ve)!==!0});Da&&ie.preventDefault()}}}})}}]),q}(C.default);W.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},W.DEFAULTS={bindings:{bold:G("bold"),italic:G("italic"),underline:G("underline"),indent:{key:W.keys.TAB,format:["blockquote","indent","list"],handler:function(q,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","+1",N.default.sources.USER)}},outdent:{key:W.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(q,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","-1",N.default.sources.USER)}},"outdent backspace":{key:W.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(q,X){X.format.indent!=null?this.quill.format("indent","-1",N.default.sources.USER):X.format.list!=null&&this.quill.format("list",!1,N.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:W.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(q){this.quill.deleteText(q.index-1,1,N.default.sources.USER)}},tab:{key:W.keys.TAB,handler:function(q){this.quill.history.cutoff();var X=new v.default().retain(q.index).delete(q.length).insert("	");this.quill.updateContents(X,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index+1,N.default.sources.SILENT)}},"list empty enter":{key:W.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(q,X){this.quill.format("list",!1,N.default.sources.USER),X.format.indent&&this.quill.format("indent",!1,N.default.sources.USER)}},"checklist enter":{key:W.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(q){var X=this.quill.getLine(q.index),J=s(X,2),ie=J[0],ce=J[1],me=(0,m.default)({},ie.formats(),{list:"checked"}),ve=new v.default().retain(q.index).insert(`
`,me).retain(ie.length()-ce-1).retain(1,{list:"unchecked"});this.quill.updateContents(ve,N.default.sources.USER),this.quill.setSelection(q.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:W.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(q,X){var J=this.quill.getLine(q.index),ie=s(J,2),ce=ie[0],me=ie[1],ve=new v.default().retain(q.index).insert(`
`,X.format).retain(ce.length()-me-1).retain(1,{header:null});this.quill.updateContents(ve,N.default.sources.USER),this.quill.setSelection(q.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(q,X){var J=X.prefix.length,ie=this.quill.getLine(q.index),ce=s(ie,2),me=ce[0],ve=ce[1];if(ve>J)return!0;var Se=void 0;switch(X.prefix.trim()){case"[]":case"[ ]":Se="unchecked";break;case"[x]":Se="checked";break;case"-":case"*":Se="bullet";break;default:Se="ordered"}this.quill.insertText(q.index," ",N.default.sources.USER),this.quill.history.cutoff();var Re=new v.default().retain(q.index-ve).delete(J+1).retain(me.length()-2-ve).retain(1,{list:Se});this.quill.updateContents(Re,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index-J,N.default.sources.SILENT)}},"code exit":{key:W.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(q){var X=this.quill.getLine(q.index),J=s(X,2),ie=J[0],ce=J[1],me=new v.default().retain(q.index+ie.length()-ce-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(me,N.default.sources.USER)}},"embed left":K(W.keys.LEFT,!1),"embed left shift":K(W.keys.LEFT,!0),"embed right":K(W.keys.RIGHT,!1),"embed right shift":K(W.keys.RIGHT,!0)}};function K(V,q){var X,J=V===W.keys.LEFT?"prefix":"suffix";return X={key:V,shiftKey:q,altKey:null},S(X,J,/^$/),S(X,"handler",function(ce){var me=ce.index;V===W.keys.RIGHT&&(me+=ce.length+1);var ve=this.quill.getLeaf(me),Se=s(ve,1),Re=Se[0];return Re instanceof _.default.Embed?(V===W.keys.LEFT?q?this.quill.setSelection(ce.index-1,ce.length+1,N.default.sources.USER):this.quill.setSelection(ce.index-1,N.default.sources.USER):q?this.quill.setSelection(ce.index,ce.length+1,N.default.sources.USER):this.quill.setSelection(ce.index+ce.length+1,N.default.sources.USER),!1):!0}),X}function $(V,q){if(!(V.index===0||this.quill.getLength()<=1)){var X=this.quill.getLine(V.index),J=s(X,1),ie=J[0],ce={};if(q.offset===0){var me=this.quill.getLine(V.index-1),ve=s(me,1),Se=ve[0];if(Se!=null&&Se.length()>1){var Re=ie.formats(),gt=this.quill.getFormat(V.index-1,1);ce=p.default.attributes.diff(Re,gt)||{}}}var tt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(q.prefix)?2:1;this.quill.deleteText(V.index-tt,tt,N.default.sources.USER),Object.keys(ce).length>0&&this.quill.formatLine(V.index-tt,tt,ce,N.default.sources.USER),this.quill.focus()}}function F(V,q){var X=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(q.suffix)?2:1;if(!(V.index>=this.quill.getLength()-X)){var J={},ie=0,ce=this.quill.getLine(V.index),me=s(ce,1),ve=me[0];if(q.offset>=ve.length()-1){var Se=this.quill.getLine(V.index+1),Re=s(Se,1),gt=Re[0];if(gt){var tt=ve.formats(),ee=this.quill.getFormat(V.index,1);J=p.default.attributes.diff(tt,ee)||{},ie=gt.length()}}this.quill.deleteText(V.index,X,N.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(V.index+ie-1,X,J,N.default.sources.USER)}}function L(V){var q=this.quill.getLines(V),X={};if(q.length>1){var J=q[0].formats(),ie=q[q.length-1].formats();X=p.default.attributes.diff(ie,J)||{}}this.quill.deleteText(V,N.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(V.index,1,X,N.default.sources.USER),this.quill.setSelection(V.index,N.default.sources.SILENT),this.quill.focus()}function M(V,q){var X=this;V.length>0&&this.quill.scroll.deleteAt(V.index,V.length);var J=Object.keys(q.format).reduce(function(ie,ce){return _.default.query(ce,_.default.Scope.BLOCK)&&!Array.isArray(q.format[ce])&&(ie[ce]=q.format[ce]),ie},{});this.quill.insertText(V.index,`
`,J,N.default.sources.USER),this.quill.setSelection(V.index+1,N.default.sources.SILENT),this.quill.focus(),Object.keys(q.format).forEach(function(ie){J[ie]==null&&(Array.isArray(q.format[ie])||ie!=="link"&&X.quill.format(ie,q.format[ie],N.default.sources.USER))})}function B(V){return{key:W.keys.TAB,shiftKey:!V,format:{"code-block":!0},handler:function(X){var J=_.default.query("code-block"),ie=X.index,ce=X.length,me=this.quill.scroll.descendant(J,ie),ve=s(me,2),Se=ve[0],Re=ve[1];if(Se!=null){var gt=this.quill.getIndex(Se),tt=Se.newlineIndex(Re,!0)+1,ee=Se.newlineIndex(gt+Re+ce),te=Se.domNode.textContent.slice(tt,ee).split(`
`);Re=0,te.forEach(function(le,ue){V?(Se.insertAt(tt+Re,J.TAB),Re+=J.TAB.length,ue===0?ie+=J.TAB.length:ce+=J.TAB.length):le.startsWith(J.TAB)&&(Se.deleteAt(tt+Re,J.TAB.length),Re-=J.TAB.length,ue===0?ie-=J.TAB.length:ce-=J.TAB.length),Re+=le.length+1}),this.quill.update(N.default.sources.USER),this.quill.setSelection(ie,ce,N.default.sources.SILENT)}}}}function G(V){return{key:V[0].toUpperCase(),shortKey:!0,handler:function(X,J){this.quill.format(V,!J.format[V],N.default.sources.USER)}}}function H(V){if(typeof V=="string"||typeof V=="number")return H({key:V});if((typeof V>"u"?"undefined":o(V))==="object"&&(V=(0,c.default)(V,!1)),typeof V.key=="string")if(W.keys[V.key.toUpperCase()]!=null)V.key=W.keys[V.key.toUpperCase()];else if(V.key.length===1)V.key=V.key.toUpperCase().charCodeAt(0);else return null;return V.shortKey&&(V[z]=V.shortKey,delete V.shortKey),V}r.default=W,r.SHORTKEY=z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(g,_){var y=[],N=!0,O=!1,x=void 0;try{for(var b=g[Symbol.iterator](),C;!(N=(C=b.next()).done)&&(y.push(C.value),!(_&&y.length===_));N=!0);}catch(T){O=!0,x=T}finally{try{!N&&b.return&&b.return()}finally{if(O)throw x}}return y}return function(g,_){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return p(g,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function p(g,_,y){g===null&&(g=Function.prototype);var N=Object.getOwnPropertyDescriptor(g,_);if(N===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:p(O,_,y)}else{if("value"in N)return N.value;var x=N.get;return x===void 0?void 0:x.call(y)}},a=function(){function p(g,_){for(var y=0;y<_.length;y++){var N=_[y];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(g,N.key,N)}}return function(g,_,y){return _&&p(g.prototype,_),y&&p(g,y),g}}(),l=i(0),c=f(l),d=i(7),h=f(d);function f(p){return p&&p.__esModule?p:{default:p}}function m(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function w(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function v(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var E=function(p){v(g,p),a(g,null,[{key:"value",value:function(){}}]);function g(_,y){m(this,g);var N=w(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_));return N.selection=y,N.textNode=document.createTextNode(g.CONTENTS),N.domNode.appendChild(N.textNode),N._length=0,N}return a(g,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,N){if(this._length!==0)return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,y,N);for(var O=this,x=0;O!=null&&O.statics.scope!==c.default.Scope.BLOCK_BLOT;)x+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=g.CONTENTS.length,O.optimize(),O.formatAt(x,g.CONTENTS.length,y,N),this._length=0)}},{key:"index",value:function(y,N){return y===this.textNode?0:s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,y,N)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,N=this.selection.getNativeRange(),O=void 0,x=void 0,b=void 0;if(N!=null&&N.start.node===y&&N.end.node===y){var C=[y,N.start.offset,N.end.offset];O=C[0],x=C[1],b=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==g.CONTENTS){var T=this.textNode.data.split(g.CONTENTS).join("");this.next instanceof h.default?(O=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=g.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(g.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),x!=null){var S=[x,b].map(function(A){return Math.max(0,Math.min(O.data.length,A-1))}),P=o(S,2);return x=P[0],b=P[1],{startNode:O,startOffset:x,endNode:O,endOffset:b}}}}},{key:"update",value:function(y,N){var O=this;if(y.some(function(b){return b.type==="characterData"&&b.target===O.textNode})){var x=this.restore();x&&(N.range=x)}}},{key:"value",value:function(){return""}}]),g}(c.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\uFEFF",r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=c(o),a=i(4),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function d(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function f(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var m=function(w){f(v,w);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(s.default.Container);m.allowedChildren=[l.default,a.BlockEmbed,m],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function E(p,g){for(var _=0;_<g.length;_++){var y=g[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,_){return g&&E(p.prototype,g),_&&E(p,_),p}}(),s=function E(p,g,_){p===null&&(p=Function.prototype);var y=Object.getOwnPropertyDescriptor(p,g);if(y===void 0){var N=Object.getPrototypeOf(p);return N===null?void 0:E(N,g,_)}else{if("value"in y)return y.value;var O=y.get;return O===void 0?void 0:O.call(_)}},a=i(0),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function d(E,p){if(!(E instanceof p))throw new TypeError("Cannot call a class as a function")}function h(E,p){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:E}function f(E,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);E.prototype=Object.create(p&&p.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(E,p):E.__proto__=p)}var m=function(E){f(p,E);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(_){var y=s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,_);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(N){return("00"+parseInt(N).toString(16)).slice(-2)}).join("")):y}}]),p}(l.default.Attributor.Style),w=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),v=new m("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=m,r.ColorClass=w,r.ColorStyle=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function v(E,p){for(var g=0;g<p.length;g++){var _=p[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(E,_.key,_)}}return function(E,p,g){return p&&v(E.prototype,p),g&&v(E,g),E}}(),s=function v(E,p,g){E===null&&(E=Function.prototype);var _=Object.getOwnPropertyDescriptor(E,p);if(_===void 0){var y=Object.getPrototypeOf(E);return y===null?void 0:v(y,p,g)}else{if("value"in _)return _.value;var N=_.get;return N===void 0?void 0:N.call(g)}},a=i(6),l=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function h(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function f(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}var m=function(v){f(E,v);function E(){return d(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"format",value:function(g,_){if(g!==this.statics.blotName||!_)return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,g,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(g){var _=s(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,g);return g=this.sanitize(g),_.setAttribute("href",g),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(g){return g.getAttribute("href")}},{key:"sanitize",value:function(g){return w(g,this.PROTOCOL_WHITELIST)?g:this.SANITIZED_URL}}]),E}(l.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function w(v,E){var p=document.createElement("a");p.href=v;var g=p.href.slice(0,p.href.indexOf(":"));return E.indexOf(g)>-1}r.default=m,r.sanitize=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s=function(){function E(p,g){for(var _=0;_<g.length;_++){var y=g[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,_){return g&&E(p.prototype,g),_&&E(p,_),p}}(),a=i(23),l=h(a),c=i(107),d=h(c);function h(E){return E&&E.__esModule?E:{default:E}}function f(E,p){if(!(E instanceof p))throw new TypeError("Cannot call a class as a function")}var m=0;function w(E,p){E.setAttribute(p,E.getAttribute(p)!=="true")}var v=function(){function E(p){var g=this;f(this,E),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){g.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:g.togglePicker();break;case l.default.keys.ESCAPE:g.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),w(this.label,"aria-expanded"),w(this.options,"aria-hidden")}},{key:"buildItem",value:function(g){var _=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),g.hasAttribute("value")&&y.setAttribute("data-value",g.getAttribute("value")),g.textContent&&y.setAttribute("data-label",g.textContent),y.addEventListener("click",function(){_.selectItem(y,!0)}),y.addEventListener("keydown",function(N){switch(N.keyCode){case l.default.keys.ENTER:_.selectItem(y,!0),N.preventDefault();break;case l.default.keys.ESCAPE:_.escape(),N.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var g=document.createElement("span");return g.classList.add("ql-picker-label"),g.innerHTML=d.default,g.tabIndex="0",g.setAttribute("role","button"),g.setAttribute("aria-expanded","false"),this.container.appendChild(g),g}},{key:"buildOptions",value:function(){var g=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(y){var N=g.buildItem(y);_.appendChild(N),y.selected===!0&&g.selectItem(N)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var g=this;[].slice.call(this.select.attributes).forEach(function(_){g.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var g=this;this.close(),setTimeout(function(){return g.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(g!==y&&(y!=null&&y.classList.remove("ql-selected"),g!=null&&(g.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(g.parentNode.children,g),g.hasAttribute("data-value")?this.label.setAttribute("data-value",g.getAttribute("data-value")):this.label.removeAttribute("data-value"),g.hasAttribute("data-label")?this.label.setAttribute("data-label",g.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var N=document.createEvent("Event");N.initEvent("change",!0,!0),this.select.dispatchEvent(N)}this.close()}}},{key:"update",value:function(){var g=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];g=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var y=g!=null&&g!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),E}();r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=U(o),a=i(5),l=U(a),c=i(4),d=U(c),h=i(16),f=U(h),m=i(25),w=U(m),v=i(24),E=U(v),p=i(35),g=U(p),_=i(6),y=U(_),N=i(22),O=U(N),x=i(7),b=U(x),C=i(55),T=U(C),S=i(42),P=U(S),A=i(23),D=U(A);function U(z){return z&&z.__esModule?z:{default:z}}l.default.register({"blots/block":d.default,"blots/block/embed":c.BlockEmbed,"blots/break":f.default,"blots/container":w.default,"blots/cursor":E.default,"blots/embed":g.default,"blots/inline":y.default,"blots/scroll":O.default,"blots/text":b.default,"modules/clipboard":T.default,"modules/history":P.default,"modules/keyboard":D.default}),s.default.register(d.default,f.default,E.default,y.default,O.default,b.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,c){var d=this.isolate(l,c);d.remove()},a.prototype.formatAt=function(l,c,d,h){var f=this.isolate(l,c);if(o.query(d,o.Scope.BLOT)!=null&&h)f.wrap(d,h);else if(o.query(d,o.Scope.ATTRIBUTE)!=null){var m=o.create(this.statics.scope);f.wrap(m),m.format(d,h)}},a.prototype.insertAt=function(l,c,d){var h=d==null?o.create("text",c):o.create(c,d),f=this.split(l);this.parent.insertBefore(h,f)},a.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var d=null;l.children.insertBefore(this,c),c!=null&&(d=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=d)&&l.domNode.insertBefore(this.domNode,d),this.parent=l,this.attach()},a.prototype.isolate=function(l,c){var d=this.split(l);return d.split(c),d},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,c){var d=typeof l=="string"?o.create(l,c):l;return d.replace(this),d},a.prototype.split=function(l,c){return l===0?this:this.next},a.prototype.update=function(l,c){},a.prototype.wrap=function(l,c){var d=typeof l=="string"?o.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),c=function(){function d(h){this.attributes={},this.domNode=h,this.build()}return d.prototype.attribute=function(h,f){f?h.add(this.domNode,f)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},d.prototype.build=function(){var h=this;this.attributes={};var f=o.default.keys(this.domNode),m=s.default.keys(this.domNode),w=a.default.keys(this.domNode);f.concat(m).concat(w).forEach(function(v){var E=l.query(v,l.Scope.ATTRIBUTE);E instanceof o.default&&(h.attributes[E.attrName]=E)})},d.prototype.copy=function(h){var f=this;Object.keys(this.attributes).forEach(function(m){var w=f.attributes[m].value(f.domNode);h.format(m,w)})},d.prototype.move=function(h){var f=this;this.copy(h),Object.keys(this.attributes).forEach(function(m){f.attributes[m].remove(f.domNode)}),this.attributes={}},d.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(f,m){return f[m]=h.attributes[m].value(h.domNode),f},{})},d}();r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(c,d){var h=c.getAttribute("class")||"";return h.split(/\s+/).filter(function(f){return f.indexOf(d+"-")===0})}var l=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},d.prototype.add=function(h,f){return this.canAdd(h,f)?(this.remove(h),h.classList.add(this.keyName+"-"+f),!0):!1},d.prototype.remove=function(h){var f=a(h,this.keyName);f.forEach(function(m){h.classList.remove(m)}),h.classList.length===0&&h.removeAttribute("class")},d.prototype.value=function(h){var f=a(h,this.keyName)[0]||"",m=f.slice(this.keyName.length+1);return this.canAdd(h,m)?m:""},d}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(c){var d=c.split("-"),h=d.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return d[0]+h}var l=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(f){var m=f.split(":");return m[0].trim()})},d.prototype.add=function(h,f){return this.canAdd(h,f)?(h.style[a(this.keyName)]=f,!0):!1},d.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},d.prototype.value=function(h){var f=h.style[a(this.keyName)];return this.canAdd(h,f)?f:""},d}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(c,d){for(var h=0;h<d.length;h++){var f=d[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,d){s(this,l),this.quill=c,this.options=d,this.modules={}}return o(l,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(h){d.modules[h]==null&&d.addModule(h)})}},{key:"addModule",value:function(d){var h=this.quill.constructor.import("modules/"+d);return this.modules[d]=new h(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(g,_){for(var y=0;y<_.length;y++){var N=_[y];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(g,N.key,N)}}return function(g,_,y){return _&&p(g.prototype,_),y&&p(g,y),g}}(),s=function p(g,_,y){g===null&&(g=Function.prototype);var N=Object.getOwnPropertyDescriptor(g,_);if(N===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:p(O,_,y)}else{if("value"in N)return N.value;var x=N.get;return x===void 0?void 0:x.call(y)}},a=i(0),l=h(a),c=i(7),d=h(c);function h(p){return p&&p.__esModule?p:{default:p}}function f(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function m(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function w(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var v="\uFEFF",E=function(p){w(g,p);function g(_){f(this,g);var y=m(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(N){y.contentNode.appendChild(N)}),y.leftGuard=document.createTextNode(v),y.rightGuard=document.createTextNode(v),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return o(g,[{key:"index",value:function(y,N){return y===this.leftGuard?0:y===this.rightGuard?1:s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,y,N)}},{key:"restore",value:function(y){var N=void 0,O=void 0,x=y.data.split(v).join("");if(y===this.leftGuard)if(this.prev instanceof d.default){var b=this.prev.length();this.prev.insertAt(b,x),N={startNode:this.prev.domNode,startOffset:b+x.length}}else O=document.createTextNode(x),this.parent.insertBefore(l.default.create(O),this),N={startNode:O,startOffset:x.length};else y===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,x),N={startNode:this.next.domNode,startOffset:x.length}):(O=document.createTextNode(x),this.parent.insertBefore(l.default.create(O),this.next),N={startNode:O,startOffset:x.length}));return y.data=v,N}},{key:"update",value:function(y,N){var O=this;y.forEach(function(x){if(x.type==="characterData"&&(x.target===O.leftGuard||x.target===O.rightGuard)){var b=O.restore(x.target);b&&(N.range=b)}})}}]),g}(l.default.Embed);r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new s.default.Attributor.Attribute("align","align",l),d=new s.default.Attributor.Class("align","ql-align",l),h=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=d,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var c=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),d=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},c=new s.default.Attributor.Attribute("direction","dir",l),d=new s.default.Attributor.Class("direction","ql-direction",l),h=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=d,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function p(g,_){for(var y=0;y<_.length;y++){var N=_[y];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(g,N.key,N)}}return function(g,_,y){return _&&p(g.prototype,_),y&&p(g,y),g}}(),s=function p(g,_,y){g===null&&(g=Function.prototype);var N=Object.getOwnPropertyDescriptor(g,_);if(N===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:p(O,_,y)}else{if("value"in N)return N.value;var x=N.get;return x===void 0?void 0:x.call(y)}},a=i(0),l=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function d(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function h(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function f(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},w=new l.default.Attributor.Class("font","ql-font",m),v=function(p){f(g,p);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(y){return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),g}(l.default.Attributor.Style),E=new v("font","font-family",m);r.FontStyle=E,r.FontClass=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function _(y,N){for(var O=0;O<N.length;O++){var x=N[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,N,O){return N&&_(y.prototype,N),O&&_(y,O),y}}(),s=i(0),a=f(s),l=i(5),c=f(l),d=i(9),h=f(d);function f(_){return _&&_.__esModule?_:{default:_}}function m(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function w(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function v(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var E=function(_){v(y,_);function y(N,O){m(this,y);var x=w(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,N,O));return x.lastRecorded=0,x.ignoreChange=!1,x.clear(),x.quill.on(c.default.events.EDITOR_CHANGE,function(b,C,T,S){b!==c.default.events.TEXT_CHANGE||x.ignoreChange||(!x.options.userOnly||S===c.default.sources.USER?x.record(C,T):x.transform(C))}),x.quill.keyboard.addBinding({key:"Z",shortKey:!0},x.undo.bind(x)),x.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},x.redo.bind(x)),/Win/i.test(navigator.platform)&&x.quill.keyboard.addBinding({key:"Y",shortKey:!0},x.redo.bind(x)),x}return o(y,[{key:"change",value:function(O,x){if(this.stack[O].length!==0){var b=this.stack[O].pop();this.stack[x].push(b),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(b[O],c.default.sources.USER),this.ignoreChange=!1;var C=g(b[O]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,x){if(O.ops.length!==0){this.stack.redo=[];var b=this.quill.getContents().diff(x),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var T=this.stack.undo.pop();b=b.compose(T.undo),O=T.redo.compose(O)}else this.lastRecorded=C;this.stack.undo.push({redo:O,undo:b}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(x){x.undo=O.transform(x.undo,!0),x.redo=O.transform(x.redo,!0)}),this.stack.redo.forEach(function(x){x.undo=O.transform(x.undo,!0),x.redo=O.transform(x.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(h.default);E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(_){var y=_.ops[_.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(N){return a.default.query(N,a.default.Scope.BLOCK)!=null}):!1}function g(_){var y=_.reduce(function(O,x){return O+=x.delete||0,O},0),N=_.length()-y;return p(_)&&(N-=1),N}r.default=E,r.getLastChangeIndex=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function M(B,G){for(var H=0;H<G.length;H++){var V=G[H];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(B,V.key,V)}}return function(B,G,H){return G&&M(B.prototype,G),H&&M(B,H),B}}(),s=function M(B,G,H){B===null&&(B=Function.prototype);var V=Object.getOwnPropertyDescriptor(B,G);if(V===void 0){var q=Object.getPrototypeOf(B);return q===null?void 0:M(q,G,H)}else{if("value"in V)return V.value;var X=V.get;return X===void 0?void 0:X.call(H)}},a=i(3),l=C(a),c=i(2),d=C(c),h=i(8),f=C(h),m=i(23),w=C(m),v=i(34),E=C(v),p=i(59),g=C(p),_=i(60),y=C(_),N=i(28),O=C(N),x=i(61),b=C(x);function C(M){return M&&M.__esModule?M:{default:M}}function T(M,B){if(!(M instanceof B))throw new TypeError("Cannot call a class as a function")}function S(M,B){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:M}function P(M,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);M.prototype=Object.create(B&&B.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(M,B):M.__proto__=B)}var A=[!1,"center","right","justify"],D=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],U=[!1,"serif","monospace"],z=["1","2","3",!1],W=["small",!1,"large","huge"],K=function(M){P(B,M);function B(G,H){T(this,B);var V=S(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,G,H)),q=function X(J){if(!document.body.contains(G.root))return document.body.removeEventListener("click",X);V.tooltip!=null&&!V.tooltip.root.contains(J.target)&&document.activeElement!==V.tooltip.textbox&&!V.quill.hasFocus()&&V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(ie){ie.container.contains(J.target)||ie.close()})};return G.emitter.listenDOM("click",document.body,q),V}return o(B,[{key:"addModule",value:function(H){var V=s(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,H);return H==="toolbar"&&this.extendToolbar(V),V}},{key:"buildButtons",value:function(H,V){H.forEach(function(q){var X=q.getAttribute("class")||"";X.split(/\s+/).forEach(function(J){if(J.startsWith("ql-")&&(J=J.slice(3),V[J]!=null))if(J==="direction")q.innerHTML=V[J][""]+V[J].rtl;else if(typeof V[J]=="string")q.innerHTML=V[J];else{var ie=q.value||"";ie!=null&&V[J][ie]&&(q.innerHTML=V[J][ie])}})})}},{key:"buildPickers",value:function(H,V){var q=this;this.pickers=H.map(function(J){if(J.classList.contains("ql-align"))return J.querySelector("option")==null&&L(J,A),new y.default(J,V.align);if(J.classList.contains("ql-background")||J.classList.contains("ql-color")){var ie=J.classList.contains("ql-background")?"background":"color";return J.querySelector("option")==null&&L(J,D,ie==="background"?"#ffffff":"#000000"),new g.default(J,V[ie])}else return J.querySelector("option")==null&&(J.classList.contains("ql-font")?L(J,U):J.classList.contains("ql-header")?L(J,z):J.classList.contains("ql-size")&&L(J,W)),new O.default(J)});var X=function(){q.pickers.forEach(function(ie){ie.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,X)}}]),B}(E.default);K.DEFAULTS=(0,l.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,G=this.container.querySelector("input.ql-image[type=file]");G==null&&(G=document.createElement("input"),G.setAttribute("type","file"),G.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),G.classList.add("ql-image"),G.addEventListener("change",function(){if(G.files!=null&&G.files[0]!=null){var H=new FileReader;H.onload=function(V){var q=B.quill.getSelection(!0);B.quill.updateContents(new d.default().retain(q.index).delete(q.length).insert({image:V.target.result}),f.default.sources.USER),B.quill.setSelection(q.index+1,f.default.sources.SILENT),G.value=""},H.readAsDataURL(G.files[0])}}),this.container.appendChild(G)),G.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var $=function(M){P(B,M);function B(G,H){T(this,B);var V=S(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,G,H));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return o(B,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(V){w.default.match(V,"enter")?(H.save(),V.preventDefault()):w.default.match(V,"escape")&&(H.cancel(),V.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),V!=null?this.textbox.value=V:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var V=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,f.default.sources.USER)),this.quill.root.scrollTop=V;break}case"video":H=F(H);case"formula":{if(!H)break;var q=this.quill.getSelection(!0);if(q!=null){var X=q.index+q.length;this.quill.insertEmbed(X,this.root.getAttribute("data-mode"),H,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(X+1," ",f.default.sources.USER),this.quill.setSelection(X+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(b.default);function F(M){var B=M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=M.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":M}function L(M,B){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(H){var V=document.createElement("option");H===G?V.setAttribute("selected","selected"):V.setAttribute("value",H),M.appendChild(V)})}r.BaseTooltip=$,r.default=K},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,c=this.iterator();l=c();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,c=this.head;c!=null;){if(c===a)return l;l+=c.length(),c=c.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var c,d=this.iterator();c=d();){var h=c.length();if(a<h||l&&a===h&&(c.next==null||c.next.length()!==0))return[c,a];a-=h}return[null,0]},s.prototype.forEach=function(a){for(var l,c=this.iterator();l=c();)a(l)},s.prototype.forEachAt=function(a,l,c){if(!(l<=0))for(var d=this.find(a),h=d[0],f=d[1],m,w=a-f,v=this.iterator(h);(m=v())&&w<a+l;){var E=m.length();a>w?c(m,a-w,Math.min(l,w+E-a)):c(m,0,Math.min(E,a+l-w)),w+=E}},s.prototype.map=function(a){return this.reduce(function(l,c){return l.push(a(c)),l},[])},s.prototype.reduce=function(a,l){for(var c,d=this.iterator();c=d();)l=a(l,c);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var w in m)m.hasOwnProperty(w)&&(f[w]=m[w])};return function(f,m){h(f,m);function w(){this.constructor=f}f.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,d=function(h){o(f,h);function f(m){var w=h.call(this,m)||this;return w.scroll=w,w.observer=new MutationObserver(function(v){w.update(v)}),w.observer.observe(w.domNode,l),w.attach(),w}return f.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(m,w){this.update(),m===0&&w===this.length()?this.children.forEach(function(v){v.remove()}):h.prototype.deleteAt.call(this,m,w)},f.prototype.formatAt=function(m,w,v,E){this.update(),h.prototype.formatAt.call(this,m,w,v,E)},f.prototype.insertAt=function(m,w,v){this.update(),h.prototype.insertAt.call(this,m,w,v)},f.prototype.optimize=function(m,w){var v=this;m===void 0&&(m=[]),w===void 0&&(w={}),h.prototype.optimize.call(this,w);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)m.push(E.pop());for(var p=function(N,O){O===void 0&&(O=!0),!(N==null||N===v)&&N.domNode.parentNode!=null&&(N.domNode[a.DATA_KEY].mutations==null&&(N.domNode[a.DATA_KEY].mutations=[]),O&&p(N.parent))},g=function(N){N.domNode[a.DATA_KEY]==null||N.domNode[a.DATA_KEY].mutations==null||(N instanceof s.default&&N.children.forEach(g),N.optimize(w))},_=m,y=0;_.length>0;y+=1){if(y>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(N){var O=a.find(N.target,!0);O!=null&&(O.domNode===N.target&&(N.type==="childList"?(p(a.find(N.previousSibling,!1)),[].forEach.call(N.addedNodes,function(x){var b=a.find(x,!1);p(b,!1),b instanceof s.default&&b.children.forEach(function(C){p(C,!1)})})):N.type==="attributes"&&p(O.prev)),p(O))}),this.children.forEach(g),_=[].slice.call(this.observer.takeRecords()),E=_.slice();E.length>0;)m.push(E.pop())}},f.prototype.update=function(m,w){var v=this;w===void 0&&(w={}),m=m||this.observer.takeRecords(),m.map(function(E){var p=a.find(E.target,!0);return p==null?null:p.domNode[a.DATA_KEY].mutations==null?(p.domNode[a.DATA_KEY].mutations=[E],p):(p.domNode[a.DATA_KEY].mutations.push(E),null)}).forEach(function(E){E==null||E===v||E.domNode[a.DATA_KEY]==null||E.update(E.domNode[a.DATA_KEY].mutations||[],w)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,w),this.optimize(m,w)},f.blotName="scroll",f.defaultChild="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="DIV",f}(s.default);r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var m in f)f.hasOwnProperty(m)&&(h[m]=f[m])};return function(h,f){d(h,f);function m(){this.constructor=h}h.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(d,h){if(Object.keys(d).length!==Object.keys(h).length)return!1;for(var f in d)if(d[f]!==h[f])return!1;return!0}var c=function(d){o(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.formats=function(f){if(f.tagName!==h.tagName)return d.formats.call(this,f)},h.prototype.format=function(f,m){var w=this;f===this.statics.blotName&&!m?(this.children.forEach(function(v){v instanceof s.default||(v=v.wrap(h.blotName,!0)),w.attributes.copy(v)}),this.unwrap()):d.prototype.format.call(this,f,m)},h.prototype.formatAt=function(f,m,w,v){if(this.formats()[w]!=null||a.query(w,a.Scope.ATTRIBUTE)){var E=this.isolate(f,m);E.format(w,v)}else d.prototype.formatAt.call(this,f,m,w,v)},h.prototype.optimize=function(f){d.prototype.optimize.call(this,f);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var w=this.next;w instanceof h&&w.prev===this&&l(m,w.formats())&&(w.moveChildren(this),w.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(h){var f=a.query(d.blotName).tagName;if(h.tagName!==f)return c.formats.call(this,h)},d.prototype.format=function(h,f){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!f?this.replaceWith(d.blotName):c.prototype.format.call(this,h,f))},d.prototype.formatAt=function(h,f,m,w){a.query(m,a.Scope.BLOCK)!=null?this.format(m,w):c.prototype.formatAt.call(this,h,f,m,w)},d.prototype.insertAt=function(h,f,m){if(m==null||a.query(f,a.Scope.INLINE)!=null)c.prototype.insertAt.call(this,h,f,m);else{var w=this.split(h),v=a.create(f,m);w.parent.insertBefore(v,w)}},d.prototype.update=function(h,f){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,h,f)},d.blotName="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="P",d}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){l(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(d){},c.prototype.format=function(d,h){l.prototype.formatAt.call(this,0,this.length(),d,h)},c.prototype.formatAt=function(d,h,f,m){d===0&&h===this.length()?this.format(f,m):l.prototype.formatAt.call(this,d,h,f,m)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(c){o(d,c);function d(h){var f=c.call(this,h)||this;return f.text=f.statics.value(f.domNode),f}return d.create=function(h){return document.createTextNode(h)},d.value=function(h){var f=h.data;return f.normalize&&(f=f.normalize()),f},d.prototype.deleteAt=function(h,f){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+f)},d.prototype.index=function(h,f){return this.domNode===h?f:-1},d.prototype.insertAt=function(h,f,m){m==null?(this.text=this.text.slice(0,h)+f+this.text.slice(h),this.domNode.data=this.text):c.prototype.insertAt.call(this,h,f,m)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(h){c.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(h,f){return[this.domNode,h]},d.prototype.split=function(h,f){if(f===void 0&&(f=!1),!f){if(h===0)return this;if(h===this.length())return this.next}var m=a.create(this.domNode.splitText(h));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},d.prototype.update=function(h,f){var m=this;h.some(function(w){return w.type==="characterData"&&w.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=a.Scope.INLINE_BLOT,d}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=a.length;var d=c.indexOf(a,l);return d!==-1&&d===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),d=c.length>>>0,h=arguments[1],f,m=0;m<d;m++)if(f=c[m],l.call(h,f,m,c))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(y,N,O){if(y==N)return y?[[s,y]]:[];(O<0||y.length<O)&&(O=null);var x=h(y,N),b=y.substring(0,x);y=y.substring(x),N=N.substring(x),x=f(y,N);var C=y.substring(y.length-x);y=y.substring(0,y.length-x),N=N.substring(0,N.length-x);var T=l(y,N);return b&&T.unshift([s,b]),C&&T.push([s,C]),w(T),O!=null&&(T=p(T,O)),T=g(T),T}function l(y,N){var O;if(!y)return[[o,N]];if(!N)return[[i,y]];var x=y.length>N.length?y:N,b=y.length>N.length?N:y,C=x.indexOf(b);if(C!=-1)return O=[[o,x.substring(0,C)],[s,b],[o,x.substring(C+b.length)]],y.length>N.length&&(O[0][0]=O[2][0]=i),O;if(b.length==1)return[[i,y],[o,N]];var T=m(y,N);if(T){var S=T[0],P=T[1],A=T[2],D=T[3],U=T[4],z=a(S,A),W=a(P,D);return z.concat([[s,U]],W)}return c(y,N)}function c(y,N){for(var O=y.length,x=N.length,b=Math.ceil((O+x)/2),C=b,T=2*b,S=new Array(T),P=new Array(T),A=0;A<T;A++)S[A]=-1,P[A]=-1;S[C+1]=0,P[C+1]=0;for(var D=O-x,U=D%2!=0,z=0,W=0,K=0,$=0,F=0;F<b;F++){for(var L=-F+z;L<=F-W;L+=2){var M=C+L,B;L==-F||L!=F&&S[M-1]<S[M+1]?B=S[M+1]:B=S[M-1]+1;for(var G=B-L;B<O&&G<x&&y.charAt(B)==N.charAt(G);)B++,G++;if(S[M]=B,B>O)W+=2;else if(G>x)z+=2;else if(U){var H=C+D-L;if(H>=0&&H<T&&P[H]!=-1){var V=O-P[H];if(B>=V)return d(y,N,B,G)}}}for(var q=-F+K;q<=F-$;q+=2){var H=C+q,V;q==-F||q!=F&&P[H-1]<P[H+1]?V=P[H+1]:V=P[H-1]+1;for(var X=V-q;V<O&&X<x&&y.charAt(O-V-1)==N.charAt(x-X-1);)V++,X++;if(P[H]=V,V>O)$+=2;else if(X>x)K+=2;else if(!U){var M=C+D-q;if(M>=0&&M<T&&S[M]!=-1){var B=S[M],G=C+B-M;if(V=O-V,B>=V)return d(y,N,B,G)}}}}return[[i,y],[o,N]]}function d(y,N,O,x){var b=y.substring(0,O),C=N.substring(0,x),T=y.substring(O),S=N.substring(x),P=a(b,C),A=a(T,S);return P.concat(A)}function h(y,N){if(!y||!N||y.charAt(0)!=N.charAt(0))return 0;for(var O=0,x=Math.min(y.length,N.length),b=x,C=0;O<b;)y.substring(C,b)==N.substring(C,b)?(O=b,C=O):x=b,b=Math.floor((x-O)/2+O);return b}function f(y,N){if(!y||!N||y.charAt(y.length-1)!=N.charAt(N.length-1))return 0;for(var O=0,x=Math.min(y.length,N.length),b=x,C=0;O<b;)y.substring(y.length-b,y.length-C)==N.substring(N.length-b,N.length-C)?(O=b,C=O):x=b,b=Math.floor((x-O)/2+O);return b}function m(y,N){var O=y.length>N.length?y:N,x=y.length>N.length?N:y;if(O.length<4||x.length*2<O.length)return null;function b(W,K,$){for(var F=W.substring($,$+Math.floor(W.length/4)),L=-1,M="",B,G,H,V;(L=K.indexOf(F,L+1))!=-1;){var q=h(W.substring($),K.substring(L)),X=f(W.substring(0,$),K.substring(0,L));M.length<X+q&&(M=K.substring(L-X,L)+K.substring(L,L+q),B=W.substring(0,$-X),G=W.substring($+q),H=K.substring(0,L-X),V=K.substring(L+q))}return M.length*2>=W.length?[B,G,H,V,M]:null}var C=b(O,x,Math.ceil(O.length/4)),T=b(O,x,Math.ceil(O.length/2)),S;if(!C&&!T)return null;T?C?S=C[4].length>T[4].length?C:T:S=T:S=C;var P,A,D,U;y.length>N.length?(P=S[0],A=S[1],D=S[2],U=S[3]):(D=S[0],U=S[1],P=S[2],A=S[3]);var z=S[4];return[P,A,D,U,z]}function w(y){y.push([s,""]);for(var N=0,O=0,x=0,b="",C="",T;N<y.length;)switch(y[N][0]){case o:x++,C+=y[N][1],N++;break;case i:O++,b+=y[N][1],N++;break;case s:O+x>1?(O!==0&&x!==0&&(T=h(C,b),T!==0&&(N-O-x>0&&y[N-O-x-1][0]==s?y[N-O-x-1][1]+=C.substring(0,T):(y.splice(0,0,[s,C.substring(0,T)]),N++),C=C.substring(T),b=b.substring(T)),T=f(C,b),T!==0&&(y[N][1]=C.substring(C.length-T)+y[N][1],C=C.substring(0,C.length-T),b=b.substring(0,b.length-T))),O===0?y.splice(N-x,O+x,[o,C]):x===0?y.splice(N-O,O+x,[i,b]):y.splice(N-O-x,O+x,[i,b],[o,C]),N=N-O-x+(O?1:0)+(x?1:0)+1):N!==0&&y[N-1][0]==s?(y[N-1][1]+=y[N][1],y.splice(N,1)):N++,x=0,O=0,b="",C="";break}y[y.length-1][1]===""&&y.pop();var S=!1;for(N=1;N<y.length-1;)y[N-1][0]==s&&y[N+1][0]==s&&(y[N][1].substring(y[N][1].length-y[N-1][1].length)==y[N-1][1]?(y[N][1]=y[N-1][1]+y[N][1].substring(0,y[N][1].length-y[N-1][1].length),y[N+1][1]=y[N-1][1]+y[N+1][1],y.splice(N-1,1),S=!0):y[N][1].substring(0,y[N+1][1].length)==y[N+1][1]&&(y[N-1][1]+=y[N+1][1],y[N][1]=y[N][1].substring(y[N+1][1].length)+y[N+1][1],y.splice(N+1,1),S=!0)),N++;S&&w(y)}var v=a;v.INSERT=o,v.DELETE=i,v.EQUAL=s,n.exports=v;function E(y,N){if(N===0)return[s,y];for(var O=0,x=0;x<y.length;x++){var b=y[x];if(b[0]===i||b[0]===s){var C=O+b[1].length;if(N===C)return[x+1,y];if(N<C){y=y.slice();var T=N-O,S=[b[0],b[1].slice(0,T)],P=[b[0],b[1].slice(T)];return y.splice(x,1,S,P),[x+1,y]}else O=C}}throw new Error("cursor_pos is out of bounds!")}function p(y,N){var O=E(y,N),x=O[1],b=O[0],C=x[b],T=x[b+1];if(C==null)return y;if(C[0]!==s)return y;if(T!=null&&C[1]+T[1]===T[1]+C[1])return x.splice(b,2,T,C),_(x,b,2);if(T!=null&&T[1].indexOf(C[1])===0){x.splice(b,2,[T[0],C[1]],[0,C[1]]);var S=T[1].slice(C[1].length);return S.length>0&&x.splice(b+2,0,[T[0],S]),_(x,b,3)}else return y}function g(y){for(var N=!1,O=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},x=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},b=2;b<y.length;b+=1)y[b-2][0]===s&&x(y[b-2][1])&&y[b-1][0]===i&&O(y[b-1][1])&&y[b][0]===o&&O(y[b][1])&&(N=!0,y[b-1][1]=y[b-2][1].slice(-1)+y[b-1][1],y[b][1]=y[b-2][1].slice(-1)+y[b][1],y[b-2][1]=y[b-2][1].slice(0,-1));if(!N)return y;for(var C=[],b=0;b<y.length;b+=1)y[b][1].length>0&&C.push(y[b]);return C}function _(y,N,O){for(var x=N+O-1;x>=0&&x>=N-1;x--)if(x+1<y.length){var b=y[x],C=y[x+1];b[0]===C[1]&&y.splice(x,2,[b[0],b[1]+C[1]])}return y}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,f;if(this._eventsCount===0)return d;for(f in h=this._events)i.call(h,f)&&d.push(o?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d,h){var f=o?o+d:d,m=this._events[f];if(h)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var w=0,v=m.length,E=new Array(v);w<v;w++)E[w]=m[w].fn;return E},l.prototype.emit=function(d,h,f,m,w,v){var E=o?o+d:d;if(!this._events[E])return!1;var p=this._events[E],g=arguments.length,_,y;if(p.fn){switch(p.once&&this.removeListener(d,p.fn,void 0,!0),g){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,h),!0;case 3:return p.fn.call(p.context,h,f),!0;case 4:return p.fn.call(p.context,h,f,m),!0;case 5:return p.fn.call(p.context,h,f,m,w),!0;case 6:return p.fn.call(p.context,h,f,m,w,v),!0}for(y=1,_=new Array(g-1);y<g;y++)_[y-1]=arguments[y];p.fn.apply(p.context,_)}else{var N=p.length,O;for(y=0;y<N;y++)switch(p[y].once&&this.removeListener(d,p[y].fn,void 0,!0),g){case 1:p[y].fn.call(p[y].context);break;case 2:p[y].fn.call(p[y].context,h);break;case 3:p[y].fn.call(p[y].context,h,f);break;case 4:p[y].fn.call(p[y].context,h,f,m);break;default:if(!_)for(O=1,_=new Array(g-1);O<g;O++)_[O-1]=arguments[O];p[y].fn.apply(p[y].context,_)}}return!0},l.prototype.on=function(d,h,f){var m=new a(h,f||this),w=o?o+d:d;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],m]:this._events[w].push(m):(this._events[w]=m,this._eventsCount++),this},l.prototype.once=function(d,h,f){var m=new a(h,f||this,!0),w=o?o+d:d;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],m]:this._events[w].push(m):(this._events[w]=m,this._eventsCount++),this},l.prototype.removeListener=function(d,h,f,m){var w=o?o+d:d;if(!this._events[w])return this;if(!h)return--this._eventsCount===0?this._events=new s:delete this._events[w],this;var v=this._events[w];if(v.fn)v.fn===h&&(!m||v.once)&&(!f||v.context===f)&&(--this._eventsCount===0?this._events=new s:delete this._events[w]);else{for(var E=0,p=[],g=v.length;E<g;E++)(v[E].fn!==h||m&&!v[E].once||f&&v[E].context!==f)&&p.push(v[E]);p.length?this._events[w]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new s:delete this._events[w]}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=o?o+d:d,this._events[h]&&(--this._eventsCount===0?this._events=new s:delete this._events[h])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},s=function(){function ee(te,le){var ue=[],oe=!0,Ee=!1,be=void 0;try{for(var Te=te[Symbol.iterator](),De;!(oe=(De=Te.next()).done)&&(ue.push(De.value),!(le&&ue.length===le));oe=!0);}catch(Be){Ee=!0,be=Be}finally{try{!oe&&Te.return&&Te.return()}finally{if(Ee)throw be}}return ue}return function(te,le){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return ee(te,le);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ee(te,le){for(var ue=0;ue<le.length;ue++){var oe=le[ue];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(te,oe.key,oe)}}return function(te,le,ue){return le&&ee(te.prototype,le),ue&&ee(te,ue),te}}(),l=i(3),c=P(l),d=i(2),h=P(d),f=i(0),m=P(f),w=i(5),v=P(w),E=i(10),p=P(E),g=i(9),_=P(g),y=i(36),N=i(37),O=i(13),x=P(O),b=i(26),C=i(38),T=i(39),S=i(40);function P(ee){return ee&&ee.__esModule?ee:{default:ee}}function A(ee,te,le){return te in ee?Object.defineProperty(ee,te,{value:le,enumerable:!0,configurable:!0,writable:!0}):ee[te]=le,ee}function D(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function U(ee,te){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:ee}function z(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,te):ee.__proto__=te)}var W=(0,p.default)("quill:clipboard"),K="__ql-matcher",$=[[Node.TEXT_NODE,tt],[Node.TEXT_NODE,Se],["br",ce],[Node.ELEMENT_NODE,Se],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,Re],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,gt],["li",ve],["b",X.bind(X,"bold")],["i",X.bind(X,"italic")],["style",me]],F=[y.AlignAttribute,C.DirectionAttribute].reduce(function(ee,te){return ee[te.keyName]=te,ee},{}),L=[y.AlignStyle,N.BackgroundStyle,b.ColorStyle,C.DirectionStyle,T.FontStyle,S.SizeStyle].reduce(function(ee,te){return ee[te.keyName]=te,ee},{}),M=function(ee){z(te,ee);function te(le,ue){D(this,te);var oe=U(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,le,ue));return oe.quill.root.addEventListener("paste",oe.onPaste.bind(oe)),oe.container=oe.quill.addContainer("ql-clipboard"),oe.container.setAttribute("contenteditable",!0),oe.container.setAttribute("tabindex",-1),oe.matchers=[],$.concat(oe.options.matchers).forEach(function(Ee){var be=s(Ee,2),Te=be[0],De=be[1];!ue.matchVisual&&De===Re||oe.addMatcher(Te,De)}),oe}return a(te,[{key:"addMatcher",value:function(ue,oe){this.matchers.push([ue,oe])}},{key:"convert",value:function(ue){if(typeof ue=="string")return this.container.innerHTML=ue.replace(/\>\r?\n +\</g,"><"),this.convert();var oe=this.quill.getFormat(this.quill.selection.savedRange.index);if(oe[x.default.blotName]){var Ee=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Ee,A({},x.default.blotName,oe[x.default.blotName]))}var be=this.prepareMatching(),Te=s(be,2),De=Te[0],Be=Te[1],Ve=q(this.container,De,Be);return H(Ve,`
`)&&Ve.ops[Ve.ops.length-1].attributes==null&&(Ve=Ve.compose(new h.default().retain(Ve.length()-1).delete(1))),W.log("convert",this.container.innerHTML,Ve),this.container.innerHTML="",Ve}},{key:"dangerouslyPasteHTML",value:function(ue,oe){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof ue=="string")this.quill.setContents(this.convert(ue),oe),this.quill.setSelection(0,v.default.sources.SILENT);else{var be=this.convert(oe);this.quill.updateContents(new h.default().retain(ue).concat(be),Ee),this.quill.setSelection(ue+be.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(ue){var oe=this;if(!(ue.defaultPrevented||!this.quill.isEnabled())){var Ee=this.quill.getSelection(),be=new h.default().retain(Ee.index),Te=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){be=be.concat(oe.convert()).delete(Ee.length),oe.quill.updateContents(be,v.default.sources.USER),oe.quill.setSelection(be.length()-Ee.length,v.default.sources.SILENT),oe.quill.scrollingContainer.scrollTop=Te,oe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ue=this,oe=[],Ee=[];return this.matchers.forEach(function(be){var Te=s(be,2),De=Te[0],Be=Te[1];switch(De){case Node.TEXT_NODE:Ee.push(Be);break;case Node.ELEMENT_NODE:oe.push(Be);break;default:[].forEach.call(ue.container.querySelectorAll(De),function(Ve){Ve[K]=Ve[K]||[],Ve[K].push(Be)});break}}),[oe,Ee]}}]),te}(_.default);M.DEFAULTS={matchers:[],matchVisual:!0};function B(ee,te,le){return(typeof te>"u"?"undefined":o(te))==="object"?Object.keys(te).reduce(function(ue,oe){return B(ue,oe,te[oe])},ee):ee.reduce(function(ue,oe){return oe.attributes&&oe.attributes[te]?ue.push(oe):ue.insert(oe.insert,(0,c.default)({},A({},te,le),oe.attributes))},new h.default)}function G(ee){if(ee.nodeType!==Node.ELEMENT_NODE)return{};var te="__ql-computed-style";return ee[te]||(ee[te]=window.getComputedStyle(ee))}function H(ee,te){for(var le="",ue=ee.ops.length-1;ue>=0&&le.length<te.length;--ue){var oe=ee.ops[ue];if(typeof oe.insert!="string")break;le=oe.insert+le}return le.slice(-1*te.length)===te}function V(ee){if(ee.childNodes.length===0)return!1;var te=G(ee);return["block","list-item"].indexOf(te.display)>-1}function q(ee,te,le){return ee.nodeType===ee.TEXT_NODE?le.reduce(function(ue,oe){return oe(ee,ue)},new h.default):ee.nodeType===ee.ELEMENT_NODE?[].reduce.call(ee.childNodes||[],function(ue,oe){var Ee=q(oe,te,le);return oe.nodeType===ee.ELEMENT_NODE&&(Ee=te.reduce(function(be,Te){return Te(oe,be)},Ee),Ee=(oe[K]||[]).reduce(function(be,Te){return Te(oe,be)},Ee)),ue.concat(Ee)},new h.default):new h.default}function X(ee,te,le){return B(le,ee,!0)}function J(ee,te){var le=m.default.Attributor.Attribute.keys(ee),ue=m.default.Attributor.Class.keys(ee),oe=m.default.Attributor.Style.keys(ee),Ee={};return le.concat(ue).concat(oe).forEach(function(be){var Te=m.default.query(be,m.default.Scope.ATTRIBUTE);Te!=null&&(Ee[Te.attrName]=Te.value(ee),Ee[Te.attrName])||(Te=F[be],Te!=null&&(Te.attrName===be||Te.keyName===be)&&(Ee[Te.attrName]=Te.value(ee)||void 0),Te=L[be],Te!=null&&(Te.attrName===be||Te.keyName===be)&&(Te=L[be],Ee[Te.attrName]=Te.value(ee)||void 0))}),Object.keys(Ee).length>0&&(te=B(te,Ee)),te}function ie(ee,te){var le=m.default.query(ee);if(le==null)return te;if(le.prototype instanceof m.default.Embed){var ue={},oe=le.value(ee);oe!=null&&(ue[le.blotName]=oe,te=new h.default().insert(ue,le.formats(ee)))}else typeof le.formats=="function"&&(te=B(te,le.blotName,le.formats(ee)));return te}function ce(ee,te){return H(te,`
`)||te.insert(`
`),te}function me(){return new h.default}function ve(ee,te){var le=m.default.query(ee);if(le==null||le.blotName!=="list-item"||!H(te,`
`))return te;for(var ue=-1,oe=ee.parentNode;!oe.classList.contains("ql-clipboard");)(m.default.query(oe)||{}).blotName==="list"&&(ue+=1),oe=oe.parentNode;return ue<=0?te:te.compose(new h.default().retain(te.length()-1).retain(1,{indent:ue}))}function Se(ee,te){return H(te,`
`)||(V(ee)||te.length()>0&&ee.nextSibling&&V(ee.nextSibling))&&te.insert(`
`),te}function Re(ee,te){if(V(ee)&&ee.nextElementSibling!=null&&!H(te,`

`)){var le=ee.offsetHeight+parseFloat(G(ee).marginTop)+parseFloat(G(ee).marginBottom);ee.nextElementSibling.offsetTop>ee.offsetTop+le*1.5&&te.insert(`
`)}return te}function gt(ee,te){var le={},ue=ee.style||{};return ue.fontStyle&&G(ee).fontStyle==="italic"&&(le.italic=!0),ue.fontWeight&&(G(ee).fontWeight.startsWith("bold")||parseInt(G(ee).fontWeight)>=700)&&(le.bold=!0),Object.keys(le).length>0&&(te=B(te,le)),parseFloat(ue.textIndent||0)>0&&(te=new h.default().insert("	").concat(te)),te}function tt(ee,te){var le=ee.data;if(ee.parentNode.tagName==="O:P")return te.insert(le.trim());if(le.trim().length===0&&ee.parentNode.classList.contains("ql-clipboard"))return te;if(!G(ee.parentNode).whiteSpace.startsWith("pre")){var ue=function(Ee,be){return be=be.replace(/[^\u00a0]/g,""),be.length<1&&Ee?" ":be};le=le.replace(/\r\n/g," ").replace(/\n/g," "),le=le.replace(/\s\s+/g,ue.bind(ue,!0)),(ee.previousSibling==null&&V(ee.parentNode)||ee.previousSibling!=null&&V(ee.previousSibling))&&(le=le.replace(/^\s+/,ue.bind(ue,!1))),(ee.nextSibling==null&&V(ee.parentNode)||ee.nextSibling!=null&&V(ee.nextSibling))&&(le=le.replace(/\s+$/,ue.bind(ue,!1)))}return te.insert(le)}r.default=M,r.matchAttributor=J,r.matchBlot=ie,r.matchNewline=Se,r.matchSpacing=Re,r.matchText=tt},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var p=0;p<E.length;p++){var g=E[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,E,p){return E&&w(v.prototype,E),p&&w(v,p),v}}(),s=function w(v,E,p){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,E);if(g===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:w(_,E,p)}else{if("value"in g)return g.value;var y=g.get;return y===void 0?void 0:y.call(p)}},a=i(6),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function d(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function f(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var m=function(w){f(v,w);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"optimize",value:function(p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(l.default);m.blotName="bold",m.tagName=["STRONG","B"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function S(P,A){var D=[],U=!0,z=!1,W=void 0;try{for(var K=P[Symbol.iterator](),$;!(U=($=K.next()).done)&&(D.push($.value),!(A&&D.length===A));U=!0);}catch(F){z=!0,W=F}finally{try{!U&&K.return&&K.return()}finally{if(z)throw W}}return D}return function(P,A){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return S(P,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(P,A){for(var D=0;D<A.length;D++){var U=A[D];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(P,U.key,U)}}return function(P,A,D){return A&&S(P.prototype,A),D&&S(P,D),P}}(),a=i(2),l=p(a),c=i(0),d=p(c),h=i(5),f=p(h),m=i(10),w=p(m),v=i(9),E=p(v);function p(S){return S&&S.__esModule?S:{default:S}}function g(S,P,A){return P in S?Object.defineProperty(S,P,{value:A,enumerable:!0,configurable:!0,writable:!0}):S[P]=A,S}function _(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")}function y(S,P){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:S}function N(S,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);S.prototype=Object.create(P&&P.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(S,P):S.__proto__=P)}var O=(0,w.default)("quill:toolbar"),x=function(S){N(P,S);function P(A,D){_(this,P);var U=y(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,A,D));if(Array.isArray(U.options.container)){var z=document.createElement("div");C(z,U.options.container),A.container.parentNode.insertBefore(z,A.container),U.container=z}else typeof U.options.container=="string"?U.container=document.querySelector(U.options.container):U.container=U.options.container;if(!(U.container instanceof HTMLElement)){var W;return W=O.error("Container required for toolbar",U.options),y(U,W)}return U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(K){U.addHandler(K,U.options.handlers[K])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(K){U.attach(K)}),U.quill.on(f.default.events.EDITOR_CHANGE,function(K,$){K===f.default.events.SELECTION_CHANGE&&U.update($)}),U.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var K=U.quill.selection.getRange(),$=o(K,1),F=$[0];U.update(F)}),U}return s(P,[{key:"addHandler",value:function(D,U){this.handlers[D]=U}},{key:"attach",value:function(D){var U=this,z=[].find.call(D.classList,function(K){return K.indexOf("ql-")===0});if(z){if(z=z.slice(3),D.tagName==="BUTTON"&&D.setAttribute("type","button"),this.handlers[z]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[z]==null){O.warn("ignoring attaching to disabled format",z,D);return}if(d.default.query(z)==null){O.warn("ignoring attaching to nonexistent format",z,D);return}}var W=D.tagName==="SELECT"?"change":"click";D.addEventListener(W,function(K){var $=void 0;if(D.tagName==="SELECT"){if(D.selectedIndex<0)return;var F=D.options[D.selectedIndex];F.hasAttribute("selected")?$=!1:$=F.value||!1}else D.classList.contains("ql-active")?$=!1:$=D.value||!D.hasAttribute("value"),K.preventDefault();U.quill.focus();var L=U.quill.selection.getRange(),M=o(L,1),B=M[0];if(U.handlers[z]!=null)U.handlers[z].call(U,$);else if(d.default.query(z).prototype instanceof d.default.Embed){if($=prompt("Enter "+z),!$)return;U.quill.updateContents(new l.default().retain(B.index).delete(B.length).insert(g({},z,$)),f.default.sources.USER)}else U.quill.format(z,$,f.default.sources.USER);U.update(B)}),this.controls.push([z,D])}}},{key:"update",value:function(D){var U=D==null?{}:this.quill.getFormat(D);this.controls.forEach(function(z){var W=o(z,2),K=W[0],$=W[1];if($.tagName==="SELECT"){var F=void 0;if(D==null)F=null;else if(U[K]==null)F=$.querySelector("option[selected]");else if(!Array.isArray(U[K])){var L=U[K];typeof L=="string"&&(L=L.replace(/\"/g,'\\"')),F=$.querySelector('option[value="'+L+'"]')}F==null?($.value="",$.selectedIndex=-1):F.selected=!0}else if(D==null)$.classList.remove("ql-active");else if($.hasAttribute("value")){var M=U[K]===$.getAttribute("value")||U[K]!=null&&U[K].toString()===$.getAttribute("value")||U[K]==null&&!$.getAttribute("value");$.classList.toggle("ql-active",M)}else $.classList.toggle("ql-active",U[K]!=null)})}}]),P}(E.default);x.DEFAULTS={};function b(S,P,A){var D=document.createElement("button");D.setAttribute("type","button"),D.classList.add("ql-"+P),A!=null&&(D.value=A),S.appendChild(D)}function C(S,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(A){var D=document.createElement("span");D.classList.add("ql-formats"),A.forEach(function(U){if(typeof U=="string")b(D,U);else{var z=Object.keys(U)[0],W=U[z];Array.isArray(W)?T(D,z,W):b(D,z,W)}}),S.appendChild(D)})}function T(S,P,A){var D=document.createElement("select");D.classList.add("ql-"+P),A.forEach(function(U){var z=document.createElement("option");U!==!1?z.setAttribute("value",U):z.setAttribute("selected","selected"),D.appendChild(z)}),S.appendChild(D)}x.DEFAULTS={container:null,handlers:{clean:function(){var P=this,A=this.quill.getSelection();if(A!=null)if(A.length==0){var D=this.quill.getFormat();Object.keys(D).forEach(function(U){d.default.query(U,d.default.Scope.INLINE)!=null&&P.quill.format(U,!1)})}else this.quill.removeFormat(A,f.default.sources.USER)},direction:function(P){var A=this.quill.getFormat().align;P==="rtl"&&A==null?this.quill.format("align","right",f.default.sources.USER):!P&&A==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",P,f.default.sources.USER)},indent:function(P){var A=this.quill.getSelection(),D=this.quill.getFormat(A),U=parseInt(D.indent||0);if(P==="+1"||P==="-1"){var z=P==="+1"?1:-1;D.direction==="rtl"&&(z*=-1),this.quill.format("indent",U+z,f.default.sources.USER)}},link:function(P){P===!0&&(P=prompt("Enter link URL:")),this.quill.format("link",P,f.default.sources.USER)},list:function(P){var A=this.quill.getSelection(),D=this.quill.getFormat(A);P==="check"?D.list==="checked"||D.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",P,f.default.sources.USER)}}},r.default=x,r.addControls=C},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var p=0;p<E.length;p++){var g=E[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,E,p){return E&&w(v.prototype,E),p&&w(v,p),v}}(),s=function w(v,E,p){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,E);if(g===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:w(_,E,p)}else{if("value"in g)return g.value;var y=g.get;return y===void 0?void 0:y.call(p)}},a=i(28),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function d(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function f(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var m=function(w){f(v,w);function v(E,p){d(this,v);var g=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E));return g.label.innerHTML=p,g.container.classList.add("ql-color-picker"),[].slice.call(g.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),g}return o(v,[{key:"buildItem",value:function(p){var g=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,p);return g.style.backgroundColor=p.getAttribute("value")||"",g}},{key:"selectItem",value:function(p,g){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,p,g);var _=this.label.querySelector(".ql-color-label"),y=p&&p.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=y:_.style.fill=y)}}]),v}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var p=0;p<E.length;p++){var g=E[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,E,p){return E&&w(v.prototype,E),p&&w(v,p),v}}(),s=function w(v,E,p){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,E);if(g===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:w(_,E,p)}else{if("value"in g)return g.value;var y=g.get;return y===void 0?void 0:y.call(p)}},a=i(28),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function d(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function f(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var m=function(w){f(v,w);function v(E,p){d(this,v);var g=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E));return g.container.classList.add("ql-icon-picker"),[].forEach.call(g.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=p[_.getAttribute("data-value")||""]}),g.defaultItem=g.container.querySelector(".ql-selected"),g.selectItem(g.defaultItem),g}return o(v,[{key:"selectItem",value:function(p,g){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,p,g),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),v}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(c,d){for(var h=0;h<d.length;h++){var f=d[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,d){var h=this;s(this,l),this.quill=c,this.boundsContainer=d||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var h=d.left+d.width/2-this.root.offsetWidth/2,f=d.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),w=this.root.getBoundingClientRect(),v=0;if(w.right>m.right&&(v=m.right-w.right,this.root.style.left=h+v+"px"),w.left<m.left&&(v=m.left-w.left,this.root.style.left=h+v+"px"),w.bottom>m.bottom){var E=w.bottom-w.top,p=d.bottom-d.top+E;this.root.style.top=f-p+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(S,P){var A=[],D=!0,U=!1,z=void 0;try{for(var W=S[Symbol.iterator](),K;!(D=(K=W.next()).done)&&(A.push(K.value),!(P&&A.length===P));D=!0);}catch($){U=!0,z=$}finally{try{!D&&W.return&&W.return()}finally{if(U)throw z}}return A}return function(S,P){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return T(S,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function T(S,P,A){S===null&&(S=Function.prototype);var D=Object.getOwnPropertyDescriptor(S,P);if(D===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:T(U,P,A)}else{if("value"in D)return D.value;var z=D.get;return z===void 0?void 0:z.call(A)}},a=function(){function T(S,P){for(var A=0;A<P.length;A++){var D=P[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,D.key,D)}}return function(S,P,A){return P&&T(S.prototype,P),A&&T(S,A),S}}(),l=i(3),c=_(l),d=i(8),h=_(d),f=i(43),m=_(f),w=i(27),v=_(w),E=i(15),p=i(41),g=_(p);function _(T){return T&&T.__esModule?T:{default:T}}function y(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function N(T,S){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:T}function O(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}var x=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(T){O(S,T);function S(P,A){y(this,S),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=x);var D=N(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P,A));return D.quill.container.classList.add("ql-snow"),D}return a(S,[{key:"extendToolbar",value:function(A){A.container.classList.add("ql-snow"),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),g.default),this.tooltip=new C(this.quill,this.options.bounds),A.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(D,U){A.handlers.link.call(A,!U.format.link)})}}]),S}(m.default);b.DEFAULTS=(0,c.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var P=this.quill.getSelection();if(P==null||P.length==0)return;var A=this.quill.getText(P);/^\S+@\S+\.\S+$/.test(A)&&A.indexOf("mailto:")!==0&&(A="mailto:"+A);var D=this.quill.theme.tooltip;D.edit("link",A)}else this.quill.format("link",!1)}}}}});var C=function(T){O(S,T);function S(P,A){y(this,S);var D=N(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P,A));return D.preview=D.root.querySelector("a.ql-preview"),D}return a(S,[{key:"listen",value:function(){var A=this;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(D){A.root.classList.contains("ql-editing")?A.save():A.edit("link",A.preview.textContent),D.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(D){if(A.linkRange!=null){var U=A.linkRange;A.restoreFocus(),A.quill.formatText(U,"link",!1,h.default.sources.USER),delete A.linkRange}D.preventDefault(),A.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(D,U,z){if(D!=null){if(D.length===0&&z===h.default.sources.USER){var W=A.quill.scroll.descendant(v.default,D.index),K=o(W,2),$=K[0],F=K[1];if($!=null){A.linkRange=new E.Range(D.index-F,$.length());var L=v.default.formats($.domNode);A.preview.textContent=L,A.preview.setAttribute("href",L),A.show(),A.position(A.quill.getBounds(A.linkRange));return}}else delete A.linkRange;A.hide()}})}},{key:"show",value:function(){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(f.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=oe(o),a=i(36),l=i(38),c=i(64),d=i(65),h=oe(d),f=i(66),m=oe(f),w=i(67),v=oe(w),E=i(37),p=i(26),g=i(39),_=i(40),y=i(56),N=oe(y),O=i(68),x=oe(O),b=i(27),C=oe(b),T=i(69),S=oe(T),P=i(70),A=oe(P),D=i(71),U=oe(D),z=i(72),W=oe(z),K=i(73),$=oe(K),F=i(13),L=oe(F),M=i(74),B=oe(M),G=i(75),H=oe(G),V=i(57),q=oe(V),X=i(41),J=oe(X),ie=i(28),ce=oe(ie),me=i(59),ve=oe(me),Se=i(60),Re=oe(Se),gt=i(61),tt=oe(gt),ee=i(108),te=oe(ee),le=i(62),ue=oe(le);function oe(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":_.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":g.FontClass,"formats/size":_.SizeClass,"formats/blockquote":h.default,"formats/code-block":L.default,"formats/header":m.default,"formats/list":v.default,"formats/bold":N.default,"formats/code":F.Code,"formats/italic":x.default,"formats/link":C.default,"formats/script":S.default,"formats/strike":A.default,"formats/underline":U.default,"formats/image":W.default,"formats/video":$.default,"formats/list/item":w.ListItem,"modules/formula":B.default,"modules/syntax":H.default,"modules/toolbar":q.default,"themes/bubble":te.default,"themes/snow":ue.default,"ui/icons":J.default,"ui/picker":ce.default,"ui/icon-picker":Re.default,"ui/color-picker":ve.default,"ui/tooltip":tt.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function v(E,p){for(var g=0;g<p.length;g++){var _=p[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(E,_.key,_)}}return function(E,p,g){return p&&v(E.prototype,p),g&&v(E,g),E}}(),s=function v(E,p,g){E===null&&(E=Function.prototype);var _=Object.getOwnPropertyDescriptor(E,p);if(_===void 0){var y=Object.getPrototypeOf(E);return y===null?void 0:v(y,p,g)}else{if("value"in _)return _.value;var N=_.get;return N===void 0?void 0:N.call(g)}},a=i(0),l=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function h(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function f(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}var m=function(v){f(E,v);function E(){return d(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"add",value:function(g,_){if(_==="+1"||_==="-1"){var y=this.value(g)||0;_=_==="+1"?y+1:y-1}return _===0?(this.remove(g),!0):s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,g,_)}},{key:"canAdd",value:function(g,_){return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,g,_)||s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,g,parseInt(_))}},{key:"value",value:function(g){return parseInt(s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,g))||void 0}}]),E}(l.default.Attributor.Class),w=new m("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function c(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function d(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var h=function(f){d(m,f);function m(){return l(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(w,v){for(var E=0;E<v.length;E++){var p=v[E];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(w,p.key,p)}}return function(w,v,E){return v&&m(w.prototype,v),E&&m(w,E),w}}(),s=i(4),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function d(m,w){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:m}function h(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}var f=function(m){h(w,m);function w(){return c(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),w}(a.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function y(N,O){for(var x=0;x<O.length;x++){var b=O[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(N,b.key,b)}}return function(N,O,x){return O&&y(N.prototype,O),x&&y(N,x),N}}(),s=function y(N,O,x){N===null&&(N=Function.prototype);var b=Object.getOwnPropertyDescriptor(N,O);if(b===void 0){var C=Object.getPrototypeOf(N);return C===null?void 0:y(C,O,x)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(x)}},a=i(0),l=m(a),c=i(4),d=m(c),h=i(25),f=m(h);function m(y){return y&&y.__esModule?y:{default:y}}function w(y,N,O){return N in y?Object.defineProperty(y,N,{value:O,enumerable:!0,configurable:!0,writable:!0}):y[N]=O,y}function v(y,N){if(!(y instanceof N))throw new TypeError("Cannot call a class as a function")}function E(y,N){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:y}function p(y,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);y.prototype=Object.create(N&&N.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(y,N):y.__proto__=N)}var g=function(y){p(N,y);function N(){return v(this,N),E(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return o(N,[{key:"format",value:function(x,b){x===_.blotName&&!b?this.replaceWith(l.default.create(this.statics.scope)):s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,x,b)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(x,b){return this.parent.isolate(this.offset(this.parent),this.length()),x===this.parent.statics.blotName?(this.parent.replaceWith(x,b),this):(this.parent.unwrap(),s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,x,b))}}],[{key:"formats",value:function(x){return x.tagName===this.tagName?void 0:s(N.__proto__||Object.getPrototypeOf(N),"formats",this).call(this,x)}}]),N}(d.default);g.blotName="list-item",g.tagName="LI";var _=function(y){p(N,y),o(N,null,[{key:"create",value:function(x){var b=x==="ordered"?"OL":"UL",C=s(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,b);return(x==="checked"||x==="unchecked")&&C.setAttribute("data-checked",x==="checked"),C}},{key:"formats",value:function(x){if(x.tagName==="OL")return"ordered";if(x.tagName==="UL")return x.hasAttribute("data-checked")?x.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function N(O){v(this,N);var x=E(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,O)),b=function(T){if(T.target.parentNode===O){var S=x.statics.formats(O),P=l.default.find(T.target);S==="checked"?P.format("list","unchecked"):S==="unchecked"&&P.format("list","checked")}};return O.addEventListener("touchstart",b),O.addEventListener("mousedown",b),x}return o(N,[{key:"format",value:function(x,b){this.children.length>0&&this.children.tail.format(x,b)}},{key:"formats",value:function(){return w({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(x,b){if(x instanceof g)s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,x,b);else{var C=b==null?this.length():b.offset(this),T=this.split(C);T.parent.insertBefore(x,T)}}},{key:"optimize",value:function(x){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,x);var b=this.next;b!=null&&b.prev===this&&b.statics.blotName===this.statics.blotName&&b.domNode.tagName===this.domNode.tagName&&b.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(b.moveChildren(this),b.remove())}},{key:"replace",value:function(x){if(x.statics.blotName!==this.statics.blotName){var b=l.default.create(this.statics.defaultChild);x.moveChildren(b),this.appendChild(b)}s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,x)}}]),N}(f.default);_.blotName="list",_.scope=l.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[g],r.ListItem=g,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function c(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function d(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var h=function(f){d(m,f);function m(){return l(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var p=0;p<E.length;p++){var g=E[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,E,p){return E&&w(v.prototype,E),p&&w(v,p),v}}(),s=function w(v,E,p){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,E);if(g===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:w(_,E,p)}else{if("value"in g)return g.value;var y=g.get;return y===void 0?void 0:y.call(p)}},a=i(6),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function d(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function f(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var m=function(w){f(v,w);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),v}(l.default);m.blotName="script",m.tagName=["SUB","SUP"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function c(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function d(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var h=function(f){d(m,f);function m(){return l(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function c(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function d(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var h=function(f){d(m,f);function m(){return l(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(p,g){for(var _=0;_<g.length;_++){var y=g[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,_){return g&&E(p.prototype,g),_&&E(p,_),p}}(),s=function E(p,g,_){p===null&&(p=Function.prototype);var y=Object.getOwnPropertyDescriptor(p,g);if(y===void 0){var N=Object.getPrototypeOf(p);return N===null?void 0:E(N,g,_)}else{if("value"in y)return y.value;var O=y.get;return O===void 0?void 0:O.call(_)}},a=i(0),l=d(a),c=i(27);function d(E){return E&&E.__esModule?E:{default:E}}function h(E,p){if(!(E instanceof p))throw new TypeError("Cannot call a class as a function")}function f(E,p){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:E}function m(E,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);E.prototype=Object.create(p&&p.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(E,p):E.__proto__=p)}var w=["alt","height","width"],v=function(E){m(p,E);function p(){return h(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(_,y){w.indexOf(_)>-1?y?this.domNode.setAttribute(_,y):this.domNode.removeAttribute(_):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,_,y)}}],[{key:"create",value:function(_){var y=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,_);return typeof _=="string"&&y.setAttribute("src",this.sanitize(_)),y}},{key:"formats",value:function(_){return w.reduce(function(y,N){return _.hasAttribute(N)&&(y[N]=_.getAttribute(N)),y},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,c.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),p}(l.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(p,g){for(var _=0;_<g.length;_++){var y=g[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,_){return g&&E(p.prototype,g),_&&E(p,_),p}}(),s=function E(p,g,_){p===null&&(p=Function.prototype);var y=Object.getOwnPropertyDescriptor(p,g);if(y===void 0){var N=Object.getPrototypeOf(p);return N===null?void 0:E(N,g,_)}else{if("value"in y)return y.value;var O=y.get;return O===void 0?void 0:O.call(_)}},a=i(4),l=i(27),c=d(l);function d(E){return E&&E.__esModule?E:{default:E}}function h(E,p){if(!(E instanceof p))throw new TypeError("Cannot call a class as a function")}function f(E,p){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:E}function m(E,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);E.prototype=Object.create(p&&p.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(E,p):E.__proto__=p)}var w=["height","width"],v=function(E){m(p,E);function p(){return h(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(_,y){w.indexOf(_)>-1?y?this.domNode.setAttribute(_,y):this.domNode.removeAttribute(_):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,_,y)}}],[{key:"create",value:function(_){var y=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,_);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(_)),y}},{key:"formats",value:function(_){return w.reduce(function(y,N){return _.hasAttribute(N)&&(y[N]=_.getAttribute(N)),y},{})}},{key:"sanitize",value:function(_){return c.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),p}(a.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function _(y,N){for(var O=0;O<N.length;O++){var x=N[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,N,O){return N&&_(y.prototype,N),O&&_(y,O),y}}(),s=function _(y,N,O){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,N);if(x===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:_(b,N,O)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(O)}},a=i(35),l=m(a),c=i(5),d=m(c),h=i(9),f=m(h);function m(_){return _&&_.__esModule?_:{default:_}}function w(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function v(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function E(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var p=function(_){E(y,_);function y(){return w(this,y),v(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(O){var x=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,x,{throwOnError:!1,errorColor:"#f00"}),x.setAttribute("data-value",O)),x}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),y}(l.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var g=function(_){E(y,_),o(y,null,[{key:"register",value:function(){d.default.register(p,!0)}}]);function y(){w(this,y);var N=v(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return N}return y}(f.default);r.FormulaBlot=p,r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function O(x,b){for(var C=0;C<b.length;C++){var T=b[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,b,C){return b&&O(x.prototype,b),C&&O(x,C),x}}(),s=function O(x,b,C){x===null&&(x=Function.prototype);var T=Object.getOwnPropertyDescriptor(x,b);if(T===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:O(S,b,C)}else{if("value"in T)return T.value;var P=T.get;return P===void 0?void 0:P.call(C)}},a=i(0),l=v(a),c=i(5),d=v(c),h=i(9),f=v(h),m=i(13),w=v(m);function v(O){return O&&O.__esModule?O:{default:O}}function E(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}function p(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:O}function g(O,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(O,x):O.__proto__=x)}var _=function(O){g(x,O);function x(){return E(this,x),p(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,[{key:"replaceWith",value:function(C){this.domNode.textContent=this.domNode.textContent,this.attach(),s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,C)}},{key:"highlight",value:function(C){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=C(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),x}(w.default);_.className="ql-syntax";var y=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),N=function(O){g(x,O),o(x,null,[{key:"register",value:function(){d.default.register(y,!0),d.default.register(_,!0)}}]);function x(b,C){E(this,x);var T=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,b,C));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return T.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){T.highlight(),S=null},T.options.interval)}),T.highlight(),T}return o(x,[{key:"highlight",value:function(){var C=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(S){S.highlight(C.options.highlight)}),this.quill.update(d.default.sources.SILENT),T!=null&&this.quill.setSelection(T,d.default.sources.SILENT)}}}]),x}(f.default);N.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var x=window.hljs.highlightAuto(O);return x.value}}(),interval:1e3},r.CodeBlock=_,r.CodeToken=y,r.default=N},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function x(b,C,T){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,C);if(S===void 0){var P=Object.getPrototypeOf(b);return P===null?void 0:x(P,C,T)}else{if("value"in S)return S.value;var A=S.get;return A===void 0?void 0:A.call(T)}},s=function(){function x(b,C){for(var T=0;T<C.length;T++){var S=C[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,C,T){return C&&x(b.prototype,C),T&&x(b,T),b}}(),a=i(3),l=E(a),c=i(8),d=E(c),h=i(43),f=E(h),m=i(15),w=i(41),v=E(w);function E(x){return x&&x.__esModule?x:{default:x}}function p(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}function g(x,b){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:x}function _(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(x,b):x.__proto__=b)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],N=function(x){_(b,x);function b(C,T){p(this,b),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=y);var S=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,C,T));return S.quill.container.classList.add("ql-bubble"),S}return s(b,[{key:"extendToolbar",value:function(T){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),v.default)}}]),b}(f.default);N.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(b){b?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(x){_(b,x);function b(C,T){p(this,b);var S=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,C,T));return S.quill.on(d.default.events.EDITOR_CHANGE,function(P,A,D,U){if(P===d.default.events.SELECTION_CHANGE)if(A!=null&&A.length>0&&U===d.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var z=S.quill.getLines(A.index,A.length);if(z.length===1)S.position(S.quill.getBounds(A));else{var W=z[z.length-1],K=S.quill.getIndex(W),$=Math.min(W.length()-1,A.index+A.length-K),F=S.quill.getBounds(new m.Range(K,$));S.position(F)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return s(b,[{key:"listen",value:function(){var T=this;o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var S=T.quill.getSelection();S!=null&&T.position(T.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var S=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"position",this).call(this,T),P=this.root.querySelector(".ql-tooltip-arrow");if(P.style.marginLeft="",S===0)return S;P.style.marginLeft=-1*S-P.offsetWidth/2+"px"}}]),b}(h.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=O,r.default=N},function(n,r,i){n.exports=i(63)}]).default})})(gx);var P6=gx.exports,C6=Xt&&Xt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bu=Xt&&Xt.__assign||function(){return Bu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Bu.apply(this,arguments)},R6=Xt&&Xt.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},Rc=Xt&&Xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},An=Rc(Q),O6=Rc(Q1),ds=Rc(N6),L0=Rc(P6),L6=function(t){C6(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var c,d,h,f;o==="text-change"?(d=(c=r).onEditorChangeText)===null||d===void 0||d.call(c,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((f=(h=r).onEditorChangeSelection)===null||f===void 0||f.call(h,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(An.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(An.default.Children.count(n.children)){var i=An.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),R6(this.cleanProps,this.dirtyProps).some(function(l){return!ds.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!ds.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(o),j0(function(){return i.setEditorSelection(c,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new L0.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?ds.default(n.ops,r.ops):ds.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),j0(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=O6.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return An.default.Children.count(i)?An.default.cloneElement(An.default.Children.only(i),a):o?An.default.createElement("pre",Bu({},a)):An.default.createElement("div",Bu({},a))},e.prototype.render=function(){var n;return An.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,c,d;if(this.editor){var h=this.getEditorSelection(),f=!h&&n,m=h&&!n;ds.default(n,h)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),f?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):m&&((d=(c=this.props).onBlur)===null||d===void 0||d.call(c,h,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=L0.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(An.default.Component);function j0(t){Promise.resolve().then(t)}var j6=L6;const D6=D0(j6),M6=100,V6=800,F6=200,U6=({value:t,onChange:e,placeholder:n="Enter content here...",style:r={},className:i="mt-1"})=>{const o=Q.useRef(null),[s,a]=Q.useState(F6);Q.useEffect(()=>{var v,E;const d=(v=o.current)==null?void 0:v.getEditor(),h=(E=d==null?void 0:d.getModule("toolbar"))==null?void 0:E.container;if(!h)return;let f=0;const m=p=>{p.target.closest(".ql-picker")&&(f=window.scrollY)},w=p=>{p.target.closest(".ql-picker")&&setTimeout(()=>{window.scrollY!==f&&window.scrollTo(window.scrollX,f)},0)};return h.addEventListener("mousedown",m),h.addEventListener("mouseup",w),()=>{h.removeEventListener("mousedown",m),h.removeEventListener("mouseup",w)}},[]);const l=Q.useMemo(()=>({toolbar:{container:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]],handlers:{image:function(){var _;const d=(_=o.current)==null?void 0:_.getEditor();if(!d){console.error("Quill editor instance not found.");return}const h=d.getSelection(!0);if(!h)return;const f=d.theme.tooltip,m=f.save,w=f.action;f.edit();const v=f.textbox;if(!v){console.error("Tooltip input element not found."),f.hide();return}v.value="",v.setAttribute("placeholder","Enter image URL"),v.setAttribute("data-mode","image");const E=()=>{var N;const y=v.value;y&&d.insertEmbed(h.index,"image",y,"user"),f.hide(),f.save=m,f.action=w,v.removeEventListener("keydown",p),(N=f.root.querySelector("a.ql-action"))==null||N.removeEventListener("click",E)},p=y=>{var N;y.key==="Enter"?(y.preventDefault(),E()):y.key==="Escape"&&(y.preventDefault(),f.hide(),f.save=m,f.action=w,v.removeEventListener("keydown",p),(N=f.root.querySelector("a.ql-action"))==null||N.removeEventListener("click",E))};f.save=E,v.removeEventListener("keydown",p),v.addEventListener("keydown",p);const g=f.root.querySelector("a.ql-action");g?(g.removeEventListener("click",E),g.addEventListener("click",E)):console.warn("Tooltip save button (a.ql-action) not found."),v.focus()}}}}),[]),c=Q.useMemo(()=>["header","font","size","bold","italic","underline","strike","blockquote","code-block","list","bullet","script","indent","direction","align","color","background","link","image","video"],[]);return k.jsxs("div",{className:`quill-editor-container ${i}`,children:[k.jsx("div",{className:"quill-editor-wrapper border border-gray-300 rounded-md overflow-hidden",style:{...r,height:`${s}px`,display:"flex",flexDirection:"column"},children:k.jsx(D6,{theme:"snow",value:t,onChange:e,ref:o,modules:l,formats:c,className:"bg-white flex-grow",placeholder:n,style:{height:"calc(100% - 42px)"}})}),k.jsxs("div",{className:"flex items-center space-x-2 mt-2 text-gray-600",children:[k.jsx(oA,{size:16}),k.jsx("input",{type:"range",min:M6,max:V6,value:s,onChange:d=>a(Number(d.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700","aria-label":"Adjust editor height"}),k.jsx(eA,{size:16}),k.jsxs("span",{className:"text-xs w-12 text-right",children:[s,"px"]})]})]})},B6=({initialData:t,onSubmit:e,onCancel:n,isLoading:r})=>{const[i,o]=Q.useState((t==null?void 0:t.title)||""),[s,a]=Q.useState((t==null?void 0:t.slug)||""),[l,c]=Q.useState((t==null?void 0:t.content)||""),{showToast:d}=Fn();Q.useEffect(()=>{o((t==null?void 0:t.title)||""),a((t==null?void 0:t.slug)||""),c((t==null?void 0:t.content)||"")},[t]);const h=m=>{a(m.target.value.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""))},f=m=>{if(m.preventDefault(),!i||!s||!l){d("Title, Slug, and Content are required.","error");return}e({title:i,slug:s,content:l})};return k.jsxs("form",{onSubmit:f,className:"p-4 border rounded shadow-sm bg-white space-y-4",children:[k.jsx("h3",{className:"text-lg font-medium",children:t!=null&&t.id?"Edit Page":"Add New Page"}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"pageTitle",className:"block text-sm font-medium text-gray-700",children:"Title"}),k.jsx("input",{type:"text",id:"pageTitle",value:i,onChange:m=>o(m.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"pageSlug",className:"block text-sm font-medium text-gray-700",children:"Slug (URL Path, e.g., 'about-us')"}),k.jsx("input",{type:"text",id:"pageSlug",value:s,onChange:h,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",pattern:"^[a-z0-9-]+$",title:"Slug can only contain lowercase letters, numbers, and hyphens."})]}),k.jsxs("div",{className:"relative quill-editor-wrapper",children:[k.jsx("label",{htmlFor:"pageContent",className:"block text-sm font-medium text-gray-700",children:"Content"}),k.jsx(U6,{value:l,onChange:c,placeholder:"Enter page content here..."})]}),k.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[(t==null?void 0:t.id)&&n&&k.jsx("button",{type:"button",onClick:n,disabled:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:"Cancel Edit"}),k.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:r?"Saving...":t!=null&&t.id?"Update Page":"Add Page"})]})]})},$6=({page:t,index:e,pageCount:n,isLoading:r,onEdit:i,onDelete:o,onMoveUp:s,onMoveDown:a})=>k.jsxs("li",{className:"p-4 flex justify-between items-center hover:bg-gray-50",children:[k.jsxs("div",{className:"flex items-center space-x-3",children:[k.jsx("span",{className:"text-xs font-mono text-gray-400 w-6 text-right",children:t.order}),k.jsxs("div",{children:[k.jsx("p",{className:"font-medium text-gray-900",children:t.title}),k.jsxs("p",{className:"text-sm text-gray-500",children:["/",t.slug]})]})]}),k.jsxs("div",{className:"flex items-center space-x-1",children:[k.jsx("button",{onClick:()=>s(e),disabled:r||e===0,className:`p-1 rounded ${r||e===0?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:text-blue-600 hover:bg-blue-100"}`,title:"Move Up",children:k.jsx(Mh,{size:18})}),k.jsx("button",{onClick:()=>a(e),disabled:r||e===n-1,className:`p-1 rounded ${r||e===n-1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:text-blue-600 hover:bg-blue-100"}`,title:"Move Down",children:k.jsx(Dh,{size:18})}),k.jsx("button",{onClick:()=>i(t),disabled:r,className:"p-1 rounded text-gray-500 hover:text-indigo-600 hover:bg-indigo-100 disabled:opacity-50",title:"Edit",children:k.jsx(ra,{size:18})}),t.id&&k.jsx("button",{onClick:()=>o(t.id),disabled:r,className:"p-1 rounded text-gray-500 hover:text-red-600 hover:bg-red-100 disabled:opacity-50",title:"Delete",children:k.jsx(ia,{size:18})})]})]},t.id),q6=()=>{const{pages:t,isLoading:e,isEditing:n,handleFormSubmit:r,handleDelete:i,startEditing:o,resetForm:s,handleMoveUp:a,handleMoveDown:l}=n4();return k.jsxs("div",{className:"space-y-6",children:[k.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Manage Pages"}),k.jsx(B6,{initialData:n?t.find(c=>c.id===n):void 0,onSubmit:r,onCancel:s,isLoading:e},n||"add"),k.jsxs("div",{className:"mt-6 border rounded shadow-sm bg-white",children:[k.jsx("h3",{className:"text-lg font-medium p-4 border-b",children:"Existing Pages"}),e&&!t.length?k.jsx("p",{className:"p-4 text-gray-500",children:"Loading pages..."}):t.length===0?k.jsx("p",{className:"p-4 text-gray-500",children:"No pages found."}):k.jsx("ul",{className:"divide-y divide-gray-200",children:t.map((c,d)=>k.jsx($6,{page:c,index:d,pageCount:t.length,isLoading:e,onEdit:o,onDelete:i,onMoveUp:a,onMoveDown:l},c.id))})]})]})};let Bf=null;console.error("Supabase URL or Anon Key is missing. Cannot initialize client.");const z6=({onUploadSuccess:t,onUploadComplete:e})=>{const[n,r]=Q.useState("idle"),[i,o]=Q.useState(null),[s,a]=Q.useState(null),[l,c]=Q.useState(null),[d,h]=Q.useState(null),[f,m]=Q.useState(!1),[w,v]=Q.useState("Copy Link"),E=Q.useRef(null),{showToast:p}=Fn(),g=()=>{r("idle"),o(null),a(null),c(null),h(null),m(!1),v("Copy Link"),E.current&&(E.current.value="")},_=P=>{if(P&&P.type.startsWith("image/")){o(P),h(null),r("idle"),c(null);const A=URL.createObjectURL(P);a(A),C()}else o(null),a(null),P&&(h("Please select an image file."),p("Please select an image file.","error"))},y=P=>{var A;_(((A=P.target.files)==null?void 0:A[0])??null),P.target&&(P.target.value="")},N=P=>{var A;P.preventDefault(),P.stopPropagation(),m(!1),_(((A=P.dataTransfer.files)==null?void 0:A[0])??null)},O=P=>{P.preventDefault(),P.stopPropagation(),m(!0)},x=P=>{P.preventDefault(),P.stopPropagation(),P.currentTarget.contains(P.relatedTarget)||m(!1)},b=()=>{var P;(P=E.current)==null||P.click()},C=async P=>{{h("Supabase client is not initialized."),r("error"),p("Supabase client not initialized.","error"),e==null||e();return}};return{status:n,selectedFile:i,previewUrl:s,uploadedUrl:l,error:d,isDragging:f,copyButtonText:w,fileInputRef:E,handleInputChange:y,handleDrop:N,handleDragOver:O,handleDragLeave:x,triggerFileInput:b,handleCopyLink:async()=>{if(l)try{await navigator.clipboard.writeText(l),v("Copied!"),setTimeout(()=>v("Copy Link"),2e3)}catch(P){console.error("Failed to copy:",P);const A="Failed to copy link to clipboard.";h(A),p(A,"error")}},resetState:g,handleUrlUpload:async P=>{{h("Supabase client is not initialized."),r("error"),p("Supabase client not initialized.","error"),e==null||e();return}}}},H6=({onFileSelect:t})=>{const[e,n]=Q.useState([]),[r,i]=Q.useState(!0),[o,s]=Q.useState(null),[a,l]=Q.useState(null),[c,d]=Q.useState(null),[h,f]=Q.useState(""),[m,w]=Q.useState(null),[v,E]=Q.useState([]),{showToast:p,requestConfirmation:g}=Fn(),_=Q.useCallback(A=>null,[]),y=Q.useCallback(async()=>{i(!0),s(null);{s("Supabase client not initialized."),i(!1);return}},[p]);Q.useEffect(()=>{y()},[y]);const N=(A,D)=>{E(U=>D?U.includes(A)?U:[...U,A]:U.filter(z=>z!==A))},O=()=>{if(!t||v.length===0)return;let A=[],D=[];v.forEach(U=>{const z=_(U);z?(t(z),A.push(z)):(D.push(U),console.error("Could not get public URL for selected file:",U))}),D.length>0&&p(`Failed to get URLs for: ${D.map(U=>U.split("/").pop()).join(", ")}`,"error"),A.length>0&&(p(`${A.length} URL(s) selected successfully.`,"success"),E([]))},x=Q.useCallback(async A=>{{p("Supabase client not initialized.","error");return}},[Bf,p,g,y]),b=Q.useCallback(async()=>{},[Bf,v,p,g,y]),C=Q.useCallback(async A=>{const D=_(A),U=A;if(!D){l({fileId:U,message:"Error!"}),setTimeout(()=>l(null),2e3),p("Could not get public URL.","error");return}try{await navigator.clipboard.writeText(D),l({fileId:U,message:"Copied!"}),setTimeout(()=>l(null),2e3)}catch(z){console.error("Failed to copy history link:",z),l({fileId:U,message:"Failed!"}),setTimeout(()=>l(null),2e3),p("Failed to copy link.","error")}},[_,p]),T=(A,D)=>{d(A);const U=D.substring(0,D.lastIndexOf("."));f(U),w(null)},S=()=>{d(null),f(""),w(null)},P=Q.useCallback(async A=>{{w("Supabase client not initialized."),p("Supabase client not initialized.","error");return}},[Bf,h,y,p]);return{fileHistory:e,historyLoading:r,historyError:o,historyCopyStatus:a,editingFileId:c,newName:h,renameError:m,selectedHistoryFiles:v,fetchHistory:y,handleHistorySelectionChange:N,handleUseSelected:O,handleDeleteFile:x,handleDeleteSelected:b,handleCopyHistoryLink:C,handleEditClick:T,handleCancelEdit:S,handleSaveRename:P,setNewName:f,getPublicUrl:_}},W6=({isDragging:t,error:e,previewUrl:n,fileInputRef:r,handleDrop:i,handleDragOver:o,handleDragLeave:s,triggerFileInput:a,handleInputChange:l,handleUrlUpload:c})=>{const[d,h]=Q.useState(""),f=()=>{d.trim()&&(c(d.trim()),h(""))};return k.jsxs("div",{className:`w-full max-w-md bg-white rounded-xl shadow-lg p-6 text-center transition-all duration-300 ${t?"border-blue-500 border-2":"border-gray-200 border"}`,onDrop:i,onDragOver:o,onDragLeave:s,children:[k.jsx("h2",{className:"text-lg font-medium text-gray-700 mb-2",children:"Upload your image"}),k.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"File should be Jpeg, Png,..."}),k.jsx("div",{className:`relative bg-gray-50 border-2 border-dashed rounded-xl p-4 mb-6 transition-colors duration-300 min-h-[150px] flex flex-col items-center justify-center ${e?"border-red-500":t?"border-blue-400":"border-gray-300"} ${t?"bg-blue-50":""}`,children:n?k.jsx("img",{src:n,alt:"Image preview",className:"max-h-36 max-w-full object-contain rounded"}):k.jsxs(k.Fragment,{children:[k.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:k.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),k.jsx("p",{className:"text-sm text-gray-500",children:"Drag & Drop your image here"})]})}),k.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Or"}),k.jsx("button",{onClick:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-300",children:"Choose a file"}),k.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:l,className:"hidden","aria-label":"File input"}),e&&k.jsx("p",{className:"text-red-500 text-sm mt-4",children:e}),k.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[k.jsx("p",{className:"text-sm text-gray-500 mb-3 text-center",children:"Or paste image URL"}),k.jsxs("div",{className:"flex items-center space-x-2",children:[k.jsx("input",{type:"text",value:d,onChange:m=>h(m.target.value),placeholder:"https://example.com/image.png",className:`flex-grow px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:border-transparent text-sm ${e?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,"aria-label":"Image URL input"}),k.jsx("button",{onClick:f,disabled:!d.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Upload URL"})]})]})]})},K6=({status:t,previewUrl:e,uploadedUrl:n,error:r,copyButtonText:i,handleCopyLink:o,resetState:s})=>{const a=d=>k.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-lg p-6 text-center relative",children:[e&&k.jsx("div",{className:"mb-4 rounded-xl overflow-hidden border border-gray-200 opacity-50",children:k.jsx("img",{src:e,alt:"Processing preview",className:"max-w-full max-h-48 object-contain mx-auto"})}),k.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center bg-white bg-opacity-75 rounded-xl ${e?"":"relative"}`,children:[k.jsxs("svg",{className:"animate-spin mx-auto h-10 w-10 text-blue-600 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),k.jsx("h2",{className:"text-lg font-medium text-gray-700",children:d})]})]}),l=()=>k.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-lg p-6 text-center",children:[k.jsx("svg",{className:"mx-auto h-10 w-10 text-green-500 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),k.jsx("h2",{className:"text-lg font-medium text-gray-700 mb-4",children:"Uploaded Successfully!"}),e&&k.jsx("div",{className:"mb-6 rounded-xl overflow-hidden border border-gray-200",children:k.jsx("img",{src:e,alt:"Uploaded preview",className:"max-w-full max-h-64 object-contain mx-auto"})}),k.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg p-2 bg-gray-50 mb-4",children:[k.jsx("input",{type:"text",value:n??"",readOnly:!0,className:"flex-grow text-xs text-gray-700 bg-transparent border-none focus:ring-0 p-1 truncate","aria-label":"Uploaded image link"}),k.jsx("button",{onClick:o,className:"ml-2 px-4 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors duration-300 flex-shrink-0",children:i})]}),k.jsx("button",{onClick:s,className:"text-sm text-blue-600 hover:underline",children:"Upload another image"})]}),c=()=>k.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-lg p-6 text-center",children:[k.jsx("svg",{className:"mx-auto h-10 w-10 text-red-500 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),k.jsx("h2",{className:"text-lg font-medium text-gray-700 mb-2",children:"Upload Failed"}),k.jsx("p",{className:"text-red-500 text-sm mb-6",children:r||"An unknown error occurred."}),e&&k.jsx("div",{className:"mb-4 rounded-xl overflow-hidden border border-gray-200 opacity-70",children:k.jsx("img",{src:e,alt:"Upload failed preview",className:"max-w-full max-h-48 object-contain mx-auto"})}),k.jsx("button",{onClick:s,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-300",children:"Try Again"})]});switch(t){case"fetching_url":return a("Fetching image from URL...");case"uploading":return a("Uploading...");case"success":return l();case"error":return c();default:return null}},G6=(t,e=2)=>{if(t===0)return"0 Bytes";const n=1024,r=e<0?0:e,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,o)).toFixed(r))+" "+i[o]},Q6=({fileHistory:t,historyLoading:e,historyError:n,selectedHistoryFiles:r,editingFileId:i,newName:o,renameError:s,historyCopyStatus:a,getPublicUrl:l,handleHistorySelectionChange:c,handleUseSelected:d,handleDeleteSelected:h,handleCopyHistoryLink:f,handleEditClick:m,handleCancelEdit:w,handleSaveRename:v,handleDeleteFile:E,setNewName:p})=>{if(e)return k.jsx("div",{className:"text-center p-4",children:"Loading history..."});if(n)return k.jsxs("div",{className:"text-center p-4 text-red-600",children:["Error loading history: ",n]});const g=_=>`public/${_.name}`;return k.jsxs("div",{className:"mt-8 border-t pt-6",children:[k.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Image History"}),r.length>0&&k.jsxs("div",{className:"mb-4 p-3 bg-gray-100 rounded-md flex items-center justify-between",children:[k.jsxs("span",{className:"text-sm text-gray-700",children:[r.length," file(s) selected"]}),k.jsxs("div",{children:[k.jsx("button",{onClick:d,className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors mr-2",title:"Use selected image URL(s)",children:"Use Selected"}),k.jsx("button",{onClick:h,className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors",title:"Delete selected files",children:"Delete Selected"})]})]}),t.length===0?k.jsx("p",{className:"text-gray-500 text-sm text-center",children:"No images uploaded yet."}):k.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 max-h-[500px] overflow-y-auto p-1",children:[t.map(_=>{var C;const y=g(_),N=l(y),O=r.includes(y),x=i===y,b=(a==null?void 0:a.fileId)===y?a.message:"Copy Link";return k.jsxs("div",{className:`relative group bg-white rounded-lg shadow-sm border transition-colors flex flex-col overflow-hidden ${O?"border-blue-500 ring-2 ring-blue-300":"border-gray-200 hover:border-gray-300"}`,children:[k.jsx("input",{type:"checkbox",checked:O,onChange:T=>c(y,T.target.checked),className:"absolute top-2 left-2 z-10 form-checkbox h-4 w-4 text-blue-600 bg-white border-gray-400 rounded focus:ring-blue-500 focus:ring-offset-0 checked:border-transparent","aria-label":`Select ${_.name}`,onClick:T=>T.stopPropagation()}),k.jsx("div",{className:"relative w-full aspect-square bg-gray-100 flex items-center justify-center overflow-hidden",children:N?k.jsx("img",{src:N,alt:_.name,className:"absolute inset-0 h-full w-full object-cover transition-transform group-hover:scale-105"}):k.jsx("div",{className:"h-full w-full bg-gray-200 flex items-center justify-center text-gray-400",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),k.jsx("div",{className:"p-2 flex flex-col flex-grow",children:x?k.jsxs("div",{className:"flex flex-col space-y-1 flex-grow",children:[k.jsx("input",{type:"text",value:o,onChange:T=>p(T.target.value),className:"text-xs p-1 border border-gray-300 rounded w-full focus:ring-1 focus:ring-blue-500 focus:border-blue-500","aria-label":"New file name",onClick:T=>T.stopPropagation()}),s&&k.jsx("p",{className:"text-red-500 text-xs mt-1",children:s}),k.jsxs("div",{className:"flex justify-end space-x-1 mt-auto pt-1",children:[k.jsx("button",{onClick:T=>{T.stopPropagation(),v(y)},className:"text-xs text-green-600 hover:text-green-800 p-0.5",title:"Save",children:"✓"}),k.jsx("button",{onClick:T=>{T.stopPropagation(),w()},className:"text-xs text-red-600 hover:text-red-800 p-0.5",title:"Cancel",children:"✕"})]})]}):k.jsxs(k.Fragment,{children:[k.jsx("p",{className:"text-xs font-medium text-gray-700 truncate mb-0.5",title:_.name,children:_.name}),k.jsxs("p",{className:"text-xxs text-gray-500 mb-1",children:[" ",G6(((C=_.metadata)==null?void 0:C.size)??0)," - ",_.created_at?new Date(_.created_at).toLocaleDateString():"Invalid Date"]}),k.jsxs("div",{className:"mt-auto pt-1 flex items-center justify-between space-x-1",children:[k.jsxs("button",{onClick:T=>{T.stopPropagation(),f(y)},className:`text-xxs px-1.5 py-0.5 rounded transition-colors flex-grow text-center ${b==="Copied!"?"bg-green-100 text-green-700":b==="Failed!"||b==="Error!"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,disabled:b!=="Copy Link",title:"Copy image URL",children:[b==="Copy Link"?"Copy":b," "]}),k.jsx("button",{onClick:T=>{T.stopPropagation(),m(y,_.name)},className:"text-gray-500 hover:text-gray-700 p-0.5",title:"Rename file",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),k.jsx("button",{onClick:T=>{T.stopPropagation(),E(y)},className:"text-red-500 hover:text-red-700 p-0.5",title:"Delete file",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})})]},y)})," "]})]})},Y6=({onUploadSuccess:t})=>{const e=H6({onFileSelect:t}),n=z6({onUploadSuccess:r=>{t==null||t(r),e.fetchHistory()}});return k.jsxs("div",{className:"space-y-6",children:[n.status==="idle"?k.jsx(W6,{isDragging:n.isDragging,error:n.error,previewUrl:n.previewUrl,fileInputRef:n.fileInputRef,handleDrop:n.handleDrop,handleDragOver:n.handleDragOver,handleDragLeave:n.handleDragLeave,triggerFileInput:n.triggerFileInput,handleInputChange:n.handleInputChange,handleUrlUpload:n.handleUrlUpload}):k.jsx(K6,{status:n.status,previewUrl:n.previewUrl,uploadedUrl:n.uploadedUrl,error:n.error,copyButtonText:n.copyButtonText,handleCopyLink:n.handleCopyLink,resetState:n.resetState}),k.jsx(Q6,{fileHistory:e.fileHistory,historyLoading:e.historyLoading,historyError:e.historyError,selectedHistoryFiles:e.selectedHistoryFiles,editingFileId:e.editingFileId,newName:e.newName,renameError:e.renameError,historyCopyStatus:e.historyCopyStatus,getPublicUrl:e.getPublicUrl,handleHistorySelectionChange:e.handleHistorySelectionChange,handleUseSelected:e.handleUseSelected,handleDeleteSelected:e.handleDeleteSelected,handleCopyHistoryLink:e.handleCopyHistoryLink,handleEditClick:e.handleEditClick,handleCancelEdit:e.handleCancelEdit,handleSaveRename:e.handleSaveRename,handleDeleteFile:e.handleDeleteFile,setNewName:e.setNewName})]})},Wl=(t,e,n,r,i,o,s)=>e.length===1&&e[0]==="projects"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?k.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded",children:[k.jsxs("div",{className:"flex justify-between items-center mb-3",children:[k.jsx("h4",{className:"text-lg font-semibold capitalize",children:String(e[0]).replace(/([A-Z])/g," $1")}),o]}),Object.entries(t).map(([a,l])=>{if(a!=="title"&&typeof l=="object"&&l!==null&&!Array.isArray(l)){const c=[...e,a];return k.jsxs("div",{className:"mb-6 p-4 bg-white border border-gray-200 rounded-lg shadow-sm relative",children:[k.jsxs("div",{className:"flex justify-between items-start mb-3",children:[" ",k.jsxs("h5",{className:"text-lg font-semibold text-gray-700 mr-4",children:["Project: ",k.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:a})]}),s&&k.jsx("button",{onClick:()=>{window.confirm(`Are you sure you want to delete project "${a}"?`)&&s(c)},className:"bg-red-500 hover:bg-red-600 text-white text-xs font-bold py-1 px-2 rounded focus:outline-none focus:shadow-outline transition-colors duration-150","aria-label":`Delete project ${a}`,children:"Delete Project"})]}),k.jsxs("div",{className:"space-y-4",children:[" ",Wl(l,c,n,r,i,void 0,s)]})]},c.join("."))}else if(a==="title"&&typeof l=="string"){const c=[...e,a],d=c.join("."),h=r===d;return k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700 capitalize mb-1",children:a.replace(/([A-Z])/g," $1")}),h?k.jsx("input",{type:"text",id:d,name:d,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",value:l,onChange:f=>n(c,f.target.value),onBlur:()=>i(null),autoFocus:!0}):k.jsx("div",{className:"mt-1 block w-full rounded-md border border-transparent p-2 cursor-pointer hover:bg-gray-100 min-h-[38px]",onClick:()=>i(d),children:l||k.jsx("span",{className:"text-gray-400 italic",children:"Click to edit..."})})]},d)}return null})]},e.join(".")):Object.entries(t).map(([a,l])=>{const c=[...e,a],d=c.map(String).join("."),h=r===d;return typeof l=="string"?k.jsxs("div",{className:"mb-4 px-1 sm:px-0",children:[k.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700 capitalize mb-1",children:a.replace(/([A-Z])/g," $1")}),h?k.jsx("textarea",{id:d,name:d,rows:l.length>100?4:2,className:"block w-full flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 bg-white",value:l,onChange:f=>n(c,f.target.value),onBlur:()=>i(null),autoFocus:!0}):k.jsx("div",{className:"block w-full flex-1 rounded-md border border-gray-200 bg-gray-50 p-2 cursor-pointer hover:bg-gray-100 min-h-[50px] whitespace-pre-wrap text-gray-800",onClick:()=>i(d),children:l||k.jsx("span",{className:"text-gray-400 italic",children:"Click to edit..."})})]},d):typeof l=="object"&&l!==null&&!Array.isArray(l)?k.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded",children:[k.jsx("h4",{className:"text-lg font-semibold mb-3 capitalize",children:String(a).replace(/([A-Z])/g," $1")}),Wl(l,c,n,r,i,void 0,s)]},d):Array.isArray(l)?k.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-white shadow-sm",children:[k.jsx("h4",{className:"text-lg font-semibold mb-3 capitalize text-gray-700",children:String(a).replace(/([A-Z])/g," $1")}),k.jsxs("div",{className:"space-y-3",children:[" ",l.map((f,m)=>{const w=[...c,m],v=w.map(String).join("."),E=r===v;return typeof f=="string"?k.jsxs("div",{className:"flex items-center space-x-2",children:[E?k.jsx("input",{type:"text",id:v,name:v,className:"flex-grow rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 bg-white",value:f,onChange:p=>n(w,p.target.value),onBlur:()=>i(null),autoFocus:!0}):k.jsx("div",{className:"flex-grow rounded-md border border-gray-200 bg-gray-50 p-2 cursor-pointer hover:bg-gray-100 min-h-[38px] text-gray-800",onClick:()=>i(v),children:f||k.jsx("span",{className:"text-gray-400 italic",children:"Click to edit..."})}),s&&k.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this item?")&&s(w)},className:"bg-red-400 hover:bg-red-600 text-white text-xs font-bold py-1 px-2 rounded focus:outline-none focus:shadow-outline transition-colors duration-150","aria-label":`Delete item ${m+1}`,children:"Delete"})]},v):typeof f=="object"&&f!==null?k.jsxs("div",{className:"mb-4 p-3 border border-gray-100 rounded relative",children:[" ",k.jsxs("div",{className:"flex justify-between items-center mb-2",children:[" ",k.jsxs("h5",{className:"text-md font-medium",children:["Item ",m+1]}),s&&k.jsx("button",{onClick:()=>{window.confirm(`Are you sure you want to delete Item ${m+1}?`)&&s(w)},className:"bg-red-400 hover:bg-red-600 text-white text-xs font-bold py-0.5 px-1.5 rounded focus:outline-none focus:shadow-outline","aria-label":`Delete item ${m+1}`,children:"Delete"})]}),Wl(f,w,n,r,i,void 0,s)]},v):null})]})," "]},d):null}),X6=t=>t===null?!1:t in Pn.en,bl={pageViews:"1,234",totalPages:"12",comments:"45",averageRating:"4.8"},J6=()=>k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[k.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsx("h3",{className:"text-gray-700 font-semibold",children:"Page Views"}),k.jsx(RI,{className:"text-blue-500",size:20})]}),k.jsx("p",{className:"text-2xl font-bold text-gray-900",children:bl.pageViews}),k.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Last 30 days"})]}),k.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsx("h3",{className:"text-gray-700 font-semibold",children:"Total Pages"}),k.jsx(dw,{className:"text-green-500",size:20})]}),k.jsx("p",{className:"text-2xl font-bold text-gray-900",children:bl.totalPages}),k.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Published content"})]}),k.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsx("h3",{className:"text-gray-700 font-semibold",children:"Comments"}),k.jsx(rA,{className:"text-purple-500",size:20})]}),k.jsx("p",{className:"text-2xl font-bold text-gray-900",children:bl.comments}),k.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Awaiting response"})]}),k.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsx("h3",{className:"text-gray-700 font-semibold",children:"Average Rating"}),k.jsx(gA,{className:"text-yellow-500",size:20})]}),k.jsx("p",{className:"text-2xl font-bold text-gray-900",children:bl.averageRating}),k.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Based on feedback"})]})]}),Z6=({activeTab:t,isLoading:e,translations:n,editingPath:r,setEditingPath:i,handleInputChange:o,handleAddNewProject:s,handleAddNewService:a,handleDeleteItem:l})=>{if(e)return k.jsx("div",{className:"flex items-center justify-center py-10",children:k.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})});if(!t||t==="dashboard")return J6();if(t==="socialLinks")return k.jsx(e4,{});if(t==="pages")return k.jsx(q6,{});if(t==="media")return k.jsx(Y6,{});if(X6(t)){const c=Mu(t);return k.jsxs(k.Fragment,{children:[k.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700 capitalize",children:c}),t==="projects"?k.jsx(YL,{data:n.en.projects,path:t?[t]:[],handleChange:o,handleAddProject:s,handleDelete:l}):t==="services"?k.jsx(XL,{data:n.en.services,path:t?[t]:[],handleChange:o,handleAddService:a,handleDelete:l}):t==="generalInfo"?k.jsx(t4,{translations:n,handleInputChange:o,editingPath:r,setEditingPath:i,getStaticSectionName:Mu}):Wl(n.en[t],[t],o,r,i,void 0,l)]})}return k.jsxs("p",{className:"text-red-500",children:["Error: Invalid tab '",t,"' selected."]})},eV=[{icon:k.jsx(zI,{size:20}),label:"Dashboard",tab:"dashboard"},{icon:k.jsx(dw,{size:20}),label:"Pages",tab:"pages"},{icon:k.jsx(jI,{size:20}),label:"Projects",tab:"projects"},{icon:k.jsx(EI,{size:20}),label:"Services",tab:"services"},{icon:k.jsx(BI,{size:20}),label:"Media",tab:"media"},{icon:k.jsx(WI,{size:20}),label:"Social Links",tab:"socialLinks"},{icon:k.jsx(dA,{size:20}),label:"Settings",tab:"generalInfo"}],tV=()=>{const t=dp(),[e,n]=Q.useState(!1),[r,i]=Q.useState(()=>{const y=localStorage.getItem("desktopSidebarCollapsed");return y?JSON.parse(y):!1}),[o,s]=Q.useState(window.innerWidth<768);Q.useEffect(()=>{const y=()=>{const N=window.innerWidth<768;s(N),N||n(!1)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),Q.useEffect(()=>{o||localStorage.setItem("desktopSidebarCollapsed",JSON.stringify(r))},[r,o]);const{translations:a,isLoading:l,saveStatus:c,handleInputChange:d,handleAddNewProject:h,handleAddNewService:f,saveChanges:m,handleDeleteItem:w}=KL();Q.useEffect(()=>{const y=async()=>{console.log("Attempting to update Firestore structure with defaults..."),window.confirm("Update Firestore 'translations/en' document with the current default structure? This will add missing sections like 'hero' and 'footer'. Existing data in those sections will be overwritten if they exist.")?(await m({useDefaults:!0}),alert("Firestore structure update initiated. Check console/toast for status.")):console.log("Firestore structure update cancelled by user.")};localStorage.getItem("firestoreStructureUpdated_v1")?console.log("Firestore structure update already performed."):y().then(()=>{localStorage.setItem("firestoreStructureUpdated_v1","true")})},[]);const[v,E]=Q.useState("dashboard"),[p,g]=Q.useState(null),_=async()=>{if(!yn){console.error("Firebase auth instance is not available."),alert("Logout service unavailable. Please try again later.");return}try{await pP(yn),t("/admin/login")}catch(y){console.error("Logout failed:",y),alert("Failed to log out. Please try again.")}};return k.jsxs("div",{className:"min-h-screen bg-gray-100",children:[k.jsx(GL,{isMobile:o,isSidebarOpen:e,isDesktopSidebarCollapsed:r,onToggleMobileSidebar:()=>n(!e),onToggleDesktopSidebar:()=>i(!r),onLogout:_}),k.jsxs("div",{className:"flex pt-16",children:[k.jsx(QL,{isMobile:o,isSidebarOpen:e,isDesktopSidebarCollapsed:r,activeTab:v,navItems:eV,onTabClick:y=>{E(y),o&&n(!1)},onCloseMobileSidebar:()=>n(!1)}),k.jsx("main",{className:`flex-1 transition-all duration-300 ${o?"ml-0":r?"md:ml-20":"md:ml-64"}`,children:k.jsxs("div",{className:"p-4 md:p-8",children:[k.jsxs("div",{className:"mb-4 md:mb-6",children:[k.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:v?Mu(v):"Dashboard"}),k.jsxs("p",{className:"text-sm text-gray-500",children:["Home / ",v?Mu(v):"Dashboard"]})]}),k.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:k.jsx(Z6,{activeTab:v,isLoading:l,translations:a,editingPath:p,setEditingPath:g,handleInputChange:d,handleAddNewProject:h,handleAddNewService:f,handleDeleteItem:w})}),v&&v!=="styleEditor"&&v!=="socialLinks"&&v!=="pages"&&k.jsxs("div",{className:"mt-6 flex justify-end items-center gap-4",children:[c&&k.jsx("span",{className:"text-green-600 text-sm",children:c}),k.jsx("button",{onClick:()=>m(),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-colors",disabled:l,children:"Save Changes"})]})]})})]})]})},nV=t=>{const n=/[A-Z]/.test(t),r=/[a-z]/.test(t),i=/\d/.test(t),o=/[!@#$%^&*(),.?":{}|<>]/.test(t);return t.length>=8&&n&&r&&i&&o},rV=()=>{const[t,e]=Q.useState(""),[n,r]=Q.useState(""),[i,o]=Q.useState(""),[s,a]=Q.useState(!1),l=dp();Q.useEffect(()=>{const d=setTimeout(()=>{yn&&yn.signOut()},18e5);return()=>clearTimeout(d)},[]),Q.useEffect(()=>{if(!yn)return;const d=Zw(yn,h=>{h&&l("/admin",{replace:!0})});return()=>d()},[l]);const c=async d=>{if(d.preventDefault(),o(""),a(!0),!t.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){o("Please enter a valid email address"),a(!1);return}if(!nV(n)){o("Password must be at least 8 characters long and contain uppercase, lowercase, numbers, and special characters"),a(!1);return}if(!yn){o("Authentication service is not available."),a(!1);return}try{await fP(yn,t,n)}catch(h){let f="Failed to log in. Please check your credentials.";if(h.code)switch(h.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":f="Invalid email or password.";break;case"auth/invalid-email":f="Invalid email format.";break;case"auth/too-many-requests":f="Too many failed attempts. Please try again later.";break;default:console.error("Firebase Login error:",h)}o(f)}finally{a(!1)}};return k.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:k.jsxs("div",{className:"p-8 bg-white rounded shadow-md w-full max-w-sm",children:[k.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Admin Login"}),k.jsxs("form",{onSubmit:c,children:[k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),k.jsx("input",{type:"email",id:"email",value:t,onChange:d=>e(d.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0,disabled:s})]}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),k.jsx("input",{type:"password",id:"password",value:n,onChange:d=>r(d.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0,disabled:s})]}),i&&k.jsx("p",{className:"text-red-500 text-xs italic mb-4",children:i}),k.jsx("div",{className:"flex items-center justify-between",children:k.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full disabled:opacity-50",disabled:s,children:s?"Logging in...":"Login"})})]})]})})},iV=({children:t})=>{const[e,n]=Q.useState(null),[r,i]=Q.useState(!0);return Q.useEffect(()=>{if(!yn){console.error("ProtectedRoute: Firebase auth is not initialized."),i(!1);return}const o=Zw(yn,s=>{n(s),i(!1)});return()=>o()},[]),r?k.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900",children:k.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"})}):e?k.jsx(k.Fragment,{children:t}):k.jsx(iI,{to:"/admin/login",replace:!0})};function oV(){return k.jsxs(PA,{children:[" ",k.jsx(uI,{children:k.jsxs(sI,{children:[k.jsx(jl,{path:"/",element:k.jsx(qL,{})}),k.jsx(jl,{path:"/login",element:k.jsx(rV,{})}),k.jsx(jl,{path:"/admin/*",element:k.jsx(iV,{children:k.jsx(tV,{})})})]})})]})}Y1(document.getElementById("root")).render(k.jsx(Q.StrictMode,{children:k.jsx(oV,{})}));
